{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///(webpack)/buildin/module.js","webpack:///(webpack)/buildin/amd-define.js","webpack:///./src/main.ts","webpack:///./lib/ace-builds/src-noconflict/ace.js","webpack:///./lib/ace-builds/src-noconflict/ext-language_tools.js","webpack:///./src/lib.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","webpackPolyfill","deprecate","paths","children","Error","$","selector","document","querySelector","main","initCanvas","config","canvas","width","height","renderCaller","code","_userConfig","background","Color","transparent","normalizedInput","render","func","ctx","getContext","data","getImageData","imgY","imgX","pos","vec2","color","x","y","idx","Math","floor","g","b","a","Array","putImageData","eval","init","ace","set","editor","edit","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","autoScrollEditorIntoView","hScrollBarAlwaysVisible","vScrollBarAlwaysVisible","fontSize","fontFamily","setTheme","session","setMode","fetch","then","response","text","getDocument","setValue","lib","addEventListener","getValue","window","onload","global","this","define","deps","payload","arguments","length","payloads","original","apply","console","error","trace","root","_require","parentId","callback","lookup","undefined","toString","params","dep","require","push","packagedModule","normalizeModule","moduleName","indexOf","chunks","split","charAt","slice","join","previous","replace","mod","id","uri","packaged","Element","remove","writable","configurable","parentNode","removeChild","OS","LINUX","MAC","WINDOWS","getOS","isMac","isLinux","_navigator","navigator","os","exec","platform","toLowerCase","ua","userAgent","appName","isWin","isIE","parseFloat","match","isOldIE","isGecko","isMozilla","isOpera","opera","isWebKit","isChrome","isEdge","isAIR","isAndroid","isChromeOS","isIOS","test","MSStream","isMobile","useragent","buildDom","arr","parent","refs","txt","createTextNode","appendChild","isArray","els","ch","el","createElement","options","childIndex","keys","forEach","val","className","setAttribute","getDocumentHead","doc","head","getElementsByTagName","documentElement","tag","createElementNS","removeChildren","element","innerHTML","textContent","ownerDocument","createFragment","createDocumentFragment","hasCssClass","addCssClass","removeCssClass","classes","index","splice","toggleCssClass","add","setCssClass","node","include","hasCssString","sheets","querySelectorAll","importCssString","cssText","target","container","getRootNode","style","insertBefore","firstChild","importCssStylsheet","rel","href","scrollbarWidth","inner","minWidth","display","outer","position","left","overflow","body","noScrollbar","offsetWidth","withScrollbar","clientWidth","computedStyle","getComputedStyle","setStyle","styles","HAS_CSS_ANIMATION","HAS_CSS_TRANSFORMS","HI_DPI","devicePixelRatio","div","transform","animationName","translate","tx","ty","round","top","inherits","ctor","superCtor","super_","constructor","mixin","obj","implement","proto","oop","Keys","ret","MODIFIER_KEYS","16","17","18","224","91","92","93","KEY_MODS","FUNCTION_KEYS","8","9","13","19","27","32","33","34","35","36","37","38","39","40","44","45","46","96","97","98","99","100","101","102","103","104","105","112","113","114","115","116","117","118","119","120","121","122","123","144","145","PRINTABLE_KEYS","48","49","50","51","52","53","54","55","56","57","59","61","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","107","109","110","186","187","188","189","190","191","192","219","220","221","222","111","106","parseInt","enter","escape","esc","del","mods","pow","filter","keyCodeToString","keyCode","keyString","String","fromCharCode","activeListenerOptions","pressedKeys","ts","getListenerOptions","createComment","passive","e","detectListenerOptionsSupport","EventListener","elem","type","destroy","removeListener","addListener","destroyer","$toDestroy","removeEventListener","stopEvent","stopPropagation","preventDefault","getButton","ctrlKey","altKey","shiftKey","button","capture","eventHandler","releaseCaptureHandler","onMouseUp","addMouseWheelListener","wheelDeltaX","wheelX","wheelY","wheelDeltaY","wheelDelta","deltaMode","DOM_DELTA_PIXEL","deltaX","deltaY","DOM_DELTA_LINE","DOM_DELTA_PAGE","axis","HORIZONTAL_AXIS","detail","addMultiMouseDownListener","elements","timeouts","callbackName","startX","startY","timer","clicks","eventNames","2","3","4","onMousedown","isNewClick","abs","clientX","clientY","clearTimeout","setTimeout","_clicks","getModifierHash","metaKey","normalizeCommandKeys","hashId","getModifierState","altGr","location","keyLocation","timeStamp","defaultPrevented","resetPressedKeys","getModifierString","addCommandKeyListener","isOldGecko","lastKeyDownKeyCode","lastDefaultPrevented","result","postMessage","postMessageId","nextTick","win","messageName","listener","$idleBlocked","onIdle","cb","timeout","handler","$idleBlockId","blockIdle","delay","nextFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","oRequestAnimationFrame","Range","startRow","startColumn","endRow","endColumn","start","row","column","end","isEqual","range","contains","compare","compareRange","cmp","comparePoint","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","firstRow","lastRow","fromPoints","extend","isEmpty","clone","collapseRows","max","toScreenRange","screenPosStart","documentToScreenPosition","screenPosEnd","moveBy","comparePoints","p1","p2","last","stringReverse","string","reverse","stringRepeat","count","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","copy","copyArray","array","deepCopy","arrayToMap","map","createMap","props","arrayRemove","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","deferred","cancel","schedule","isPending","delayedCall","defaultTimeout","_self","$cancelT","lineMode","pasteCancelled","Date","now","event","dom","lang","clipboard","BROKEN_SETDATA","USE_IE_MIME_TYPE","HAS_FOCUS_ARGS","KEYS","MODS","valueResetRegex","TextInput","host","opacity","copied","pasted","inComposition","sendingText","tempStyle","commandMode","ignoreFocusEvents","lastValue","lastSelectionStart","lastSelectionEnd","lastRestoreEnd","isFocused","activeElement","onBlur","hasFocus","onFocus","resetSelection","$focusScroll","focus","preventScroll","isTransformed","getBoundingClientRect","ancestors","parentElement","nodeType","removeAttribute","blur","on","curOp","commandName","command","isUserAction","docChanged","selectionChanged","onCompositionEnd","newValue","selectionEnd","selection","setSelectionRange","afterContextMenu","selectionStart","line","getRange","cursor","getLine","prevLine","nextLine","inputHandler","setInputHandler","getInputHandler","sendText","fromInput","onPaste","extendLeft","extendRight","inserted","restoreStart","restoreEnd","endIndex","shouldReset","onTextInput","onInput","onCompositionUpdate","inputType","execCommand","MAX_LINE_LENGTH","handleClipboardData","forceIEMime","clipboardData","mime","setData","getData","doCopy","isCut","getCopyText","onCut","onCopy","select","onCommandKey","isAllSelected","selectAll","$readOnly","cancelComposition","useTextareaForIME","markerRange","context","compositionStartOffset","off","closeTimeout","syncComposition","onContextMenuClose","renderer","$isMousePressed","$keepTextAreaAtCursor","$moveTextAreaToCursor","onCompositionStart","_signal","getSelectionRange","msGetInputContext","getInputContext","getElement","setCommandMode","readOnly","setReadOnly","setCopyWithEmptySelection","onContextMenu","_emit","domEvent","moveToMouse","bringToFront","characterWidth","rect","borderTopWidth","borderLeftWidth","maxTop","bottom","clientHeight","move","min","textInput","scroller","typingResetTimeout","typing","detectArrowKeys","$mouseHandler","isMousePressed","modifier","up","home","option","down","right","shift","commands","findKeyCommand","addIosSelectionHandler","$setUserAgentForTests","_isMobile","_isIOS","DefaultHandlers","mouseHandler","$clickSelection","setDefaultHandler","onMouseDown","onDoubleClick","onTripleClick","onQuadClick","onMouseWheel","selectByLines","extendSelectionBy","selectByWords","calcRangeOrientation","anchor","ev","inSelection","getDocumentPosition","mousedownEvent","moveToPosition","time","$focusTimeout","inMultiSelectMode","captureMouse","startSelect","setState","waitForClickSelection","screenToTextCoordinates","getShiftKey","selectToPosition","setCapture","orientedRange","setSelectionAnchor","scrollCursorIntoView","unitName","cmpStart","cmpEnd","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","unsetStyle","releaseCapture","focusWait","ax","ay","bx","by","distance","sqrt","getBracketRange","getWordRange","getLineRange","getAccelKey","$lastScroll","vx","vy","allowed","prevScroll","dt","direction","canScroll","isScrollableBy","speed","scrollBy","stop","Tooltip","isOpen","$element","$parentNode","$init","setText","setHtml","html","setPosition","setClassName","show","hide","getHeight","offsetHeight","getWidth","GutterTooltip","windowWidth","innerWidth","windowHeight","innerHeight","GutterHandler","tooltipTimeout","mouseEvent","tooltipAnnotation","gutter","$gutterLayer","tooltip","hideTooltip","moveTooltip","getRegion","selectTo","srcElement","$tooltipFollowsMouse","annotation","$annotations","getLength","screenRow","pixelToScreenCoordinates","$pos","documentToScreenRow","showTooltip","$gutter","MouseEvent","$inSelection","propagationStopped","selectionRange","DragdropHandler","blankImage","src","dragSelectionMarker","timerId","dragCursor","dragOperation","isInternal","autoScrollStartTime","cursorMovedTime","cursorPointOnCaretMoved","mouseTarget","counter","onDragInterval","prevCursor","vMovement","hMovement","moveCursorToPosition","calcDistance","lineHeight","layerConfig","editorRect","offsets","nearestXOffset","nearestYOffset","scrollCursor","vScroll","hScroll","autoScroll","addDragMarker","toOrientedRange","addMarker","getSelectionStyle","clearSelection","$cursorLayer","setBlinking","clearInterval","setInterval","onMouseMove","clearDragMarker","removeMarker","fromOrientedRange","$resetCursorStyle","onDragStart","cancelDrag","draggable","self","dataTransfer","effectAllowed","getReadOnly","scrollTop","setDragImage","clearData","getTextRange","onDragEnd","dropEffect","setCursorStyle","onDragEnter","canAccept","getDropEffect","onDragOver","onMouseMoveTimer","onDragLeave","onDrop","moveText","dropData","insert","types","some","copyAllowed","copyModifierState","dragWait","getDragDelay","startDrag","dragWaitEnd","dragReadyEnd","cursorStyle","onMouseDrag","state","dragDrop","$dragEnabled","eventTarget","unselectable","addTouchListeners","touchStartT","lastT","longTouchTimer","animationTimer","pressed","contextMenu","animationSteps","clickCount","vX","vY","createContextMenu","handleClick","selected","hasUndo","action","getAttribute","getUndoManager","replaceChild","class","readText","writeText","ontouchstart","ontouchend","onclick","showContextMenu","pagePos","textToScreenCoordinates","leftOffset","pageX","scrollLeft","pageY","hideContextMenu","handleLongTap","selectWord","touches","h","w","touchObj","setRange","switchToSelectionMode","cursorPos","getPixelPosition","anchorPos","offsetTop","offsetLeft","weightedDistance","diff1","diff2","oldScrollTop","getScrollTop","url","xhr","XMLHttpRequest","open","onreadystatechange","readyState","responseText","send","loadScript","path","_","isAbort","qualifyURL","EventEmitter","_dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","once","newCallback","Promise","resolve","handlers","_disabled_","old","disabled","removeDefaultHandler","pop","capturing","removeAllListeners","optionsProvider","optList","setOption","getOptions","optionNames","$options","hidden","getOption","opt","warn","forwardTo","handlesSet","message","reportError","msg","AppConfig","$defaultOptions","defineOptions","initialValue","resetOptions","setDefaultValue","opts","setDefaultValues","optionHash","net","workerPath","modePath","themePath","basePath","suffix","$moduleUrls","loadWorkerFromBlob","sharedPopups","all","$modes","moduleUrl","component","parts","sep","base","re","RegExp","setModuleUrl","subst","$loading","loadModule","onLoad","moduleType","afterLoad","reportErrorIfPathIsNotConfigured","scriptOptions","scriptUrl","currentScript","_currentScript","scripts","script","attributes","j","attr","m1","toUpperCase","version","DefaultGutterHandler","MouseHandler","focusEditor","getMouseEventTarget","onMouseEvent","scrollBarV","scrollBarH","Boolean","gutterEl","$dragDelay","character","mousemove","$scrollSpeed","mouseMoveHandler","which","releaseMouse","$mouseMoved","onCaptureEnd","onOperationEnd","onCaptureInterval","$onCaptureMouseMove","endOperation","startOperation","cancelContextMenu","scrollSpeed","dragDelay","dragEnabled","focusTimeout","tooltipFollowsMouse","FoldHandler","fold","getFoldAt","removeFold","expandFold","getUseWrapMode","foldWidgets","onFoldWidgetClick","getParentFoldRangeData","firstRange","addFold","keyUtil","KeyBinding","$editor","$data","$handlers","kb","removeKeyboardHandler","$defaultHandler","addKeyboardHandler","setKeyboardHandler","handleKeyboard","attach","detach","getKeyboardHandler","getStatusText","$callKeyboardHandlers","toExecute","success","args","passEvent","dir","hiLevel","lastArabic","hasUBAT_B","hasUBAT_S","impTab_LTR","impTab_RTL","UnicodeTBL00","UnicodeTBL20","_invertLevel","lev","levels","_array","lo","hi","tmp","len","_getCharClass","chars","ix","wType","nType","cType","rtlCandidate","_getCharacterType","uc","charCodeAt","L","R","EN","ON_R","AN","R_H","B","RLE","DOT","doBidiReorder","textCharTypes","isRtl","logicalFromVisual","bidiLevels","charTypes","impTab","prevState","newClass","newLevel","newState","condPos","_computeLevels","hasBidiCharacters","getVisualFromLogicalIdx","logIdx","rowMap","bidiUtil","bidiRE","BidiHandler","bidiMap","currentRow","charWidths","EOL","showInvisibles","isRtlDir","$isRtl","wrapIndent","EOF","contentWidth","fontMetrics","rtlLineOffset","wrapOffset","isMoveLeftOperation","seenBidi","isBidiRow","docRow","splitIndex","updateRowLine","updateBidiMap","onChange","delta","lines","getDocumentRow","rowCache","$screenRowCache","$getRowCacheIndex","$docRowCache","getSplitIndex","currentIndex","prevIndex","endOfLine","$useWrapMode","splits","$wrapData","indent","substring","size","isFullWidth","getScreenTabSize","$main","substr","markAsDirty","updateCharacterWidths","$characterSize","bidiCharWidth","$measureCharWidth","setShowInvisibles","setEolChar","eolChar","setContentWidth","isRtlLine","setRtlDirection","getCursorPosition","getSelectionAnchor","$bidiHandler","removeInLine","getPosLeft","col","leftBoundary","logicalIdx","getOverwrite","visualIdx","getSelections","startCol","endCol","level","selections","selColMin","selColMax","isSelected","isSelectedPrev","visIdx","offsetToCol","posX","charWidth","Selection","lead","createAnchor","$silent","$cursorChanged","$isEmpty","$keepDesiredColumnOnChange","$desiredColumn","$anchorChanged","getCursor","getPosition","getAnchor","getSelectionLead","isBackwards","$setSelection","Number","MAX_VALUE","anchorRow","anchorColumn","cursorRow","cursorColumn","wasEmpty","wasMultiselect","$moveSelection","mover","moveCursorTo","moveTo","selectUp","moveCursorUp","selectDown","moveCursorDown","selectRight","moveCursorRight","selectLeft","moveCursorLeft","selectLineStart","moveCursorLineStart","selectLineEnd","moveCursorLineEnd","selectFileEnd","moveCursorFileEnd","selectFileStart","moveCursorFileStart","selectWordRight","moveCursorWordRight","selectWordLeft","moveCursorWordLeft","selectAWord","getAWordRange","excludeLastChar","rowEnd","rowStart","foldLine","getFoldLine","selectLine","moveCursorBy","wouldMoveIntoSoftTab","tabSize","isTabStop","getTabSize","getNavigateWithinSoftTabs","firstColumnPosition","screenToDocumentPosition","leadingSpace","getDisplayLine","$useEmacsStyleLineStart","lineEnd","getDocumentLastRowColumnPosition","textEnd","search","moveCursorLongWordRight","rightOfCursor","nonTokenRe","lastIndex","tokenRe","moveCursorLongWordLeft","getFoldStringAt","leftOfCursor","$shortWordEndIndex","whitespaceRe","moveCursorShortWordRight","moveCursorShortWordLeft","$selectLongWords","rows","offsetX","screenPos","lineWidgets","widget","rowsAbove","rowCount","docPos","keepDesiredColumn","moveCursorToScreen","desiredColumn","getRangeOfMovements","toJSON","rangeCount","ranges","r1","fromJSON","rangeList","toSingleRange","addRange","MAX_TOKEN_COUNT","Tokenizer","rules","states","regExps","matchMappings","ruleRegExps","matchTotal","mapping","defaultToken","flag","splitterRurles","rule","caseInsensitive","regex","adjustedregex","matchcount","token","groupCount","tokenArray","onMatch","$arrayTokens","$applyToken","digit","removeCapturingGroups","splitRegex","createSplitterRegexp","$setMaxTokenCount","values","tokens","stack","inChClass","lastCapture","parenOpen","parenClose","square","getLineTokens","startState","currentState","matchAttempts","skipped","next","consumeLineEnd","merge","unshift","TextHighlightRules","$rules","addRules","prefix","nextState","getRules","embedRules","HighlightRules","escapeRules","append","$embeds","getEmbeds","pushState","popState","normalizeRules","processState","processed","toInsert","stateName","includeName","concat","noEscape","keywordMap","createKeywordMapper","ignoreCase","splitChar","keywords","$keywordList","list","word","getKeywords","$keywords","Behaviour","$behaviours","addBehaviours","behaviours","inherit","getBehaviours","TokenIterator","initialRow","initialColumn","$session","$row","$rowTokens","getTokens","getTokenAt","$tokenIndex","stepBackward","stepForward","getCurrentToken","getCurrentTokenRow","getCurrentTokenColumn","rowTokens","tokenIndex","getCurrentTokenPosition","getCurrentTokenRange","SAFE_INSERT_IN_TOKENS","SAFE_INSERT_BEFORE_TOKENS","contextCache","defaultQuotes","initContext","multiSelect","autoInsertedBrackets","autoInsertedRow","autoInsertedLineEnd","maybeInsertedBrackets","maybeInsertedRow","maybeInsertedLineStart","maybeInsertedLineEnd","getWrapped","opening","closing","rowDiff","CstyleBehaviour","getWrapBehavioursEnabled","isSaneInsertion","braces","recordAutoInsert","recordMaybeInsert","$findOpeningBracket","isAutoInsertedClosing","popAutoInsertedClosing","isMaybeInsertedClosing","clearMaybeInsertedClosing","openBracePos","findMatchingBracket","next_indent","$getIndent","getTabString","quotes","$mode","$quotes","lineCommentStart","quote","leftChar","rightChar","rightToken","pair","stringBefore","stringAfter","wordRe","isWordBefore","isWordAfter","charBefore","iterator","$matchTokenType","iterator2","bracket","wordChars","unicode","Mode","$defaultBehaviour","getTokenizer","$tokenizer","$highlightRules","$highlightRuleConfig","blockComment","toggleCommentLines","ignoreBlankLines","shouldRemove","minIndent","Infinity","insertAtTabStop","regexpStart","getUseSoftTabs","uncomment","shouldInsertSpace","commentWithSpace","comment","insertInLine","testRemove","before","after","spaces","lineCommentEnd","regexpEnd","iter","fun","minEmptyLength","toggleBlockComment","colDiff","initialRange","startRange","endRange","getNextLineIndent","tab","checkOutdent","input","autoOutdent","createWorker","createModeDelegates","$id","delegations","scope","functionName","$delegator","method","language","transformAction","param","$behaviour","completionKeywords","ruleItr","aLength","$createKeywordList","getCompletions","score","meta","applyDelta","docLines","doNotValidate","Anchor","$onChange","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","$clipPositionToDocument","$insertRight","point","moveIfEqual","deltaIsInsert","deltaRowShift","deltaColShift","deltaStart","deltaEnd","$getTransformedPoint","noClip","Document","textOrLines","$lines","insertMergedLines","getAllLines","getNewLineCharacter","$split","$detectNewLine","$autoNewLine","$newLineMode","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","getLinesForRange","insertLines","insertFullLines","removeLines","removeFullLines","insertNewLine","clippedPos","clonePos","$clipPosition","deleteFirstNewLine","deleteLastNewLine","deletedLines","removeNewLine","applyDeltas","deltas","revertDeltas","revertDelta","isInsert","$splitAndapplyLargeDelta","$safeApplyDelta","docLength","MAX","from","to","chunk","indexToPosition","newlineLength","positionToIndex","BackgroundTokenizer","tokenizer","running","currentLine","$worker","workerStart","endLine","startLine","processedLines","$tokenizeRow","fireUpdateEvent","setTokenizer","setDocument","first","scheduleStart","$updateOnChange","getState","SearchHighlight","clazz","setRegexp","MAX_RANGES","cache","update","markerLayer","drawSingleLineMarker","FoldLine","foldData","folds","setFoldLine","shiftRow","sameRow","sort","containsRow","walk","lastEnd","isNewRow","placeholder","getNextFoldTo","kind","addRemoveChars","log","foldBefore","newFoldLine","foldLineNext","idxToPosition","lastFoldEndColumn","RangeList","$bias","pointIndex","excludeEdges","startIndex","addList","removed","substractPoint","containsPoint","rangeAtPoint","clipped","removeAll","lineDif","Fold","subFolds","consumePoint","restorePoint","subFold","collapseChildren","addSubFold","afterStart","firstConsumed","consumedFolds","k","restoreRange","Folding","side","getFoldsInRange","foldLines","$foldData","foundFolds","getFoldsInRangeList","getAllFolds","trim","lastFold","startFoldLine","getNextFoldLine","getFoldedRowCount","$addFoldLine","added","$clipRangeToDocument","startFold","endFold","removeFolds","$updateWrapData","$updateRowLengthCache","$modified","addFolds","$updating","cloneFolds","foldAll","expandFolds","unfold","expandInner","isRowFolded","startFoldRow","getRowFoldEnd","getRowFoldStart","getFoldDisplayLine","textLine","lastColumn","$cloneFoldData","fd","toggleFold","tryToUnfold","bracketPos","getCommentFoldRange","depth","getFoldWidget","getFoldWidgetRange","foldToLevel","foldAllComments","$foldStyles","$foldStyle","setFoldStyle","$foldMode","$setFolding","foldMode","$updateFoldWidgets","$tokenizerUpdateFoldWidgets","updateFoldWidgets","tokenizerUpdateFoldWidgets","ignoreCurrent","fw","siblings","$toggleFoldWidget","toggleFoldWidget","toggleParent","BracketMatch","chr","charBeforeCursor","$findClosingBracket","getMatchingBracketRanges","$brackets","typeRe","openBracket","valueIndex","closingBracket","valueLength","TextMode","EditSession","$breakpoints","$decorations","$frontMarkers","$backMarkers","$markerId","$undoSelect","$uid","onChangeFold","bgTokenizer","resetCaches","$resetRowCache","cacheArray","low","mid","$rowLengthCache","removedFolds","$updateInternalDataOnChange","$fromUndo","$undoManager","mergeUndoDeltas","$informUndoManager","setUndoManager","reset","getSelection","undoManager","addSession","$syncInformUndoManager","markUndoGroup","$defaultUndoManager","undo","redo","hasRedo","addSelection","startNewGroup","setUseSoftTabs","$useSoftTabs","$indentWithTabs","setTabSize","$tabSize","setNavigateWithinSoftTabs","navigateWithinSoftTabs","$navigateWithinSoftTabs","$overwrite","setOverwrite","overwrite","toggleOverwrite","addGutterDecoration","removeGutterDecoration","getBreakpoints","setBreakpoints","clearBreakpoints","setBreakpoint","clearBreakpoint","inFront","marker","addDynamicMarker","markerId","getMarkers","highlight","$searchHighlight","highlightLines","setAnnotations","annotations","getAnnotations","clearAnnotations","inToken","wordRange","setUseWorker","useWorker","getUseWorker","$useWorker","onReloadTokenizer","$modeId","$onChangeMode","$isPlaceholder","oldMode","$stopWorker","$startWorker","attachToSession","wrapMethod","$wrapMethod","foldingRules","terminate","getMode","$scrollTop","setScrollTop","isNaN","$scrollLeft","setScrollLeft","getScrollLeft","getScreenWidth","$computeWidth","getLineWidgetMaxWidth","screenWidth","lineWidgetsWidth","lineWidgetWidth","force","$wrapLimit","longestScreenLine","foldIndex","foldStart","$getStringScreenWidth","undoChanges","dontSelect","selectionBefore","$getUndoSelection","redoChanges","selectionAfter","setUndoSelect","enable","isUndo","fromRange","toPosition","toRange","collDiff","oldStart","newStart","indentRows","indentString","outdentRows","rowRange","deleteRange","$moveLines","diff","$clipRowToDocument","moveLinesUp","moveLinesDown","duplicateLines","$clipColumnToRow","$wrapLimitRange","setUseWrapMode","useWrapMode","setWrapLimitRange","adjustWrapLimit","desiredLimit","$printMargin","limits","wrapLimit","$constrainWrapLimit","getWrapLimit","setWrapLimit","limit","getWrapLimitRange","foldLineBefore","wrapData","walkTokens","$getDisplayTokens","PLACEHOLDER_START","PLACEHOLDER_BODY","$computeWrapSplits","displayLength","lastSplit","lastDocSplit","isCode","$wrapAsCode","indentedSoftWrap","$indentedSoftWrap","maxIndent","addSplit","indentation","getWrapIndent","minSplit","maxScreenColumn","screenColumn","getRowLength","getRowLineCount","getRowWrapIndent","getScreenLastRowColumn","documentToScreenColumn","getDocumentLastRowColumn","docColumn","getRowSplitData","screenToDocumentRow","screenToDocumentColumn","rowLength","doCache","maxRow","foldStartRow","wrapRow","screenRowOffset","getScreenLength","screenRows","$getWidgetScreenLength","$setFontMetrics","fm","$enableVarChar","getCharacterWidth","wrap","$wrap","firstLineNumber","useSoftTabs","foldStyle","Search","find","$matchIterator","sr","sc","er","ec","skipCurrent","findAll","needle","$assembleRegExp","$isMultiLine","prevRange","replacement","preserveCase","$disableFakeMultiline","wholeWord","wordBoundary","addWordBoundary","caseSensitive","$assembleMultilineRegExp","backwards","forEachInLine","HashHandler","commandKeyBinding","addCommands","$singleCommand","MultiHashHandler","bindKey","isDefault","addCommand","removeCommand","_buildKeyHash","keepCommand","ckb","keyId","cmdGroup","keyPart","chain","binding","parseKeys","_addCommandToBinding","removeCommands","bindKeys","keyList","$keyChain","CommandManager","byName","$checkCommandState","isAvailable","returnValue","toggleRecording","$inReplay","recording","macro","$addCommandToMacro","oldMacro","replay","trimMacro","mac","showSettingsMenu","showErrorMarker","scrollIntoView","description","centerSelection","gotoLine","prompt","$type","multiSelectAction","getAllRanges","findNext","findPrevious","aceCommandGroup","navigateFileStart","navigateUp","times","navigateFileEnd","navigateDown","navigateWordLeft","navigateLineStart","navigateLeft","navigateWordRight","navigateLineEnd","navigateRight","selectPageDown","scrollPageDown","gotoPageDown","selectPageUp","scrollPageUp","gotoPageUp","jumpToMatching","$copyWithEmptySelection","$handlePaste","duplicateSelection","sortLines","modifyNumber","copyLinesUp","copyLinesDown","removeToLineStart","removeToLineEnd","removeWordLeft","removeWordRight","blockOutdent","blockIndent","splitLine","transposeLetters","transposeSelections","autoIndent","firstLineEndCol","selectedCount","insertLine","curLine","newRanges","exitMultiSelectMode","defaultCommands","Editor","getContainerElement","getTextAreaContainer","textarea","keyBinding","$search","$historyTracker","$initOperationListeners","_$emitInputEvent","setSession","$opResetTimer","$lastSel","prevOp","commandEvent","previousCommand","scrollSelectionIntoView","animateScrolling","sel","$mergeableCommands","$mergeUndoDeltas","prev","mergeableCommands","shouldMerge","mergeNextCommand","sequenceStartTime","keyboardHandler","$keybindingId","oldSession","$onDocumentChange","$onTokenizerUpdate","$onChangeTabSize","$onChangeWrapLimit","$onChangeWrapMode","$onChangeFold","$onChangeFrontMarker","$onChangeBackMarker","$onChangeBreakpoint","$onChangeAnnotation","$onCursorChange","$onScrollTopChange","$onScrollLeftChange","$onSelectionChange","onDocumentChange","onChangeMode","onTokenizerUpdate","onChangeTabSize","onChangeWrapLimit","onChangeWrapMode","onChangeFrontMarker","onChangeBackMarker","onChangeBreakpoint","onChangeAnnotation","onCursorChange","onScrollTopChange","onScrollLeftChange","onSelectionChange","updateFull","oldEditor","getSession","resize","onResize","theme","getTheme","getFontSize","setFontSize","$highlightBrackets","$highlightPending","$bracketHighlight","markerIds","getMatching","markerType","$highlightTags","$highlightTagPending","$tagHighlight","currentTag","prevToken","stepCount","tmpToken","sbm","$isFocused","showCursor","visualizeFocus","hideCursor","visualizeBlur","$cursorChange","updateCursor","$updateHighlightActiveLine","updateLines","scrollToY","scrollToX","$highlightActiveLine","$selectionStyle","$selectionColorConflict","$maxLines","$minLines","$highlightLineMarker","$selectionMarker","$highlightSelectedWord","$getSelectionHighLightRegexp","wordWithBoundary","updateFrontMarkers","updateBackMarkers","updateBreakpoints","updateText","getSelectedText","nl","copyLine","inVirtualSelectionMode","isFullLine","getBehavioursEnabled","lineState","shouldOutdent","$enableAutoIndent","lineIndent","selectedRange","currIndent","prevLineState","composition","applyComposition","forEachSelection","setScrollSpeed","getScrollSpeed","setDragDelay","setSelectionStyle","setHighlightActiveLine","shouldHighlight","getHighlightActiveLine","setHighlightGutterLine","getHighlightGutterLine","setHighlightSelectedWord","getHighlightSelectedWord","setAnimatedScroll","shouldAnimate","getAnimatedScroll","getShowInvisibles","setDisplayIndentGuides","getDisplayIndentGuides","setShowPrintMargin","showPrintMargin","getShowPrintMargin","setPrintMarginColumn","getPrintMarginColumn","setBehavioursEnabled","enabled","setWrapBehavioursEnabled","setShowFoldWidgets","getShowFoldWidgets","setFadeFoldWidgets","fade","getFadeFoldWidgets","new_range","swap","originalRange","$getSelectedRows","getNumberAt","_numberRx","amount","charRange","isFinite","nr","fp","decimals","nnr","toFixed","replaceRange","toggleWord","$toggleWordPairs","currWordStart","wordParts","curLength","itLength","that","item","reg","wordPairs","negate","firstCondition","res","endPoint","moved","totalDiff","rangeIndex","subRows","compositionState","showComposition","setCompositionText","hideComposition","getFirstVisibleRow","getLastVisibleRow","isRowVisible","isRowFullyVisible","getFirstFullyVisibleRow","getLastFullyVisibleRow","$getVisibleRowCount","getScrollBottomRow","getScrollTopRow","$moveByPage","scrollToRow","scrollToLine","center","animate","alignCursor","getCursorPositionScreen","expand","matchType","bracketType","found","brackets","lineNumber","navigateTo","replaced","$tryReplace","replaceAll","getLastSearchOptions","newRange","revealRange","setAutoScrollEditorIntoView","shouldScroll","$scrollAnchor","scrollAnchor","onChangeSelection","onBeforeRender","onAfterRender","searchBox","$pixelPos","$cursorStyle","cursorLayer","setSmoothBlinking","isBlinking","selectionStyle","highlightActiveLine","highlightSelectedWord","copyWithEmptySelection","behavioursEnabled","wrapBehavioursEnabled","enableAutoIndent","showLineNumbers","setShowLineNumbers","$loop","CHANGE_GUTTER","$relativeLineNumbers","relativeNumberRenderer","relativeLineNumbers","$showLineNumbers","$updatePlaceholder","$composition","placeholderNode","$placeholder","content","highlightGutterLine","animatedScroll","printMarginColumn","printMargin","fadeFoldWidgets","showFoldWidgets","displayIndentGuides","showGutter","maxLines","minLines","scrollPastEnd","fixedWidthGutter","hasCssTransforms","maxPixelHeight","getText","lastLineNumber","$renderer","UndoManager","$maxRev","allowMerge","$lastDelta","$keepRedoStack","$redoStack","lastDeltas","$undoStack","$rev","rev","markIgnored","ignore","getRevision","getDeltas","getChangedRanges","getChangedLines","deltaSet","swapped","swapGroups","rearrangeUndoStack","$redoStackBaseRev","undoSelectionRange","$syncRev","redoStack","deltaSets","moveDeltasByOne","rebaseRedoStack","redoSelectionRange","nextDelta","mark","canUndo","canRedo","bookmark","isAtBookmark","isClean","markClean","$prettyPrint","stringifyDelta","stringifyRange","d1","d2","i1","i2","ds1","ds2","xform","c1","splitDelta","shiftPos","rowsBefore","otherLines","cloneDelta","xformed","Lines","canvasHeight","cells","cellCache","$offsetCoefficient","moveContainer","firstRowScreen","pageChanged","oldConfig","newConfig","computeLineTop","screenTop","screenPage","computeLineHeight","$cacheCell","cell","fragment","insertAdjacentElement","createCell","initElement","Gutter","parentEl","$showFoldWidgets","gutterWidth","$updateAnnotations","onCreateCell","textNode","foldWidget","rowInfo","annoText","gutterOffset","oldLastRow","$updateCursorRow","$renderCell","$updateGutterWidth","gutterRenderer","$firstLineNumber","lastLineText","$fixedWidth","padding","$padding","$computePadding","ceil","$highlightGutterLine","$cursorRow","updateLineHighlight","$cursorCell","scrollLines","$renderLines","childNodes","breakpoints","decorations","foldHeight","getShowLineNumbers","paddingLeft","borderRightWidth","paddingRight","Marker","setPadding","setMarkers","markers","elt","css","$getTop","drawFullLineMarker","drawScreenLineMarker","drawTextMarker","drawMultiLineMarker","childElementCount","lastChild","stringBuilder","extraStyle","curr","lineRange","range1","drawBidiSingleLineMarker","radiusClass","extraLength","Text","$updateEolChar","EOF_CHAR","EOL_CHAR_LF","EOL_CHAR_CRLF","EOL_CHAR","TAB_CHAR","SPACE_CHAR","margin","getLineHeight","$fontMetrics","measure","$pollSizeChanges","checkForSizeChanges","$pollSizeChangesTimer","$computeTabString","showSpaces","showTabs","showEOL","$tabStrings","tabStr","span","$indentGuideRe","spaceClass","spaceContent","tabClass","tabContent","lineElements","lineElementsIdx","heightChanged","lineElement","$renderLine","$renderLinesFragment","lineEl","$useLineGroups","$textToken","$renderToken","valueFragment","simpleSpace","controlCharacter","cjkSpace","cjk","cloneNode","com","renderIndentGuide","cols","$createLineElement","$renderWrappedLine","splitChars","$renderOverflowMessage","$renderSimpleLine","overflowEl","$getFoldLineTokens","lastLineEl","invisibleEl","renderTokens","addTokens","Cursor","isVisible","blinkInterval","smoothBlinking","cursors","addCursor","$updateCursors","$updateOpacity","$startCssAnimation","animationDuration","$stopCssAnimation","blinking","restartTimer","setBlinkInterval","removeCursor","intervalId","timeoutId","blink","onScreen","isCursorInView","pixelPos","maxHeight","$selectionMarkers","cursorIndex","drawCursor","$setOverwrite","ScrollBar","classSuffix","setVisible","skipEvent","onScroll","coeff","VScrollBar","scrollHeight","$scrollbarWidth","$minWidth","setHeight","setInnerHeight","setScrollHeight","HScrollBar","setWidth","setInnerWidth","setScrollWidth","ScrollBarV","ScrollBarH","RenderLoop","onRender","pending","changes","$recursionLimit","_flush","change","clear","USE_OBSERVER","ResizeObserver","FontMetrics","$setMeasureNodeStyles","$measureNode","$addObserver","isRoot","visibility","whiteSpace","font","$measureSizes","fontWeight","boldSize","charSizes","allowBoldFonts","$observer","observe","setPolling","disconnect","$getZoom","getZoom","zoom","$initTransformMeasureNodes","transformCoordinates","clientPos","elPos","mul","solve","l1","l2","det","sub","m2","ut","u","f","GutterLayer","MarkerLayer","TextLayer","CursorLayer","editorCss","HIDE_TEXTAREA","VirtualRenderer","onGutterResize","$markerBack","textLayer","$textLayer","$markerFront","$horizScroll","$vScroll","scrollBar","$scrollAnimation","scrollMargin","updateCharacterSize","$size","scrollerHeight","scrollerWidth","$dirty","minHeight","v","$renderChanges","defaultView","CHANGE_FULL","CHANGE_CURSOR","CHANGE_MARKER","CHANGE_SCROLL","CHANGE_LINES","CHANGE_TEXT","CHANGE_SIZE","CHANGE_MARKER_BACK","CHANGE_MARKER_FRONT","CHANGE_H_SCROLL","$allowBoldFonts","$updatePrintMargin","onChangeNewLineMode","$changedLines","updateFontSize","$changes","$updateSizeAsync","resizing","scrollWidth","$updateCachedSize","$extraHeight","oldSize","$showGutter","$computeLayerConfig","availableWidth","$showPrintMargin","$printMarginColumn","$animatedScroll","getShowGutter","setShowGutter","$printMarginEl","containerEl","posTop","posLeft","setScrollMargin","sm","setMargin","getHScrollBarAlwaysVisible","$hScrollBarAlwaysVisible","setHScrollBarAlwaysVisible","alwaysVisible","getVScrollBarAlwaysVisible","$vScrollBarAlwaysVisible","setVScrollBarAlwaysVisible","$updateScrollBarV","$scrollPastEnd","$updateScrollBarH","$frozen","freeze","unfreeze","st","$updateLines","$autosize","desiredHeight","$maxPixelHeight","$gutterWidth","hideScrollbars","longestLine","$getLongestLine","horizScroll","hScrollChanged","vScrollBefore","vScrollChanged","firstRowHeight","lineCount","charCount","$viewMargin","topMargin","bottomMargin","alignment","STEPS","$calcSteps","fromValue","toValue","x_min","steps","initialScroll","oldSteps","$timer","scrollTo","canvasPos","$hasCssTransforms","$blockCursor","$useTextareaForIME","addToken","removeExtraToken","newToken","$themeId","cssClass","$theme","isDark","setMouseCursor","attachToShadowRoot","workerUrl","Worker","blob","Blob","blobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","getBlob","$workerBlob","blobURL","URL","webkitURL","createObjectURL","WorkerClient","worker","$createWorkerFromOldConfig","$sendDeltaQueue","changeListener","onMessage","callbackId","callbacks","onmessage","topLevelNamespaces","classname","importScripts","nameToUrl","toUrl","normalizePath","$normalizePath","tlns","err","deltaQueue","$doc","cmd","emit","ex","attachToDocument","q","UIWorkerClient","emitSync","sender","messageBuffer","workerClient","processNext","setEmitSync","Main","PlaceHolder","others","mainClass","othersClass","$onUpdate","onUpdate","$others","undoStack","$undostack","$undoStackDepth","setup","other","showOtherMarkers","othersActive","hideOtherMarkers","updateAnchors","lengthDiff","inMainRange","distanceFromStart","newPos","otherPos","updateMarkers","updateMarker","undosRequired","isSamePoint","alt","ctrl","accel","selectionMode","isMultiSelect","mouseX","mouseY","screenAnchor","screenCursor","$enableJumpToDef","$blockSelectEnabled","addSelectionMarker","oldRange","removeSelectionMarker","tmpSel","rectSel","blockSelect","newCursor","removeSelectionMarkers","rectangularRangeBlock","updateSelectionMarkers","onSelectionInterval","selectMoreLines","selectMore","joinSelections","splitIntoLines","alignCursors","multiSelectCommands","getSelectionMarkers","$blockChangeEvents","$onAddRange","$onRemoveRange","mergeOverlappingRanges","lastRange","$initRangeList","toggleBlockSelection","includeEmptyLines","xBackwards","startOffsetX","endOffsetX","docEnd","yBackwards","MultiSelect","$multiselectOnSessionChange","$onMultiSelect","$onSingleSelect","onSessionChange","$checkMultiselectChange","altCursor","altDown","addAltCursorListeners","selectionMarkerCount","markerList","$onMultiSelectExec","inVirtualMode","keepOrder","$byLines","cmdResult","anim","buf","additive","skip","screenLead","toRemove","words","stopAtFirst","sameRowRanges","maxCol","minSpace","spaceOffsets","spaceOffset","fr","lr","guessRange","$reAlignText","forceLeft","startW","textW","endW","isLeftAligned","isRightAligned","alignLeft","enableMultiselect","enableBlockSelect","FoldMode","foldingStartMarker","foldingStopMarker","indentationBlock","startLevel","openingBracketBlock","closingBracketBlock","LineWidgets","widgetManager","updateOnChange","renderWidgets","measureWidgets","_changedWidgets","$onChangeEditor","updateOnFold","_inDocument","removeLineWidget","$updateRows","noWidgets","$oldWidget","$registerLineWidget","addLineWidget","zIndex","coverGutter","pixelHeight","$fold","onWidgetChanged","w1","getWidgetsAtRow","changedWidgets","fixedWidth","coverLine","fullWidth","oldWidget","gutterAnno","comparator","binarySearch","matched","findAnnotations","arrow","onmousedown","Renderer","_id","getElementById","env","tagName","oldNode","createEditSession","VARIABLES","CURRENT_WORD","SELECTION","CURRENT_LINE","PREV_LINE","LINE_INDEX","LINE_NUMBER","SOFT_TABS","TAB_SIZE","CLIPBOARD","FILENAME","FILEPATH","FILENAME_BASE","DIRECTORY","WORKSPACE_NAME","FULLNAME","BLOCK_COMMENT_START","BLOCK_COMMENT_END","LINE_COMMENT","CURRENT_YEAR","date","year","CURRENT_YEAR_SHORT","CURRENT_MONTH","month","CURRENT_MONTH_NAME","CURRENT_MONTH_NAME_SHORT","CURRENT_DATE","day","CURRENT_DAY_NAME","weekday","CURRENT_DAY_NAME_SHORT","CURRENT_HOUR","hour","hour12","CURRENT_MINUTE","minute","CURRENT_SECOND","second","dateFormat","toLocaleString","SELECTED_TEXT","SnippetManager","snippetMap","snippetNameMap","createTokenizer","TabstopToken","tabstopId","formatMatcher","fmtString","guard","snippetVar","choices","operator","formatString","expectElse","ifEnd","elseEnd","changeCase","local","formatStringVar","formatFunction","tokenizeTmSnippet","getVariableValue","variables","__","tmStrFormat","fmt","fmtTokens","oldArgs","fmtParts","resolveVariables","gChangeCase","tmFormatFunction","snippet","afterNewLine","gotoNext","insertSnippetForSelection","snippetText","tabString","tabstops","parents","expanding","copyValue","lastIndexOf","tabstopManager","TabstopManager","selectionId","addTabstops","insertSnippet","tabNext","$getScope","inlinePhp","getActiveScopes","scopes","includeScopes","expandWithTab","expandSnippetForSelection","snippets","findMatchingSnippet","dryRun","replaceBefore","replaceAfter","M__","matchBefore","T__","matchAfter","snippetList","startRe","endRe","triggerRe","endTriggerRe","register","wrapRegexp","guardedRegexp","addSnippet","unregister","tabTrigger","trigger","endTrigger","endGuard","removeSnippet","nameMap","parseSnippetFile","JSON","parse","guardRe","getSnippetByName","$onChangeSelection","$onChangeSession","onChangeSession","$onAfterExec","onAfterExec","$openTabstops","selectedTabstop","removeTabstopMarkers","isRemove","active","parentActive","removeRange","$inChange","updateLinkedFields","hasLinkedRanges","firstNonLinked","linked","snippetManager","containsLead","containsAnchor","selectTabstop","addTabstopMarkers","useLink","moveRelative","arg","dest","movePoint","tabstop","expandSnippet","$singleLineEditor","AcePopup","popup","lastMouseEvent","noop","selectionMarker","hoverMarker","setSelectOnHover","setRow","setHoverMarker","getRow","selectedNode","hideHoverMarker","suppressRedraw","getHoveredRow","caption","lower","filterText","lastI","matchMask","isTopdown","autoSelect","topdownOnly","screenHeight","maxH","$borderSize","goTo","where","getTextLeftOffset","$imageSize","parForEach","fn","completed","arLength","ID_REGEX","retrievePrecedingIdentifier","retrieveFollowingIdentifier","getCompletionPrefix","completers","completer","identifierRegexps","identifierRegex","util","Autocomplete","autoInsert","exactMatch","gatherCompletionsId","blurListener","mousedownListener","mousewheelListener","changeTimer","updateCompletions","tooltipTimer","updateDocTooltip","insertMatch","getPopup","openPopup","keepPopupPosition","completions","filtered","hideDocTooltip","activated","fromTooltip","relatedTarget","tooltipNode","deleteSuffix","gatherCompletions","total","results","finished","showPopup","setFilter","FilteredList","detachIfFinished","getDocTooltip","docText","docHTML","showDocTooltip","pointerEvents","tabIndex","onblur","onTooltipClick","nodeName","for","$shared","$sharedInstance","startCommand","filterCompletions","$score","localeCompare","items","upper","loop","penalty","fullMatchIndex","wordDistance","prefixPos","getWordIndex","wordScores","currentWord","wordScore","textCompleter","keyWordCompleter","snippetCompleter","setCompleters","addCompleter","loadSnippetsForMode","files","loadSnippetFile","snippetFileId","modes","snippetFilePath","doLiveAutocomplete","hasCompleter","enableSnippets","V2Constructor","Vector2","hypot","magnitude","zero","inverse","super","z","vec3","Vector4","vec4","Vector3","one","V3Constructor","V4Constructor","rgba","_arithOrder","rgb","__to","valueOf","lhs","rhs","plus","invert","minus","inversed","dot","cross","PI"],"mappings":"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AAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,GAAG,IAAI,GAAG,IAAI,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,KAAK,GAAG,MAAM,GAAG,KAAK,GAAG,GAAG,EAAE,IAAI,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,EAAE,GAAG,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,GAAG,EAAE,IAAI,GAAG,EAAE,EAAE,EAAE,EAAE,EAAE,MAAM,GAAG,GAAG,EAAE,GAAG,KAAK,IAAI,EAAE,GAAG,EAAE,IAAI,GAAG,EAAE,GAAG,EAAE,EAAE,GAAG,EAAE,G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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","import * as ace from \"../lib/ace-builds\";\nimport \"../lib/ace-builds/src-noconflict/ext-language_tools\";\nimport { Color, vec2 } from \"./lib\";\n\nconst $ = (selector: string) => <HTMLElement>document.querySelector(selector);\n\ntype RenderFn = (x: number, y: number) => Color | [number, number, number, number] | number;\n\nfunction main()\n{\n\n}\n\ninterface Config\n{\n\twidth?: number,\n\theight?: number,\n\tbackground?: string | Color,\n\tnormalizedInput?: boolean,\n}\n\nfunction initCanvas(config: Config)\n{\n\tconst canvas = $(\"#canvas\") as HTMLCanvasElement;\n\tcanvas.width = config.width ?? 256;\n\tcanvas.height = config.height ?? 256;\n}\nfunction renderCaller(code: string)\n{\n\tlet _userConfig: Config = {\n\t\twidth: 256,\n\t\theight: 256,\n\t\tbackground: Color.transparent,\n\t\tnormalizedInput: false,\n\t};\n\n\tinitCanvas(_userConfig);\n\n\tfunction config(config: Config)\n\t{\n\t\t_userConfig = config;\n\t\tinitCanvas(config);\n\t}\n\tfunction render(func: RenderFn)\n\t{\n\t\tconst canvas = $(\"#canvas\") as HTMLCanvasElement;\n\t\tconst ctx = canvas.getContext(\"2d\");\n\t\tconst data = ctx.getImageData(0, 0, canvas.width, canvas.height);\n\t\tfor (let imgY = 0; imgY < canvas.height; imgY++)\n\t\t{\n\t\t\tfor (let imgX = 0; imgX < canvas.width; imgX++)\n\t\t\t{\n\t\t\t\tconst pos = _userConfig.normalizedInput\n\t\t\t\t\t? vec2(imgX / canvas.width, (canvas.height - imgY - 1) / canvas.height)\n\t\t\t\t\t: vec2(imgX, canvas.height - imgY - 1);\n\t\t\t\tconst color = func(pos.x, pos.y);\n\t\t\t\tif (color instanceof Color)\n\t\t\t\t{\n\t\t\t\t\tlet idx = (imgY * data.width + imgX) * 4;\n\t\t\t\t\tdata.data[idx + 0] = Math.floor(color.r * 255);\n\t\t\t\t\tdata.data[idx + 1] = Math.floor(color.g * 255);\n\t\t\t\t\tdata.data[idx + 2] = Math.floor(color.b * 255);\n\t\t\t\t\tdata.data[idx + 3] = Math.floor(color.a * 255);\n\t\t\t\t}\n\t\t\t\telse if (color instanceof Array)\n\t\t\t\t{\n\t\t\t\t\tconst [r, g, b, a] = color;\n\t\t\t\t\tlet idx = (imgY * data.width + imgX) * 4;\n\t\t\t\t\tdata.data[idx + 0] = Math.floor(r * 255);\n\t\t\t\t\tdata.data[idx + 1] = Math.floor(g * 255);\n\t\t\t\t\tdata.data[idx + 2] = Math.floor(b * 255);\n\t\t\t\t\tdata.data[idx + 3] = Math.floor(a * 255);\n\t\t\t\t}\n\t\t\t\telse if (typeof (color) === \"number\")\n\t\t\t\t{\n\t\t\t\t\tlet idx = (imgY * data.width + imgX) * 4;\n\t\t\t\t\tdata.data[idx + 0] = Math.floor(color * 255);\n\t\t\t\t\tdata.data[idx + 1] = Math.floor(color * 255);\n\t\t\t\t\tdata.data[idx + 2] = Math.floor(color * 255);\n\t\t\t\t\tdata.data[idx + 3] = Math.floor(color * 255);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tctx.putImageData(data, 0, 0);\n\t}\n\teval(code);\n\n\n}\nasync function init()\n{\n\tace.config.set(\"basePath\", \"lib/ace-builds/src-min-noconflict\");\n\tconst editor = ace.edit($(\"#editor-wrapper\"));\n\teditor.setOptions({\n\t\tenableBasicAutocompletion: true,\n\t\tenableLiveAutocompletion: true,\n\t\tautoScrollEditorIntoView: true,\n\t\thScrollBarAlwaysVisible: true,\n\t\tvScrollBarAlwaysVisible: true,\n\t\tfontSize: \"11pt\",\n\t\tfontFamily: \"consolas\",\n\t});\n\teditor.setTheme(\"ace/theme/monokai\");\n\teditor.session.setMode(\"ace/mode/javascript\");\n\tfetch(\"lib/user-lib/build/demo.js\")\n\t\t.then(response => response.text())\n\t\t.then(code =>\n\t\t{\n\t\t\teditor.session.getDocument().setValue(code);\n\t\t\tfetch(\"lib/user-lib/build/user-lib.js\")\n\t\t\t\t.then((response) => response.text())\n\t\t\t\t.then((lib) =>\n\t\t\t\t{\n\t\t\t\t\t$(\"#button-render\").addEventListener(\"click\", () =>\n\t\t\t\t\t{\n\t\t\t\t\t\tconst code = editor.session.getDocument().getValue();\n\t\t\t\t\t\trenderCaller(lib + code);\n\t\t\t\t\t});\n\t\t\t\t\t// editor.on(\"change\", (e) =>\n\t\t\t\t\t// {\n\t\t\t\t\t// \tsetTimeout(() =>\n\t\t\t\t\t// \t{\n\t\t\t\t\t// \t\tconst code = editor.session.getDocument().getValue();\n\t\t\t\t\t// \t\trenderCaller(lib + code);\n\t\t\t\t\t// \t});\n\t\t\t\t\t// });\n\n\t\t\t\t\tvar code = editor.session.getDocument().getValue();\n\t\t\t\t\trenderCaller(lib + code);\n\t\t\t\t});\n\t\t});\n}\nwindow.onload = () =>\n{\n\tinit();\n\tmain();\n};","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * Define a module along with a payload\n * @param module a name for the payload\n * @param payload a function to call with (require, exports, module) params\n */\n\n(function() {\n\nvar ACE_NAMESPACE = \"ace\";\n\nvar global = (function() { return this; })();\nif (!global && typeof window != \"undefined\") global = window; // strict mode\n\n\nif (!ACE_NAMESPACE && typeof requirejs !== \"undefined\")\n    return;\n\n\nvar define = function(module, deps, payload) {\n    if (typeof module !== \"string\") {\n        if (define.original)\n            define.original.apply(this, arguments);\n        else {\n            console.error(\"dropping module because define wasn\\'t a string.\");\n            console.trace();\n        }\n        return;\n    }\n    if (arguments.length == 2)\n        payload = deps;\n    if (!define.modules[module]) {\n        define.payloads[module] = payload;\n        define.modules[module] = null;\n    }\n};\n\ndefine.modules = {};\ndefine.payloads = {};\n\n/**\n * Get at functionality define()ed using the function above\n */\nvar _require = function(parentId, module, callback) {\n    if (typeof module === \"string\") {\n        var payload = lookup(parentId, module);\n        if (payload != undefined) {\n            callback && callback();\n            return payload;\n        }\n    } else if (Object.prototype.toString.call(module) === \"[object Array]\") {\n        var params = [];\n        for (var i = 0, l = module.length; i < l; ++i) {\n            var dep = lookup(parentId, module[i]);\n            if (dep == undefined && require.original)\n                return;\n            params.push(dep);\n        }\n        return callback && callback.apply(null, params) || true;\n    }\n};\n\nvar require = function(module, callback) {\n    var packagedModule = _require(\"\", module, callback);\n    if (packagedModule == undefined && require.original)\n        return require.original.apply(this, arguments);\n    return packagedModule;\n};\n\nvar normalizeModule = function(parentId, moduleName) {\n    // normalize plugin requires\n    if (moduleName.indexOf(\"!\") !== -1) {\n        var chunks = moduleName.split(\"!\");\n        return normalizeModule(parentId, chunks[0]) + \"!\" + normalizeModule(parentId, chunks[1]);\n    }\n    // normalize relative requires\n    if (moduleName.charAt(0) == \".\") {\n        var base = parentId.split(\"/\").slice(0, -1).join(\"/\");\n        moduleName = base + \"/\" + moduleName;\n\n        while(moduleName.indexOf(\".\") !== -1 && previous != moduleName) {\n            var previous = moduleName;\n            moduleName = moduleName.replace(/\\/\\.\\//, \"/\").replace(/[^\\/]+\\/\\.\\.\\//, \"\");\n        }\n    }\n    return moduleName;\n};\n\n/**\n * Internal function to lookup moduleNames and resolve them by calling the\n * definition function if needed.\n */\nvar lookup = function(parentId, moduleName) {\n    moduleName = normalizeModule(parentId, moduleName);\n\n    var module = define.modules[moduleName];\n    if (!module) {\n        module = define.payloads[moduleName];\n        if (typeof module === 'function') {\n            var exports = {};\n            var mod = {\n                id: moduleName,\n                uri: '',\n                exports: exports,\n                packaged: true\n            };\n\n            var req = function(module, callback) {\n                return _require(moduleName, module, callback);\n            };\n\n            var returnValue = module(req, exports, mod);\n            exports = returnValue || mod.exports;\n            define.modules[moduleName] = exports;\n            delete define.payloads[moduleName];\n        }\n        module = define.modules[moduleName] = exports || module;\n    }\n    return module;\n};\n\nfunction exportAce(ns) {\n    var root = global;\n    if (ns) {\n        if (!global[ns])\n            global[ns] = {};\n        root = global[ns];\n    }\n\n    if (!root.define || !root.define.packaged) {\n        define.original = root.define;\n        root.define = define;\n        root.define.packaged = true;\n    }\n\n    if (!root.require || !root.require.packaged) {\n        require.original = root.require;\n        root.require = require;\n        root.require.packaged = true;\n    }\n}\n\nexportAce(ACE_NAMESPACE);\n\n})();\n\nace.define(\"ace/lib/fixoldbrowsers\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nif (typeof Element != \"undefined\" && !Element.prototype.remove) {\n    Object.defineProperty(Element.prototype, \"remove\", {\n        enumerable: false,\n        writable: true,\n        configurable: true,\n        value: function() { this.parentNode && this.parentNode.removeChild(this); }\n    });\n}\n\n\n});\n\nace.define(\"ace/lib/useragent\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nexports.OS = {\n    LINUX: \"LINUX\",\n    MAC: \"MAC\",\n    WINDOWS: \"WINDOWS\"\n};\nexports.getOS = function() {\n    if (exports.isMac) {\n        return exports.OS.MAC;\n    } else if (exports.isLinux) {\n        return exports.OS.LINUX;\n    } else {\n        return exports.OS.WINDOWS;\n    }\n};\nvar _navigator = typeof navigator == \"object\" ? navigator : {};\n\nvar os = (/mac|win|linux/i.exec(_navigator.platform) || [\"other\"])[0].toLowerCase();\nvar ua = _navigator.userAgent || \"\";\nvar appName = _navigator.appName || \"\";\nexports.isWin = (os == \"win\");\nexports.isMac = (os == \"mac\");\nexports.isLinux = (os == \"linux\");\nexports.isIE = \n    (appName == \"Microsoft Internet Explorer\" || appName.indexOf(\"MSAppHost\") >= 0)\n    ? parseFloat((ua.match(/(?:MSIE |Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1])\n    : parseFloat((ua.match(/(?:Trident\\/[0-9]+[\\.0-9]+;.*rv:)([0-9]+[\\.0-9]+)/)||[])[1]); // for ie\n    \nexports.isOldIE = exports.isIE && exports.isIE < 9;\nexports.isGecko = exports.isMozilla = ua.match(/ Gecko\\/\\d+/);\nexports.isOpera = typeof opera == \"object\" && Object.prototype.toString.call(window.opera) == \"[object Opera]\";\nexports.isWebKit = parseFloat(ua.split(\"WebKit/\")[1]) || undefined;\n\nexports.isChrome = parseFloat(ua.split(\" Chrome/\")[1]) || undefined;\n\nexports.isEdge = parseFloat(ua.split(\" Edge/\")[1]) || undefined;\n\nexports.isAIR = ua.indexOf(\"AdobeAIR\") >= 0;\n\nexports.isAndroid = ua.indexOf(\"Android\") >= 0;\n\nexports.isChromeOS = ua.indexOf(\" CrOS \") >= 0;\n\nexports.isIOS = /iPad|iPhone|iPod/.test(ua) && !window.MSStream;\n\nif (exports.isIOS) exports.isMac = true;\n\nexports.isMobile = exports.isIOS || exports.isAndroid;\n\n});\n\nace.define(\"ace/lib/dom\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"./useragent\"); \nvar XHTML_NS = \"http://www.w3.org/1999/xhtml\";\n\nexports.buildDom = function buildDom(arr, parent, refs) {\n    if (typeof arr == \"string\" && arr) {\n        var txt = document.createTextNode(arr);\n        if (parent)\n            parent.appendChild(txt);\n        return txt;\n    }\n    \n    if (!Array.isArray(arr)) {\n        if (arr && arr.appendChild && parent)\n            parent.appendChild(arr);\n        return arr;\n    }\n    if (typeof arr[0] != \"string\" || !arr[0]) {\n        var els = [];\n        for (var i = 0; i < arr.length; i++) {\n            var ch = buildDom(arr[i], parent, refs);\n            ch && els.push(ch);\n        }\n        return els;\n    }\n    \n    var el = document.createElement(arr[0]);\n    var options = arr[1];\n    var childIndex = 1;\n    if (options && typeof options == \"object\" && !Array.isArray(options))\n        childIndex = 2;\n    for (var i = childIndex; i < arr.length; i++)\n        buildDom(arr[i], el, refs);\n    if (childIndex == 2) {\n        Object.keys(options).forEach(function(n) {\n            var val = options[n];\n            if (n === \"class\") {\n                el.className = Array.isArray(val) ? val.join(\" \") : val;\n            } else if (typeof val == \"function\" || n == \"value\" || n[0] == \"$\") {\n                el[n] = val;\n            } else if (n === \"ref\") {\n                if (refs) refs[val] = el;\n            } else if (val != null) {\n                el.setAttribute(n, val);\n            }\n        });\n    }\n    if (parent)\n        parent.appendChild(el);\n    return el;\n};\n\nexports.getDocumentHead = function(doc) {\n    if (!doc)\n        doc = document;\n    return doc.head || doc.getElementsByTagName(\"head\")[0] || doc.documentElement;\n};\n\nexports.createElement = function(tag, ns) {\n    return document.createElementNS ?\n           document.createElementNS(ns || XHTML_NS, tag) :\n           document.createElement(tag);\n};\n\nexports.removeChildren = function(element) {\n    element.innerHTML = \"\";\n};\n\nexports.createTextNode = function(textContent, element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createTextNode(textContent);\n};\n\nexports.createFragment = function(element) {\n    var doc = element ? element.ownerDocument : document;\n    return doc.createDocumentFragment();\n};\n\nexports.hasCssClass = function(el, name) {\n    var classes = (el.className + \"\").split(/\\s+/g);\n    return classes.indexOf(name) !== -1;\n};\nexports.addCssClass = function(el, name) {\n    if (!exports.hasCssClass(el, name)) {\n        el.className += \" \" + name;\n    }\n};\nexports.removeCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g);\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        classes.splice(index, 1);\n    }\n    el.className = classes.join(\" \");\n};\n\nexports.toggleCssClass = function(el, name) {\n    var classes = el.className.split(/\\s+/g), add = true;\n    while (true) {\n        var index = classes.indexOf(name);\n        if (index == -1) {\n            break;\n        }\n        add = false;\n        classes.splice(index, 1);\n    }\n    if (add)\n        classes.push(name);\n\n    el.className = classes.join(\" \");\n    return add;\n};\nexports.setCssClass = function(node, className, include) {\n    if (include) {\n        exports.addCssClass(node, className);\n    } else {\n        exports.removeCssClass(node, className);\n    }\n};\n\nexports.hasCssString = function(id, doc) {\n    var index = 0, sheets;\n    doc = doc || document;\n    if ((sheets = doc.querySelectorAll(\"style\"))) {\n        while (index < sheets.length)\n            if (sheets[index++].id === id)\n                return true;\n    }\n};\n\nexports.importCssString = function importCssString(cssText, id, target) {\n    var container = target;\n    if (!target || !target.getRootNode) {\n        container = document;\n    } else {\n        container = target.getRootNode();\n        if (!container || container == target)\n            container = document;\n    }\n    \n    var doc = container.ownerDocument || container;\n    if (id && exports.hasCssString(id, container))\n        return null;\n    \n    if (id)\n        cssText += \"\\n/*# sourceURL=ace/css/\" + id + \" */\";\n    \n    var style = exports.createElement(\"style\");\n    style.appendChild(doc.createTextNode(cssText));\n    if (id)\n        style.id = id;\n\n    if (container == doc)\n        container = exports.getDocumentHead(doc);\n    container.insertBefore(style, container.firstChild);\n};\n\nexports.importCssStylsheet = function(uri, doc) {\n    exports.buildDom([\"link\", {rel: \"stylesheet\", href: uri}], exports.getDocumentHead(doc));\n};\nexports.scrollbarWidth = function(document) {\n    var inner = exports.createElement(\"ace_inner\");\n    inner.style.width = \"100%\";\n    inner.style.minWidth = \"0px\";\n    inner.style.height = \"200px\";\n    inner.style.display = \"block\";\n\n    var outer = exports.createElement(\"ace_outer\");\n    var style = outer.style;\n\n    style.position = \"absolute\";\n    style.left = \"-10000px\";\n    style.overflow = \"hidden\";\n    style.width = \"200px\";\n    style.minWidth = \"0px\";\n    style.height = \"150px\";\n    style.display = \"block\";\n\n    outer.appendChild(inner);\n\n    var body = document.documentElement;\n    body.appendChild(outer);\n\n    var noScrollbar = inner.offsetWidth;\n\n    style.overflow = \"scroll\";\n    var withScrollbar = inner.offsetWidth;\n\n    if (noScrollbar == withScrollbar) {\n        withScrollbar = outer.clientWidth;\n    }\n\n    body.removeChild(outer);\n\n    return noScrollbar-withScrollbar;\n};\n\nif (typeof document == \"undefined\") {\n    exports.importCssString = function() {};\n}\n\nexports.computedStyle = function(element, style) {\n    return window.getComputedStyle(element, \"\") || {};\n};\n\nexports.setStyle = function(styles, property, value) {\n    if (styles[property] !== value) {\n        styles[property] = value;\n    }\n};\n\nexports.HAS_CSS_ANIMATION = false;\nexports.HAS_CSS_TRANSFORMS = false;\nexports.HI_DPI = useragent.isWin\n    ? typeof window !== \"undefined\" && window.devicePixelRatio >= 1.5\n    : true;\n\nif (typeof document !== \"undefined\") {\n    var div = document.createElement(\"div\");\n    if (exports.HI_DPI && div.style.transform  !== undefined)\n        exports.HAS_CSS_TRANSFORMS = true;\n    if (!useragent.isEdge && typeof div.style.animationName !== \"undefined\")\n        exports.HAS_CSS_ANIMATION = true;\n    div = null;\n}\n\nif (exports.HAS_CSS_TRANSFORMS) {\n    exports.translate = function(element, tx, ty) {\n        element.style.transform = \"translate(\" + Math.round(tx) + \"px, \" + Math.round(ty) +\"px)\";\n    };\n} else {\n    exports.translate = function(element, tx, ty) {\n        element.style.top = Math.round(ty) + \"px\";\n        element.style.left = Math.round(tx) + \"px\";\n    };\n}\n\n});\n\nace.define(\"ace/lib/oop\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor;\n    ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n            value: ctor,\n            enumerable: false,\n            writable: true,\n            configurable: true\n        }\n    });\n};\n\nexports.mixin = function(obj, mixin) {\n    for (var key in mixin) {\n        obj[key] = mixin[key];\n    }\n    return obj;\n};\n\nexports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin);\n};\n\n});\n\nace.define(\"ace/lib/keys\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./oop\");\nvar Keys = (function() {\n    var ret = {\n        MODIFIER_KEYS: {\n            16: 'Shift', 17: 'Ctrl', 18: 'Alt', 224: 'Meta',\n            91: 'MetaLeft', 92: 'MetaRight', 93: 'ContextMenu'\n        },\n\n        KEY_MODS: {\n            \"ctrl\": 1, \"alt\": 2, \"option\" : 2, \"shift\": 4,\n            \"super\": 8, \"meta\": 8, \"command\": 8, \"cmd\": 8, \n            \"control\": 1\n        },\n\n        FUNCTION_KEYS : {\n            8  : \"Backspace\",\n            9  : \"Tab\",\n            13 : \"Return\",\n            19 : \"Pause\",\n            27 : \"Esc\",\n            32 : \"Space\",\n            33 : \"PageUp\",\n            34 : \"PageDown\",\n            35 : \"End\",\n            36 : \"Home\",\n            37 : \"Left\",\n            38 : \"Up\",\n            39 : \"Right\",\n            40 : \"Down\",\n            44 : \"Print\",\n            45 : \"Insert\",\n            46 : \"Delete\",\n            96 : \"Numpad0\",\n            97 : \"Numpad1\",\n            98 : \"Numpad2\",\n            99 : \"Numpad3\",\n            100: \"Numpad4\",\n            101: \"Numpad5\",\n            102: \"Numpad6\",\n            103: \"Numpad7\",\n            104: \"Numpad8\",\n            105: \"Numpad9\",\n            '-13': \"NumpadEnter\",\n            112: \"F1\",\n            113: \"F2\",\n            114: \"F3\",\n            115: \"F4\",\n            116: \"F5\",\n            117: \"F6\",\n            118: \"F7\",\n            119: \"F8\",\n            120: \"F9\",\n            121: \"F10\",\n            122: \"F11\",\n            123: \"F12\",\n            144: \"Numlock\",\n            145: \"Scrolllock\"\n        },\n\n        PRINTABLE_KEYS: {\n           32: ' ',  48: '0',  49: '1',  50: '2',  51: '3',  52: '4', 53:  '5',\n           54: '6',  55: '7',  56: '8',  57: '9',  59: ';',  61: '=', 65:  'a',\n           66: 'b',  67: 'c',  68: 'd',  69: 'e',  70: 'f',  71: 'g', 72:  'h',\n           73: 'i',  74: 'j',  75: 'k',  76: 'l',  77: 'm',  78: 'n', 79:  'o',\n           80: 'p',  81: 'q',  82: 'r',  83: 's',  84: 't',  85: 'u', 86:  'v',\n           87: 'w',  88: 'x',  89: 'y',  90: 'z', 107: '+', 109: '-', 110: '.',\n          186: ';', 187: '=', 188: ',', 189: '-', 190: '.', 191: '/', 192: '`',\n          219: '[', 220: '\\\\',221: ']', 222: \"'\", 111: '/', 106: '*'\n        }\n    };\n    var name, i;\n    for (i in ret.FUNCTION_KEYS) {\n        name = ret.FUNCTION_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    for (i in ret.PRINTABLE_KEYS) {\n        name = ret.PRINTABLE_KEYS[i].toLowerCase();\n        ret[name] = parseInt(i, 10);\n    }\n    oop.mixin(ret, ret.MODIFIER_KEYS);\n    oop.mixin(ret, ret.PRINTABLE_KEYS);\n    oop.mixin(ret, ret.FUNCTION_KEYS);\n    ret.enter = ret[\"return\"];\n    ret.escape = ret.esc;\n    ret.del = ret[\"delete\"];\n    ret[173] = '-';\n    \n    (function() {\n        var mods = [\"cmd\", \"ctrl\", \"alt\", \"shift\"];\n        for (var i = Math.pow(2, mods.length); i--;) {            \n            ret.KEY_MODS[i] = mods.filter(function(x) {\n                return i & ret.KEY_MODS[x];\n            }).join(\"-\") + \"-\";\n        }\n    })();\n\n    ret.KEY_MODS[0] = \"\";\n    ret.KEY_MODS[-1] = \"input-\";\n\n    return ret;\n})();\noop.mixin(exports, Keys);\n\nexports.keyCodeToString = function(keyCode) {\n    var keyString = Keys[keyCode];\n    if (typeof keyString != \"string\")\n        keyString = String.fromCharCode(keyCode);\n    return keyString.toLowerCase();\n};\n\n});\n\nace.define(\"ace/lib/event\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keys = require(\"./keys\");\nvar useragent = require(\"./useragent\");\n\nvar pressedKeys = null;\nvar ts = 0;\n\nvar activeListenerOptions;\nfunction detectListenerOptionsSupport() {\n    activeListenerOptions = false;\n    try {\n        document.createComment(\"\").addEventListener(\"test\", function() {}, { \n            get passive() { \n                activeListenerOptions = {passive: false};\n            }\n        });\n    } catch(e) {}\n}\n\nfunction getListenerOptions() {\n    if (activeListenerOptions == undefined)\n        detectListenerOptionsSupport();\n    return activeListenerOptions;\n}\n\nfunction EventListener(elem, type, callback) {\n    this.elem = elem;\n    this.type = type;\n    this.callback = callback;\n}\nEventListener.prototype.destroy = function() {\n    removeListener(this.elem, this.type, this.callback);\n    this.elem = this.type = this.callback = undefined;\n};\n\nvar addListener = exports.addListener = function(elem, type, callback, destroyer) {\n    elem.addEventListener(type, callback, getListenerOptions());\n    if (destroyer)\n        destroyer.$toDestroy.push(new EventListener(elem, type, callback));\n};\n\nvar removeListener = exports.removeListener = function(elem, type, callback) {\n    elem.removeEventListener(type, callback, getListenerOptions());\n};\nexports.stopEvent = function(e) {\n    exports.stopPropagation(e);\n    exports.preventDefault(e);\n    return false;\n};\n\nexports.stopPropagation = function(e) {\n    if (e.stopPropagation)\n        e.stopPropagation();\n};\n\nexports.preventDefault = function(e) {\n    if (e.preventDefault)\n        e.preventDefault();\n};\nexports.getButton = function(e) {\n    if (e.type == \"dblclick\")\n        return 0;\n    if (e.type == \"contextmenu\" || (useragent.isMac && (e.ctrlKey && !e.altKey && !e.shiftKey)))\n        return 2;\n    return e.button;\n};\n\nexports.capture = function(el, eventHandler, releaseCaptureHandler) {\n    var ownerDocument = el && el.ownerDocument || document;\n    function onMouseUp(e) {\n        eventHandler && eventHandler(e);\n        releaseCaptureHandler && releaseCaptureHandler(e);\n\n        removeListener(ownerDocument, \"mousemove\", eventHandler);\n        removeListener(ownerDocument, \"mouseup\", onMouseUp);\n        removeListener(ownerDocument, \"dragstart\", onMouseUp);\n    }\n\n    addListener(ownerDocument, \"mousemove\", eventHandler);\n    addListener(ownerDocument, \"mouseup\", onMouseUp);\n    addListener(ownerDocument, \"dragstart\", onMouseUp);\n    \n    return onMouseUp;\n};\n\nexports.addMouseWheelListener = function(el, callback, destroyer) {\n    if (\"onmousewheel\" in el) {\n        addListener(el, \"mousewheel\", function(e) {\n            var factor = 8;\n            if (e.wheelDeltaX !== undefined) {\n                e.wheelX = -e.wheelDeltaX / factor;\n                e.wheelY = -e.wheelDeltaY / factor;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = -e.wheelDelta / factor;\n            }\n            callback(e);\n        }, destroyer);\n    } else if (\"onwheel\" in el) {\n        addListener(el, \"wheel\",  function(e) {\n            var factor = 0.35;\n            switch (e.deltaMode) {\n                case e.DOM_DELTA_PIXEL:\n                    e.wheelX = e.deltaX * factor || 0;\n                    e.wheelY = e.deltaY * factor || 0;\n                    break;\n                case e.DOM_DELTA_LINE:\n                case e.DOM_DELTA_PAGE:\n                    e.wheelX = (e.deltaX || 0) * 5;\n                    e.wheelY = (e.deltaY || 0) * 5;\n                    break;\n            }\n            \n            callback(e);\n        }, destroyer);\n    } else {\n        addListener(el, \"DOMMouseScroll\", function(e) {\n            if (e.axis && e.axis == e.HORIZONTAL_AXIS) {\n                e.wheelX = (e.detail || 0) * 5;\n                e.wheelY = 0;\n            } else {\n                e.wheelX = 0;\n                e.wheelY = (e.detail || 0) * 5;\n            }\n            callback(e);\n        }, destroyer);\n    }\n};\n\nexports.addMultiMouseDownListener = function(elements, timeouts, eventHandler, callbackName, destroyer) {\n    var clicks = 0;\n    var startX, startY, timer; \n    var eventNames = {\n        2: \"dblclick\",\n        3: \"tripleclick\",\n        4: \"quadclick\"\n    };\n\n    function onMousedown(e) {\n        if (exports.getButton(e) !== 0) {\n            clicks = 0;\n        } else if (e.detail > 1) {\n            clicks++;\n            if (clicks > 4)\n                clicks = 1;\n        } else {\n            clicks = 1;\n        }\n        if (useragent.isIE) {\n            var isNewClick = Math.abs(e.clientX - startX) > 5 || Math.abs(e.clientY - startY) > 5;\n            if (!timer || isNewClick)\n                clicks = 1;\n            if (timer)\n                clearTimeout(timer);\n            timer = setTimeout(function() {timer = null;}, timeouts[clicks - 1] || 600);\n\n            if (clicks == 1) {\n                startX = e.clientX;\n                startY = e.clientY;\n            }\n        }\n        \n        e._clicks = clicks;\n\n        eventHandler[callbackName](\"mousedown\", e);\n\n        if (clicks > 4)\n            clicks = 0;\n        else if (clicks > 1)\n            return eventHandler[callbackName](eventNames[clicks], e);\n    }\n    if (!Array.isArray(elements))\n        elements = [elements];\n    elements.forEach(function(el) {\n        addListener(el, \"mousedown\", onMousedown, destroyer);\n    });\n};\n\nvar getModifierHash = function(e) {\n    return 0 | (e.ctrlKey ? 1 : 0) | (e.altKey ? 2 : 0) | (e.shiftKey ? 4 : 0) | (e.metaKey ? 8 : 0);\n};\n\nexports.getModifierString = function(e) {\n    return keys.KEY_MODS[getModifierHash(e)];\n};\n\nfunction normalizeCommandKeys(callback, e, keyCode) {\n    var hashId = getModifierHash(e);\n\n    if (!useragent.isMac && pressedKeys) {\n        if (e.getModifierState && (e.getModifierState(\"OS\") || e.getModifierState(\"Win\")))\n            hashId |= 8;\n        if (pressedKeys.altGr) {\n            if ((3 & hashId) != 3)\n                pressedKeys.altGr = 0;\n            else\n                return;\n        }\n        if (keyCode === 18 || keyCode === 17) {\n            var location = \"location\" in e ? e.location : e.keyLocation;\n            if (keyCode === 17 && location === 1) {\n                if (pressedKeys[keyCode] == 1)\n                    ts = e.timeStamp;\n            } else if (keyCode === 18 && hashId === 3 && location === 2) {\n                var dt = e.timeStamp - ts;\n                if (dt < 50)\n                    pressedKeys.altGr = true;\n            }\n        }\n    }\n    \n    if (keyCode in keys.MODIFIER_KEYS) {\n        keyCode = -1;\n    }\n    \n    if (!hashId && keyCode === 13) {\n        var location = \"location\" in e ? e.location : e.keyLocation;\n        if (location === 3) {\n            callback(e, hashId, -keyCode);\n            if (e.defaultPrevented)\n                return;\n        }\n    }\n    \n    if (useragent.isChromeOS && hashId & 8) {\n        callback(e, hashId, keyCode);\n        if (e.defaultPrevented)\n            return;\n        else\n            hashId &= ~8;\n    }\n    if (!hashId && !(keyCode in keys.FUNCTION_KEYS) && !(keyCode in keys.PRINTABLE_KEYS)) {\n        return false;\n    }\n    \n    return callback(e, hashId, keyCode);\n}\n\n\nexports.addCommandKeyListener = function(el, callback, destroyer) {\n    if (useragent.isOldGecko || (useragent.isOpera && !(\"KeyboardEvent\" in window))) {\n        var lastKeyDownKeyCode = null;\n        addListener(el, \"keydown\", function(e) {\n            lastKeyDownKeyCode = e.keyCode;\n        }, destroyer);\n        addListener(el, \"keypress\", function(e) {\n            return normalizeCommandKeys(callback, e, lastKeyDownKeyCode);\n        }, destroyer);\n    } else {\n        var lastDefaultPrevented = null;\n\n        addListener(el, \"keydown\", function(e) {\n            pressedKeys[e.keyCode] = (pressedKeys[e.keyCode] || 0) + 1;\n            var result = normalizeCommandKeys(callback, e, e.keyCode);\n            lastDefaultPrevented = e.defaultPrevented;\n            return result;\n        }, destroyer);\n\n        addListener(el, \"keypress\", function(e) {\n            if (lastDefaultPrevented && (e.ctrlKey || e.altKey || e.shiftKey || e.metaKey)) {\n                exports.stopEvent(e);\n                lastDefaultPrevented = null;\n            }\n        }, destroyer);\n\n        addListener(el, \"keyup\", function(e) {\n            pressedKeys[e.keyCode] = null;\n        }, destroyer);\n\n        if (!pressedKeys) {\n            resetPressedKeys();\n            addListener(window, \"focus\", resetPressedKeys);\n        }\n    }\n};\nfunction resetPressedKeys() {\n    pressedKeys = Object.create(null);\n}\n\nif (typeof window == \"object\" && window.postMessage && !useragent.isOldIE) {\n    var postMessageId = 1;\n    exports.nextTick = function(callback, win) {\n        win = win || window;\n        var messageName = \"zero-timeout-message-\" + (postMessageId++);\n        \n        var listener = function(e) {\n            if (e.data == messageName) {\n                exports.stopPropagation(e);\n                removeListener(win, \"message\", listener);\n                callback();\n            }\n        };\n        \n        addListener(win, \"message\", listener);\n        win.postMessage(messageName, \"*\");\n    };\n}\n\nexports.$idleBlocked = false;\nexports.onIdle = function(cb, timeout) {\n    return setTimeout(function handler() {\n        if (!exports.$idleBlocked) {\n            cb();\n        } else {\n            setTimeout(handler, 100);\n        }\n    }, timeout);\n};\n\nexports.$idleBlockId = null;\nexports.blockIdle = function(delay) {\n    if (exports.$idleBlockId)\n        clearTimeout(exports.$idleBlockId);\n        \n    exports.$idleBlocked = true;\n    exports.$idleBlockId = setTimeout(function() {\n        exports.$idleBlocked = false;\n    }, delay || 100);\n};\n\nexports.nextFrame = typeof window == \"object\" && (window.requestAnimationFrame\n    || window.mozRequestAnimationFrame\n    || window.webkitRequestAnimationFrame\n    || window.msRequestAnimationFrame\n    || window.oRequestAnimationFrame);\n\nif (exports.nextFrame)\n    exports.nextFrame = exports.nextFrame.bind(window);\nelse\n    exports.nextFrame = function(callback) {\n        setTimeout(callback, 17);\n    };\n});\n\nace.define(\"ace/range\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\nvar Range = function(startRow, startColumn, endRow, endColumn) {\n    this.start = {\n        row: startRow,\n        column: startColumn\n    };\n\n    this.end = {\n        row: endRow,\n        column: endColumn\n    };\n};\n\n(function() {\n    this.isEqual = function(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    };\n    this.toString = function() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    };\n\n    this.contains = function(row, column) {\n        return this.compare(row, column) == 0;\n    };\n    this.compareRange = function(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp == 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == 1) {\n                return 2;\n            } else if (cmp == 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp == -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp == -1) {\n                return -1;\n            } else if (cmp == 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    };\n    this.comparePoint = function(p) {\n        return this.compare(p.row, p.column);\n    };\n    this.containsRange = function(range) {\n        return this.comparePoint(range.start) == 0 && this.comparePoint(range.end) == 0;\n    };\n    this.intersects = function(range) {\n        var cmp = this.compareRange(range);\n        return (cmp == -1 || cmp == 0 || cmp == 1);\n    };\n    this.isEnd = function(row, column) {\n        return this.end.row == row && this.end.column == column;\n    };\n    this.isStart = function(row, column) {\n        return this.start.row == row && this.start.column == column;\n    };\n    this.setStart = function(row, column) {\n        if (typeof row == \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    };\n    this.setEnd = function(row, column) {\n        if (typeof row == \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    };\n    this.inside = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideStart = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.insideEnd = function(row, column) {\n        if (this.compare(row, column) == 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    };\n    this.compare = function(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    };\n    this.compareStart = function(row, column) {\n        if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareEnd = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.compareInside = function(row, column) {\n        if (this.end.row == row && this.end.column == column) {\n            return 1;\n        } else if (this.start.row == row && this.start.column == column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    };\n    this.clipRows = function(firstRow, lastRow) {\n        if (this.end.row > lastRow)\n            var end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            var end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            var start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            var start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n    this.extend = function(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp == 0)\n            return this;\n        else if (cmp == -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    };\n\n    this.isEmpty = function() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    };\n    this.isMultiLine = function() {\n        return (this.start.row !== this.end.row);\n    };\n    this.clone = function() {\n        return Range.fromPoints(this.start, this.end);\n    };\n    this.collapseRows = function() {\n        if (this.end.column == 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row-1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    };\n    this.toScreenRange = function(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    };\n    this.moveBy = function(row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    };\n\n}).call(Range.prototype);\nRange.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column);\n};\nRange.comparePoints = comparePoints;\n\nRange.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column;\n};\n\n\nexports.Range = Range;\n});\n\nace.define(\"ace/lib/lang\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.last = function(a) {\n    return a[a.length - 1];\n};\n\nexports.stringReverse = function(string) {\n    return string.split(\"\").reverse().join(\"\");\n};\n\nexports.stringRepeat = function (string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if (count >>= 1)\n            string += string;\n    }\n    return result;\n};\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexports.stringTrimLeft = function (string) {\n    return string.replace(trimBeginRegexp, '');\n};\n\nexports.stringTrimRight = function (string) {\n    return string.replace(trimEndRegexp, '');\n};\n\nexports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n};\n\nexports.copyArray = function(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else \n            copy[i] = array[i];\n    }\n    return copy;\n};\n\nexports.deepCopy = function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n    \n    copy = {};\n    for (var key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n};\n\nexports.arrayToMap = function(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n\n};\n\nexports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n};\nexports.arrayRemove = function(array, value) {\n  for (var i = 0; i <= array.length; i++) {\n    if (value === array[i]) {\n      array.splice(i, 1);\n    }\n  }\n};\n\nexports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n};\n\nexports.escapeHTML = function(str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n};\n\nexports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n\n    return matches;\n};\nexports.deferredCall = function(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n    \n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n};\n\n\nexports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n};\n});\n\nace.define(\"ace/clipboard\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar $cancelT;\nmodule.exports = { \n    lineMode: false,\n    pasteCancelled: function() {\n        if ($cancelT && $cancelT > Date.now() - 50)\n            return true;\n        return $cancelT = false;\n    },\n    cancel: function() {\n        $cancelT = Date.now();\n    }\n};\n\n});\n\nace.define(\"ace/keyboard/textinput\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/clipboard\",\"ace/lib/keys\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar clipboard = require(\"../clipboard\");\nvar BROKEN_SETDATA = useragent.isChrome < 18;\nvar USE_IE_MIME_TYPE =  useragent.isIE;\nvar HAS_FOCUS_ARGS = useragent.isChrome > 63;\nvar MAX_LINE_LENGTH = 400;\n\nvar KEYS = require(\"../lib/keys\");\nvar MODS = KEYS.KEY_MODS;\nvar isIOS = useragent.isIOS;\nvar valueResetRegex = isIOS ? /\\s/ : /\\n/;\nvar isMobile = useragent.isMobile;\n\nvar TextInput = function(parentNode, host) {\n    var text = dom.createElement(\"textarea\");\n    text.className = \"ace_text-input\";\n\n    text.setAttribute(\"wrap\", \"off\");\n    text.setAttribute(\"autocorrect\", \"off\");\n    text.setAttribute(\"autocapitalize\", \"off\");\n    text.setAttribute(\"spellcheck\", false);\n\n    text.style.opacity = \"0\";\n    parentNode.insertBefore(text, parentNode.firstChild);\n\n    var copied = false;\n    var pasted = false;\n    var inComposition = false;\n    var sendingText = false;\n    var tempStyle = '';\n    \n    if (!isMobile)\n        text.style.fontSize = \"1px\";\n\n    var commandMode = false;\n    var ignoreFocusEvents = false;\n    \n    var lastValue = \"\";\n    var lastSelectionStart = 0;\n    var lastSelectionEnd = 0;\n    var lastRestoreEnd = 0;\n    try { var isFocused = document.activeElement === text; } catch(e) {}\n    \n    event.addListener(text, \"blur\", function(e) {\n        if (ignoreFocusEvents) return;\n        host.onBlur(e);\n        isFocused = false;\n    }, host);\n    event.addListener(text, \"focus\", function(e) {\n        if (ignoreFocusEvents) return;\n        isFocused = true;\n        if (useragent.isEdge) {\n            try {\n                if (!document.hasFocus())\n                    return;\n            } catch(e) {}\n        }\n        host.onFocus(e);\n        if (useragent.isEdge)\n            setTimeout(resetSelection);\n        else\n            resetSelection();\n    }, host);\n    this.$focusScroll = false;\n    this.focus = function() {\n        if (tempStyle || HAS_FOCUS_ARGS || this.$focusScroll == \"browser\")\n            return text.focus({ preventScroll: true });\n\n        var top = text.style.top;\n        text.style.position = \"fixed\";\n        text.style.top = \"0px\";\n        try {\n            var isTransformed = text.getBoundingClientRect().top != 0;\n        } catch(e) {\n            return;\n        }\n        var ancestors = [];\n        if (isTransformed) {\n            var t = text.parentElement;\n            while (t && t.nodeType == 1) {\n                ancestors.push(t);\n                t.setAttribute(\"ace_nocontext\", true);\n                if (!t.parentElement && t.getRootNode)\n                    t = t.getRootNode().host;\n                else\n                    t = t.parentElement;\n            }\n        }\n        text.focus({ preventScroll: true });\n        if (isTransformed) {\n            ancestors.forEach(function(p) {\n                p.removeAttribute(\"ace_nocontext\");\n            });\n        }\n        setTimeout(function() {\n            text.style.position = \"\";\n            if (text.style.top == \"0px\")\n                text.style.top = top;\n        }, 0);\n    };\n    this.blur = function() {\n        text.blur();\n    };\n    this.isFocused = function() {\n        return isFocused;\n    };\n    \n    host.on(\"beforeEndOperation\", function() {\n        var curOp = host.curOp;\n        var commandName = curOp && curOp.command && curOp.command.name;\n        if (commandName == \"insertstring\")\n            return;\n        var isUserAction = commandName && (curOp.docChanged || curOp.selectionChanged);\n        if (inComposition && isUserAction) {\n            lastValue = text.value = \"\";\n            onCompositionEnd();\n        }\n        resetSelection();\n    });\n    \n    var resetSelection = isIOS\n    ? function(value) {\n        if (!isFocused || (copied && !value) || sendingText) return;\n        if (!value) \n            value = \"\";\n        var newValue = \"\\n ab\" + value + \"cde fg\\n\";\n        if (newValue != text.value)\n            text.value = lastValue = newValue;\n        \n        var selectionStart = 4;\n        var selectionEnd = 4 + (value.length || (host.selection.isEmpty() ? 0 : 1));\n\n        if (lastSelectionStart != selectionStart || lastSelectionEnd != selectionEnd) {\n            text.setSelectionRange(selectionStart, selectionEnd);\n        }\n        lastSelectionStart = selectionStart;\n        lastSelectionEnd = selectionEnd;\n    }\n    : function() {\n        if (inComposition || sendingText)\n            return;\n        if (!isFocused && !afterContextMenu)\n            return;\n        inComposition = true;\n        \n        var selectionStart = 0;\n        var selectionEnd = 0;\n        var line = \"\";\n\n        if (host.session) {\n            var selection = host.selection;\n            var range = selection.getRange();\n            var row = selection.cursor.row;\n            selectionStart = range.start.column;\n            selectionEnd = range.end.column;\n            line = host.session.getLine(row);\n\n            if (range.start.row != row) {\n                var prevLine = host.session.getLine(row - 1);\n                selectionStart = range.start.row < row - 1 ? 0 : selectionStart;\n                selectionEnd += prevLine.length + 1;\n                line = prevLine + \"\\n\" + line;\n            }\n            else if (range.end.row != row) {\n                var nextLine = host.session.getLine(row + 1);\n                selectionEnd = range.end.row > row  + 1 ? nextLine.length : selectionEnd;\n                selectionEnd += line.length + 1;\n                line = line + \"\\n\" + nextLine;\n            }\n            else if (isMobile && row > 0) {\n                line = \"\\n\" + line;\n                selectionEnd += 1;\n                selectionStart += 1;\n            }\n\n            if (line.length > MAX_LINE_LENGTH) {\n                if (selectionStart < MAX_LINE_LENGTH && selectionEnd < MAX_LINE_LENGTH) {\n                    line = line.slice(0, MAX_LINE_LENGTH);\n                } else {\n                    line = \"\\n\";\n                    if (selectionStart == selectionEnd) {\n                        selectionStart = selectionEnd = 0;\n                    }\n                    else {\n                        selectionStart = 0;\n                        selectionEnd = 1;\n                    }\n                }\n            }\n        }\n\n        var newValue = line + \"\\n\\n\";\n        if (newValue != lastValue) {\n            text.value = lastValue = newValue;\n            lastSelectionStart = lastSelectionEnd = newValue.length;\n        }\n        if (afterContextMenu) {\n            lastSelectionStart = text.selectionStart;\n            lastSelectionEnd = text.selectionEnd;\n        }\n        if (\n            lastSelectionEnd != selectionEnd \n            || lastSelectionStart != selectionStart \n            || text.selectionEnd != lastSelectionEnd // on ie edge selectionEnd changes silently after the initialization\n        ) {\n            try {\n                text.setSelectionRange(selectionStart, selectionEnd);\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n            } catch(e){}\n        }\n        inComposition = false;\n    };\n    this.resetSelection = resetSelection;\n\n    if (isFocused)\n        host.onFocus();\n\n\n    var isAllSelected = function(text) {\n        return text.selectionStart === 0 && text.selectionEnd >= lastValue.length\n            && text.value === lastValue && lastValue\n            && text.selectionEnd !== lastSelectionEnd;\n    };\n\n    var onSelect = function(e) {\n        if (inComposition)\n            return;\n        if (copied) {\n            copied = false;\n        } else if (isAllSelected(text)) {\n            host.selectAll();\n            resetSelection();\n        } else if (isMobile && text.selectionStart != lastSelectionStart) {\n            resetSelection();\n        }\n    };\n\n    var inputHandler = null;\n    this.setInputHandler = function(cb) {inputHandler = cb;};\n    this.getInputHandler = function() {return inputHandler;};\n    var afterContextMenu = false;\n    \n    var sendText = function(value, fromInput) {\n        if (afterContextMenu)\n            afterContextMenu = false;\n        if (pasted) {\n            resetSelection();\n            if (value)\n                host.onPaste(value);\n            pasted = false;\n            return \"\";\n        } else {\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n        \n            var extendLeft = lastSelectionStart;\n            var extendRight = lastValue.length - lastSelectionEnd;\n            \n            var inserted = value;\n            var restoreStart = value.length - selectionStart;\n            var restoreEnd = value.length - selectionEnd;\n        \n            var i = 0;\n            while (extendLeft > 0 && lastValue[i] == value[i]) {\n                i++;\n                extendLeft--;\n            }\n            inserted = inserted.slice(i);\n            i = 1;\n            while (extendRight > 0 && lastValue.length - i > lastSelectionStart - 1  && lastValue[lastValue.length - i] == value[value.length - i]) {\n                i++;\n                extendRight--;\n            }\n            restoreStart -= i-1;\n            restoreEnd -= i-1;\n            var endIndex = inserted.length - i + 1;\n            if (endIndex < 0) {\n                extendLeft = -endIndex;\n                endIndex = 0;\n            } \n            inserted = inserted.slice(0, endIndex);\n            if (!fromInput && !inserted && !restoreStart && !extendLeft && !extendRight && !restoreEnd)\n                return \"\";\n            sendingText = true;\n            var shouldReset = false;\n            if (useragent.isAndroid && inserted == \". \") {\n                inserted = \"  \";\n                shouldReset = true;\n            }\n            \n            if (inserted && !extendLeft && !extendRight && !restoreStart && !restoreEnd || commandMode) {\n                host.onTextInput(inserted);\n            } else {\n                host.onTextInput(inserted, {\n                    extendLeft: extendLeft,\n                    extendRight: extendRight,\n                    restoreStart: restoreStart,\n                    restoreEnd: restoreEnd\n                });\n            }\n            sendingText = false;\n            \n            lastValue = value;\n            lastSelectionStart = selectionStart;\n            lastSelectionEnd = selectionEnd;\n            lastRestoreEnd = restoreEnd;\n            return shouldReset ? \"\\n\" : inserted;\n        }\n    };\n    var onInput = function(e) {\n        if (inComposition)\n            return onCompositionUpdate();\n        if (e && e.inputType) {\n            if (e.inputType == \"historyUndo\") return host.execCommand(\"undo\");\n            if (e.inputType == \"historyRedo\") return host.execCommand(\"redo\");\n        }\n        var data = text.value;\n        var inserted = sendText(data, true);\n        if (\n            data.length > MAX_LINE_LENGTH + 100 \n            || valueResetRegex.test(inserted)\n            || isMobile && lastSelectionStart < 1 && lastSelectionStart == lastSelectionEnd\n        ) {\n            resetSelection();\n        }\n    };\n    \n    var handleClipboardData = function(e, data, forceIEMime) {\n        var clipboardData = e.clipboardData || window.clipboardData;\n        if (!clipboardData || BROKEN_SETDATA)\n            return;\n        var mime = USE_IE_MIME_TYPE || forceIEMime ? \"Text\" : \"text/plain\";\n        try {\n            if (data) {\n                return clipboardData.setData(mime, data) !== false;\n            } else {\n                return clipboardData.getData(mime);\n            }\n        } catch(e) {\n            if (!forceIEMime)\n                return handleClipboardData(e, data, true);\n        }\n    };\n\n    var doCopy = function(e, isCut) {\n        var data = host.getCopyText();\n        if (!data)\n            return event.preventDefault(e);\n\n        if (handleClipboardData(e, data)) {\n            if (isIOS) {\n                resetSelection(data);\n                copied = data;\n                setTimeout(function () {\n                    copied = false;\n                }, 10);\n            }\n            isCut ? host.onCut() : host.onCopy();\n            event.preventDefault(e);\n        } else {\n            copied = true;\n            text.value = data;\n            text.select();\n            setTimeout(function(){\n                copied = false;\n                resetSelection();\n                isCut ? host.onCut() : host.onCopy();\n            });\n        }\n    };\n    \n    var onCut = function(e) {\n        doCopy(e, true);\n    };\n    \n    var onCopy = function(e) {\n        doCopy(e, false);\n    };\n    \n    var onPaste = function(e) {\n        var data = handleClipboardData(e);\n        if (clipboard.pasteCancelled())\n            return;\n        if (typeof data == \"string\") {\n            if (data)\n                host.onPaste(data, e);\n            if (useragent.isIE)\n                setTimeout(resetSelection);\n            event.preventDefault(e);\n        }\n        else {\n            text.value = \"\";\n            pasted = true;\n        }\n    };\n\n    event.addCommandKeyListener(text, host.onCommandKey.bind(host), host);\n\n    event.addListener(text, \"select\", onSelect, host);\n    event.addListener(text, \"input\", onInput, host);\n\n    event.addListener(text, \"cut\", onCut, host);\n    event.addListener(text, \"copy\", onCopy, host);\n    event.addListener(text, \"paste\", onPaste, host);\n    if (!('oncut' in text) || !('oncopy' in text) || !('onpaste' in text)) {\n        event.addListener(parentNode, \"keydown\", function(e) {\n            if ((useragent.isMac && !e.metaKey) || !e.ctrlKey)\n                return;\n\n            switch (e.keyCode) {\n                case 67:\n                    onCopy(e);\n                    break;\n                case 86:\n                    onPaste(e);\n                    break;\n                case 88:\n                    onCut(e);\n                    break;\n            }\n        }, host);\n    }\n    var onCompositionStart = function(e) {\n        if (inComposition || !host.onCompositionStart || host.$readOnly) \n            return;\n        \n        inComposition = {};\n\n        if (commandMode)\n            return;\n        \n        if (e.data)\n            inComposition.useTextareaForIME = false;\n        \n        setTimeout(onCompositionUpdate, 0);\n        host._signal(\"compositionStart\");\n        host.on(\"mousedown\", cancelComposition);\n        \n        var range = host.getSelectionRange();\n        range.end.row = range.start.row;\n        range.end.column = range.start.column;\n        inComposition.markerRange = range;\n        inComposition.selectionStart = lastSelectionStart;\n        host.onCompositionStart(inComposition);\n        \n        if (inComposition.useTextareaForIME) {\n            lastValue = text.value = \"\";\n            lastSelectionStart = 0;\n            lastSelectionEnd = 0;\n        }\n        else {\n            if (text.msGetInputContext)\n                inComposition.context = text.msGetInputContext();\n            if (text.getInputContext)\n                inComposition.context = text.getInputContext();\n        }\n    };\n\n    var onCompositionUpdate = function() {\n        if (!inComposition || !host.onCompositionUpdate || host.$readOnly)\n            return;\n        if (commandMode)\n            return cancelComposition();\n        \n        if (inComposition.useTextareaForIME) {\n            host.onCompositionUpdate(text.value);\n        }\n        else {\n            var data = text.value;\n            sendText(data);\n            if (inComposition.markerRange) {\n                if (inComposition.context) {\n                    inComposition.markerRange.start.column = inComposition.selectionStart\n                        = inComposition.context.compositionStartOffset;\n                }\n                inComposition.markerRange.end.column = inComposition.markerRange.start.column\n                    + lastSelectionEnd - inComposition.selectionStart + lastRestoreEnd;\n            }\n        }\n    };\n\n    var onCompositionEnd = function(e) {\n        if (!host.onCompositionEnd || host.$readOnly) return;\n        inComposition = false;\n        host.onCompositionEnd();\n        host.off(\"mousedown\", cancelComposition);\n        if (e) onInput();\n    };\n    \n\n    function cancelComposition() {\n        ignoreFocusEvents = true;\n        text.blur();\n        text.focus();\n        ignoreFocusEvents = false;\n    }\n\n    var syncComposition = lang.delayedCall(onCompositionUpdate, 50).schedule.bind(null, null);\n    \n    function onKeyup(e) {\n        if (e.keyCode == 27 && text.value.length < text.selectionStart) {\n            if (!inComposition)\n                lastValue = text.value;\n            lastSelectionStart = lastSelectionEnd = -1;\n            resetSelection();\n        }\n        syncComposition();\n    }\n\n    event.addListener(text, \"compositionstart\", onCompositionStart, host);\n    event.addListener(text, \"compositionupdate\", onCompositionUpdate, host);\n    event.addListener(text, \"keyup\", onKeyup, host);\n    event.addListener(text, \"keydown\", syncComposition, host);\n    event.addListener(text, \"compositionend\", onCompositionEnd, host);\n\n    this.getElement = function() {\n        return text;\n    };\n    this.setCommandMode = function(value) {\n       commandMode = value;\n       text.readOnly = false;\n    };\n    \n    this.setReadOnly = function(readOnly) {\n        if (!commandMode)\n            text.readOnly = readOnly;\n    };\n\n    this.setCopyWithEmptySelection = function(value) {\n    };\n\n    this.onContextMenu = function(e) {\n        afterContextMenu = true;\n        resetSelection();\n        host._emit(\"nativecontextmenu\", {target: host, domEvent: e});\n        this.moveToMouse(e, true);\n    };\n    \n    this.moveToMouse = function(e, bringToFront) {\n        if (!tempStyle)\n            tempStyle = text.style.cssText;\n        text.style.cssText = (bringToFront ? \"z-index:100000;\" : \"\")\n            + (useragent.isIE ? \"opacity:0.1;\" : \"\")\n            + \"text-indent: -\" + (lastSelectionStart + lastSelectionEnd) * host.renderer.characterWidth * 0.5 + \"px;\";\n\n        var rect = host.container.getBoundingClientRect();\n        var style = dom.computedStyle(host.container);\n        var top = rect.top + (parseInt(style.borderTopWidth) || 0);\n        var left = rect.left + (parseInt(rect.borderLeftWidth) || 0);\n        var maxTop = rect.bottom - top - text.clientHeight -2;\n        var move = function(e) {\n            dom.translate(text, e.clientX - left - 2, Math.min(e.clientY - top - 2, maxTop));\n        }; \n        move(e);\n\n        if (e.type != \"mousedown\")\n            return;\n\n        host.renderer.$isMousePressed = true;\n\n        clearTimeout(closeTimeout);\n        if (useragent.isWin)\n            event.capture(host.container, move, onContextMenuClose);\n    };\n\n    this.onContextMenuClose = onContextMenuClose;\n    var closeTimeout;\n    function onContextMenuClose() {\n        clearTimeout(closeTimeout);\n        closeTimeout = setTimeout(function () {\n            if (tempStyle) {\n                text.style.cssText = tempStyle;\n                tempStyle = '';\n            }\n            host.renderer.$isMousePressed = false;\n            if (host.renderer.$keepTextAreaAtCursor)\n                host.renderer.$moveTextAreaToCursor();\n        }, 0);\n    }\n\n    var onContextMenu = function(e) {\n        host.textInput.onContextMenu(e);\n        onContextMenuClose();\n    };\n    event.addListener(text, \"mouseup\", onContextMenu, host);\n    event.addListener(text, \"mousedown\", function(e) {\n        e.preventDefault();\n        onContextMenuClose();\n    }, host);\n    event.addListener(host.renderer.scroller, \"contextmenu\", onContextMenu, host);\n    event.addListener(text, \"contextmenu\", onContextMenu, host);\n    \n    if (isIOS)\n        addIosSelectionHandler(parentNode, host, text);\n\n    function addIosSelectionHandler(parentNode, host, text) {\n        var typingResetTimeout = null;\n        var typing = false;\n \n        text.addEventListener(\"keydown\", function (e) {\n            if (typingResetTimeout) clearTimeout(typingResetTimeout);\n            typing = true;\n        }, true);\n\n        text.addEventListener(\"keyup\", function (e) {\n            typingResetTimeout = setTimeout(function () {\n                typing = false;\n            }, 100);\n        }, true);\n        var detectArrowKeys = function(e) {\n            if (document.activeElement !== text) return;\n            if (typing || inComposition || host.$mouseHandler.isMousePressed) return;\n\n            if (copied) {\n                return;\n            }\n            var selectionStart = text.selectionStart;\n            var selectionEnd = text.selectionEnd;\n            \n            var key = null;\n            var modifier = 0;\n            if (selectionStart == 0) {\n                key = KEYS.up;\n            } else if (selectionStart == 1) {\n                key = KEYS.home;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd] == \"\\n\") {\n                key = KEYS.end;\n            } else if (selectionStart < lastSelectionStart && lastValue[selectionStart - 1] == \" \") {\n                key = KEYS.left;\n                modifier = MODS.option;\n            } else if (\n                selectionStart < lastSelectionStart\n                || (\n                    selectionStart == lastSelectionStart \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.left;\n            } else if (selectionEnd > lastSelectionEnd && lastValue.slice(0, selectionEnd).split(\"\\n\").length > 2) {\n                key = KEYS.down;\n            } else if (selectionEnd > lastSelectionEnd && lastValue[selectionEnd - 1] == \" \") {\n                key = KEYS.right;\n                modifier = MODS.option;\n            } else if (\n                selectionEnd > lastSelectionEnd\n                || (\n                    selectionEnd == lastSelectionEnd \n                    && lastSelectionEnd != lastSelectionStart\n                    && selectionStart == selectionEnd\n                )\n            ) {\n                key = KEYS.right;\n            }\n            \n            if (selectionStart !== selectionEnd)\n                modifier |= MODS.shift;\n\n            if (key) {\n                var result = host.onCommandKey({}, modifier, key);\n                if (!result && host.commands) {\n                    key = KEYS.keyCodeToString(key);\n                    var command = host.commands.findKeyCommand(modifier, key);\n                    if (command)\n                        host.execCommand(command);\n                }\n                lastSelectionStart = selectionStart;\n                lastSelectionEnd = selectionEnd;\n                resetSelection(\"\");\n            }\n        };\n        document.addEventListener(\"selectionchange\", detectArrowKeys);\n        host.on(\"destroy\", function() {\n            document.removeEventListener(\"selectionchange\", detectArrowKeys);\n        });\n    }\n};\n\nexports.TextInput = TextInput;\nexports.$setUserAgentForTests = function(_isMobile, _isIOS) {\n    isMobile = _isMobile;\n    isIOS = _isIOS;\n};\n});\n\nace.define(\"ace/mouse/default_handlers\",[\"require\",\"exports\",\"module\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar useragent = require(\"../lib/useragent\");\n\nvar DRAG_OFFSET = 0; // pixels\nvar SCROLL_COOLDOWN_T = 550; // milliseconds\n\nfunction DefaultHandlers(mouseHandler) {\n    mouseHandler.$clickSelection = null;\n\n    var editor = mouseHandler.editor;\n    editor.setDefaultHandler(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n    editor.setDefaultHandler(\"dblclick\", this.onDoubleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"tripleclick\", this.onTripleClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"quadclick\", this.onQuadClick.bind(mouseHandler));\n    editor.setDefaultHandler(\"mousewheel\", this.onMouseWheel.bind(mouseHandler));\n\n    var exports = [\"select\", \"startSelect\", \"selectEnd\", \"selectAllEnd\", \"selectByWordsEnd\",\n        \"selectByLinesEnd\", \"dragWait\", \"dragWaitEnd\", \"focusWait\"];\n\n    exports.forEach(function(x) {\n        mouseHandler[x] = this[x];\n    }, this);\n\n    mouseHandler.selectByLines = this.extendSelectionBy.bind(mouseHandler, \"getLineRange\");\n    mouseHandler.selectByWords = this.extendSelectionBy.bind(mouseHandler, \"getWordRange\");\n}\n\n(function() {\n\n    this.onMouseDown = function(ev) {\n        var inSelection = ev.inSelection();\n        var pos = ev.getDocumentPosition();\n        this.mousedownEvent = ev;\n        var editor = this.editor;\n\n        var button = ev.getButton();\n        if (button !== 0) {\n            var selectionRange = editor.getSelectionRange();\n            var selectionEmpty = selectionRange.isEmpty();\n            if (selectionEmpty || button == 1)\n                editor.selection.moveToPosition(pos);\n            if (button == 2) {\n                editor.textInput.onContextMenu(ev.domEvent);\n                if (!useragent.isMozilla)\n                    ev.preventDefault();\n            }\n            return;\n        }\n\n        this.mousedownEvent.time = Date.now();\n        if (inSelection && !editor.isFocused()) {\n            editor.focus();\n            if (this.$focusTimeout && !this.$clickSelection && !editor.inMultiSelectMode) {\n                this.setState(\"focusWait\");\n                this.captureMouse(ev);\n                return;\n            }\n        }\n\n        this.captureMouse(ev);\n        this.startSelect(pos, ev.domEvent._clicks > 1);\n        return ev.preventDefault();\n    };\n\n    this.startSelect = function(pos, waitForClickSelection) {\n        pos = pos || this.editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var editor = this.editor;\n        if (!this.mousedownEvent) return;\n        if (this.mousedownEvent.getShiftKey())\n            editor.selection.selectToPosition(pos);\n        else if (!waitForClickSelection)\n            editor.selection.moveToPosition(pos);\n        if (!waitForClickSelection)\n            this.select();\n        if (editor.renderer.scroller.setCapture) {\n            editor.renderer.scroller.setCapture();\n        }\n        editor.setStyle(\"ace_selecting\");\n        this.setState(\"select\");\n    };\n\n    this.select = function() {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        if (this.$clickSelection) {\n            var cmp = this.$clickSelection.comparePoint(cursor);\n\n            if (cmp == -1) {\n                anchor = this.$clickSelection.end;\n            } else if (cmp == 1) {\n                anchor = this.$clickSelection.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.extendSelectionBy = function(unitName) {\n        var anchor, editor = this.editor;\n        var cursor = editor.renderer.screenToTextCoordinates(this.x, this.y);\n        var range = editor.selection[unitName](cursor.row, cursor.column);\n        if (this.$clickSelection) {\n            var cmpStart = this.$clickSelection.comparePoint(range.start);\n            var cmpEnd = this.$clickSelection.comparePoint(range.end);\n\n            if (cmpStart == -1 && cmpEnd <= 0) {\n                anchor = this.$clickSelection.end;\n                if (range.end.row != cursor.row || range.end.column != cursor.column)\n                    cursor = range.start;\n            } else if (cmpEnd == 1 && cmpStart >= 0) {\n                anchor = this.$clickSelection.start;\n                if (range.start.row != cursor.row || range.start.column != cursor.column)\n                    cursor = range.end;\n            } else if (cmpStart == -1 && cmpEnd == 1) {\n                cursor = range.end;\n                anchor = range.start;\n            } else {\n                var orientedRange = calcRangeOrientation(this.$clickSelection, cursor);\n                cursor = orientedRange.cursor;\n                anchor = orientedRange.anchor;\n            }\n            editor.selection.setSelectionAnchor(anchor.row, anchor.column);\n        }\n        editor.selection.selectToPosition(cursor);\n        editor.renderer.scrollCursorIntoView();\n    };\n\n    this.selectEnd =\n    this.selectAllEnd =\n    this.selectByWordsEnd =\n    this.selectByLinesEnd = function() {\n        this.$clickSelection = null;\n        this.editor.unsetStyle(\"ace_selecting\");\n        if (this.editor.renderer.scroller.releaseCapture) {\n            this.editor.renderer.scroller.releaseCapture();\n        }\n    };\n\n    this.focusWait = function() {\n        var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n        var time = Date.now();\n\n        if (distance > DRAG_OFFSET || time - this.mousedownEvent.time > this.$focusTimeout)\n            this.startSelect(this.mousedownEvent.getDocumentPosition());\n    };\n\n    this.onDoubleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n        var session = editor.session;\n\n        var range = session.getBracketRange(pos);\n        if (range) {\n            if (range.isEmpty()) {\n                range.start.column--;\n                range.end.column++;\n            }\n            this.setState(\"select\");\n        } else {\n            range = editor.selection.getWordRange(pos.row, pos.column);\n            this.setState(\"selectByWords\");\n        }\n        this.$clickSelection = range;\n        this.select();\n    };\n\n    this.onTripleClick = function(ev) {\n        var pos = ev.getDocumentPosition();\n        var editor = this.editor;\n\n        this.setState(\"selectByLines\");\n        var range = editor.getSelectionRange();\n        if (range.isMultiLine() && range.contains(pos.row, pos.column)) {\n            this.$clickSelection = editor.selection.getLineRange(range.start.row);\n            this.$clickSelection.end = editor.selection.getLineRange(range.end.row).end;\n        } else {\n            this.$clickSelection = editor.selection.getLineRange(pos.row);\n        }\n        this.select();\n    };\n\n    this.onQuadClick = function(ev) {\n        var editor = this.editor;\n\n        editor.selectAll();\n        this.$clickSelection = editor.getSelectionRange();\n        this.setState(\"selectAll\");\n    };\n\n    this.onMouseWheel = function(ev) {\n        if (ev.getAccelKey())\n            return;\n        if (ev.getShiftKey() && ev.wheelY && !ev.wheelX) {\n            ev.wheelX = ev.wheelY;\n            ev.wheelY = 0;\n        }\n        \n        var editor = this.editor;\n        \n        if (!this.$lastScroll)\n            this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 };\n        \n        var prevScroll = this.$lastScroll;\n        var t = ev.domEvent.timeStamp;\n        var dt = t - prevScroll.t;\n        var vx = dt ? ev.wheelX / dt : prevScroll.vx;\n        var vy = dt ? ev.wheelY / dt : prevScroll.vy;\n        if (dt < SCROLL_COOLDOWN_T) {\n            vx = (vx + prevScroll.vx) / 2;\n            vy = (vy + prevScroll.vy) / 2;\n        }\n        \n        var direction = Math.abs(vx / vy);\n        \n        var canScroll = false;\n        if (direction >= 1 && editor.renderer.isScrollableBy(ev.wheelX * ev.speed, 0))\n            canScroll = true;\n        if (direction <= 1 && editor.renderer.isScrollableBy(0, ev.wheelY * ev.speed))\n            canScroll = true;\n            \n        if (canScroll) {\n            prevScroll.allowed = t;\n        } else if (t - prevScroll.allowed < SCROLL_COOLDOWN_T) {\n            var isSlower = Math.abs(vx) <= 1.5 * Math.abs(prevScroll.vx)\n                && Math.abs(vy) <= 1.5 * Math.abs(prevScroll.vy);\n            if (isSlower) {\n                canScroll = true;\n                prevScroll.allowed = t;\n            }\n            else {\n                prevScroll.allowed = 0;\n            }\n        }\n        \n        prevScroll.t = t;\n        prevScroll.vx = vx;\n        prevScroll.vy = vy;\n\n        if (canScroll) {\n            editor.renderer.scrollBy(ev.wheelX * ev.speed, ev.wheelY * ev.speed);\n            return ev.stop();\n        }\n    };\n\n}).call(DefaultHandlers.prototype);\n\nexports.DefaultHandlers = DefaultHandlers;\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nfunction calcRangeOrientation(range, cursor) {\n    if (range.start.row == range.end.row)\n        var cmp = 2 * cursor.column - range.start.column - range.end.column;\n    else if (range.start.row == range.end.row - 1 && !range.start.column && !range.end.column)\n        var cmp = cursor.column - 4;\n    else\n        var cmp = 2 * cursor.row - range.start.row - range.end.row;\n\n    if (cmp < 0)\n        return {cursor: range.start, anchor: range.end};\n    else\n        return {cursor: range.end, anchor: range.start};\n}\n\n});\n\nace.define(\"ace/tooltip\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nfunction Tooltip (parentNode) {\n    this.isOpen = false;\n    this.$element = null;\n    this.$parentNode = parentNode;\n}\n\n(function() {\n    this.$init = function() {\n        this.$element = dom.createElement(\"div\");\n        this.$element.className = \"ace_tooltip\";\n        this.$element.style.display = \"none\";\n        this.$parentNode.appendChild(this.$element);\n        return this.$element;\n    };\n    this.getElement = function() {\n        return this.$element || this.$init();\n    };\n    this.setText = function(text) {\n        this.getElement().textContent = text;\n    };\n    this.setHtml = function(html) {\n        this.getElement().innerHTML = html;\n    };\n    this.setPosition = function(x, y) {\n        this.getElement().style.left = x + \"px\";\n        this.getElement().style.top = y + \"px\";\n    };\n    this.setClassName = function(className) {\n        dom.addCssClass(this.getElement(), className);\n    };\n    this.show = function(text, x, y) {\n        if (text != null)\n            this.setText(text);\n        if (x != null && y != null)\n            this.setPosition(x, y);\n        if (!this.isOpen) {\n            this.getElement().style.display = \"block\";\n            this.isOpen = true;\n        }\n    };\n\n    this.hide = function() {\n        if (this.isOpen) {\n            this.getElement().style.display = \"none\";\n            this.isOpen = false;\n        }\n    };\n    this.getHeight = function() {\n        return this.getElement().offsetHeight;\n    };\n    this.getWidth = function() {\n        return this.getElement().offsetWidth;\n    };\n    \n    this.destroy = function() {\n        this.isOpen = false;\n        if (this.$element && this.$element.parentNode) {\n            this.$element.parentNode.removeChild(this.$element);\n        }\n    };\n\n}).call(Tooltip.prototype);\n\nexports.Tooltip = Tooltip;\n});\n\nace.define(\"ace/mouse/default_gutter_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/event\",\"ace/tooltip\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar event = require(\"../lib/event\");\nvar Tooltip = require(\"../tooltip\").Tooltip;\n\nfunction GutterHandler(mouseHandler) {\n    var editor = mouseHandler.editor;\n    var gutter = editor.renderer.$gutterLayer;\n    var tooltip = new GutterTooltip(editor.container);\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousedown\", function(e) {\n        if (!editor.isFocused() || e.getButton() != 0)\n            return;\n        var gutterRegion = gutter.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\")\n            return;\n\n        var row = e.getDocumentPosition().row;\n        var selection = editor.session.selection;\n\n        if (e.getShiftKey())\n            selection.selectTo(row, 0);\n        else {\n            if (e.domEvent.detail == 2) {\n                editor.selectAll();\n                return e.preventDefault();\n            }\n            mouseHandler.$clickSelection = editor.selection.getLineRange(row);\n        }\n        mouseHandler.setState(\"selectByLines\");\n        mouseHandler.captureMouse(e);\n        return e.preventDefault();\n    });\n\n\n    var tooltipTimeout, mouseEvent, tooltipAnnotation;\n\n    function showTooltip() {\n        var row = mouseEvent.getDocumentPosition().row;\n        var annotation = gutter.$annotations[row];\n        if (!annotation)\n            return hideTooltip();\n\n        var maxRow = editor.session.getLength();\n        if (row == maxRow) {\n            var screenRow = editor.renderer.pixelToScreenCoordinates(0, mouseEvent.y).row;\n            var pos = mouseEvent.$pos;\n            if (screenRow > editor.session.documentToScreenRow(pos.row, pos.column))\n                return hideTooltip();\n        }\n\n        if (tooltipAnnotation == annotation)\n            return;\n        tooltipAnnotation = annotation.text.join(\"<br/>\");\n\n        tooltip.setHtml(tooltipAnnotation);\n        tooltip.show();\n        editor._signal(\"showGutterTooltip\", tooltip);\n        editor.on(\"mousewheel\", hideTooltip);\n\n        if (mouseHandler.$tooltipFollowsMouse) {\n            moveTooltip(mouseEvent);\n        } else {\n            var gutterElement = mouseEvent.domEvent.target;\n            var rect = gutterElement.getBoundingClientRect();\n            var style = tooltip.getElement().style;\n            style.left = rect.right + \"px\";\n            style.top = rect.bottom + \"px\";\n        }\n    }\n\n    function hideTooltip() {\n        if (tooltipTimeout)\n            tooltipTimeout = clearTimeout(tooltipTimeout);\n        if (tooltipAnnotation) {\n            tooltip.hide();\n            tooltipAnnotation = null;\n            editor._signal(\"hideGutterTooltip\", tooltip);\n            editor.off(\"mousewheel\", hideTooltip);\n        }\n    }\n\n    function moveTooltip(e) {\n        tooltip.setPosition(e.x, e.y);\n    }\n\n    mouseHandler.editor.setDefaultHandler(\"guttermousemove\", function(e) {\n        var target = e.domEvent.target || e.domEvent.srcElement;\n        if (dom.hasCssClass(target, \"ace_fold-widget\"))\n            return hideTooltip();\n\n        if (tooltipAnnotation && mouseHandler.$tooltipFollowsMouse)\n            moveTooltip(e);\n\n        mouseEvent = e;\n        if (tooltipTimeout)\n            return;\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            if (mouseEvent && !mouseHandler.isMousePressed)\n                showTooltip();\n            else\n                hideTooltip();\n        }, 50);\n    });\n\n    event.addListener(editor.renderer.$gutter, \"mouseout\", function(e) {\n        mouseEvent = null;\n        if (!tooltipAnnotation || tooltipTimeout)\n            return;\n\n        tooltipTimeout = setTimeout(function() {\n            tooltipTimeout = null;\n            hideTooltip();\n        }, 50);\n    }, editor);\n    \n    editor.on(\"changeSession\", hideTooltip);\n}\n\nfunction GutterTooltip(parentNode) {\n    Tooltip.call(this, parentNode);\n}\n\noop.inherits(GutterTooltip, Tooltip);\n\n(function(){\n    this.setPosition = function(x, y) {\n        var windowWidth = window.innerWidth || document.documentElement.clientWidth;\n        var windowHeight = window.innerHeight || document.documentElement.clientHeight;\n        var width = this.getWidth();\n        var height = this.getHeight();\n        x += 15;\n        y += 15;\n        if (x + width > windowWidth) {\n            x -= (x + width) - windowWidth;\n        }\n        if (y + height > windowHeight) {\n            y -= 20 + height;\n        }\n        Tooltip.prototype.setPosition.call(this, x, y);\n    };\n\n}).call(GutterTooltip.prototype);\n\n\n\nexports.GutterHandler = GutterHandler;\n\n});\n\nace.define(\"ace/mouse/mouse_event\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar MouseEvent = exports.MouseEvent = function(domEvent, editor) {\n    this.domEvent = domEvent;\n    this.editor = editor;\n    \n    this.x = this.clientX = domEvent.clientX;\n    this.y = this.clientY = domEvent.clientY;\n\n    this.$pos = null;\n    this.$inSelection = null;\n    \n    this.propagationStopped = false;\n    this.defaultPrevented = false;\n};\n\n(function() {  \n    \n    this.stopPropagation = function() {\n        event.stopPropagation(this.domEvent);\n        this.propagationStopped = true;\n    };\n    \n    this.preventDefault = function() {\n        event.preventDefault(this.domEvent);\n        this.defaultPrevented = true;\n    };\n    \n    this.stop = function() {\n        this.stopPropagation();\n        this.preventDefault();\n    };\n    this.getDocumentPosition = function() {\n        if (this.$pos)\n            return this.$pos;\n        \n        this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY);\n        return this.$pos;\n    };\n    this.inSelection = function() {\n        if (this.$inSelection !== null)\n            return this.$inSelection;\n            \n        var editor = this.editor;\n        \n\n        var selectionRange = editor.getSelectionRange();\n        if (selectionRange.isEmpty())\n            this.$inSelection = false;\n        else {\n            var pos = this.getDocumentPosition();\n            this.$inSelection = selectionRange.contains(pos.row, pos.column);\n        }\n\n        return this.$inSelection;\n    };\n    this.getButton = function() {\n        return event.getButton(this.domEvent);\n    };\n    this.getShiftKey = function() {\n        return this.domEvent.shiftKey;\n    };\n    \n    this.getAccelKey = useragent.isMac\n        ? function() { return this.domEvent.metaKey; }\n        : function() { return this.domEvent.ctrlKey; };\n    \n}).call(MouseEvent.prototype);\n\n});\n\nace.define(\"ace/mouse/dragdrop_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\n\nvar AUTOSCROLL_DELAY = 200;\nvar SCROLL_CURSOR_DELAY = 200;\nvar SCROLL_CURSOR_HYSTERESIS = 5;\n\nfunction DragdropHandler(mouseHandler) {\n\n    var editor = mouseHandler.editor;\n\n    var blankImage = dom.createElement(\"img\");\n    blankImage.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n    if (useragent.isOpera)\n        blankImage.style.cssText = \"width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;\";\n\n    var exports = [\"dragWait\", \"dragWaitEnd\", \"startDrag\", \"dragReadyEnd\", \"onMouseDrag\"];\n\n     exports.forEach(function(x) {\n         mouseHandler[x] = this[x];\n    }, this);\n    editor.on(\"mousedown\", this.onMouseDown.bind(mouseHandler));\n\n\n    var mouseTarget = editor.container;\n    var dragSelectionMarker, x, y;\n    var timerId, range;\n    var dragCursor, counter = 0;\n    var dragOperation;\n    var isInternal;\n    var autoScrollStartTime;\n    var cursorMovedTime;\n    var cursorPointOnCaretMoved;\n\n    this.onDragStart = function(e) {\n        if (this.cancelDrag || !mouseTarget.draggable) {\n            var self = this;\n            setTimeout(function(){\n                self.startSelect();\n                self.captureMouse(e);\n            }, 0);\n            return e.preventDefault();\n        }\n        range = editor.getSelectionRange();\n\n        var dataTransfer = e.dataTransfer;\n        dataTransfer.effectAllowed = editor.getReadOnly() ? \"copy\" : \"copyMove\";\n        if (useragent.isOpera) {\n            editor.container.appendChild(blankImage);\n            blankImage.scrollTop = 0;\n        }\n        dataTransfer.setDragImage && dataTransfer.setDragImage(blankImage, 0, 0);\n        if (useragent.isOpera) {\n            editor.container.removeChild(blankImage);\n        }\n        dataTransfer.clearData();\n        dataTransfer.setData(\"Text\", editor.session.getTextRange());\n\n        isInternal = true;\n        this.setState(\"drag\");\n    };\n\n    this.onDragEnd = function(e) {\n        mouseTarget.draggable = false;\n        isInternal = false;\n        this.setState(null);\n        if (!editor.getReadOnly()) {\n            var dropEffect = e.dataTransfer.dropEffect;\n            if (!dragOperation && dropEffect == \"move\")\n                editor.session.remove(editor.getSelectionRange());\n            editor.$resetCursorStyle();\n        }\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n    };\n\n    this.onDragEnter = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker)\n            addDragMarker();\n        counter++;\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragOver = function(e) {\n        if (editor.getReadOnly() || !canAccept(e.dataTransfer))\n            return;\n        x = e.clientX;\n        y = e.clientY;\n        if (!dragSelectionMarker) {\n            addDragMarker();\n            counter++;\n        }\n        if (onMouseMoveTimer !== null)\n            onMouseMoveTimer = null;\n\n        e.dataTransfer.dropEffect = dragOperation = getDropEffect(e);\n        return event.preventDefault(e);\n    };\n\n    this.onDragLeave = function(e) {\n        counter--;\n        if (counter <= 0 && dragSelectionMarker) {\n            clearDragMarker();\n            dragOperation = null;\n            return event.preventDefault(e);\n        }\n    };\n\n    this.onDrop = function(e) {\n        if (!dragCursor)\n            return;\n        var dataTransfer = e.dataTransfer;\n        if (isInternal) {\n            switch (dragOperation) {\n                case \"move\":\n                    if (range.contains(dragCursor.row, dragCursor.column)) {\n                        range = {\n                            start: dragCursor,\n                            end: dragCursor\n                        };\n                    } else {\n                        range = editor.moveText(range, dragCursor);\n                    }\n                    break;\n                case \"copy\":\n                    range = editor.moveText(range, dragCursor, true);\n                    break;\n            }\n        } else {\n            var dropData = dataTransfer.getData('Text');\n            range = {\n                start: dragCursor,\n                end: editor.session.insert(dragCursor, dropData)\n            };\n            editor.focus();\n            dragOperation = null;\n        }\n        clearDragMarker();\n        return event.preventDefault(e);\n    };\n\n    event.addListener(mouseTarget, \"dragstart\", this.onDragStart.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragend\", this.onDragEnd.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragenter\", this.onDragEnter.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragover\", this.onDragOver.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"dragleave\", this.onDragLeave.bind(mouseHandler), editor);\n    event.addListener(mouseTarget, \"drop\", this.onDrop.bind(mouseHandler), editor);\n\n    function scrollCursorIntoView(cursor, prevCursor) {\n        var now = Date.now();\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        var hMovement = !prevCursor || cursor.column != prevCursor.column;\n        if (!cursorMovedTime || vMovement || hMovement) {\n            editor.moveCursorToPosition(cursor);\n            cursorMovedTime = now;\n            cursorPointOnCaretMoved = {x: x, y: y};\n        } else {\n            var distance = calcDistance(cursorPointOnCaretMoved.x, cursorPointOnCaretMoved.y, x, y);\n            if (distance > SCROLL_CURSOR_HYSTERESIS) {\n                cursorMovedTime = null;\n            } else if (now - cursorMovedTime >= SCROLL_CURSOR_DELAY) {\n                editor.renderer.scrollCursorIntoView();\n                cursorMovedTime = null;\n            }\n        }\n    }\n\n    function autoScroll(cursor, prevCursor) {\n        var now = Date.now();\n        var lineHeight = editor.renderer.layerConfig.lineHeight;\n        var characterWidth = editor.renderer.layerConfig.characterWidth;\n        var editorRect = editor.renderer.scroller.getBoundingClientRect();\n        var offsets = {\n           x: {\n               left: x - editorRect.left,\n               right: editorRect.right - x\n           },\n           y: {\n               top: y - editorRect.top,\n               bottom: editorRect.bottom - y\n           }\n        };\n        var nearestXOffset = Math.min(offsets.x.left, offsets.x.right);\n        var nearestYOffset = Math.min(offsets.y.top, offsets.y.bottom);\n        var scrollCursor = {row: cursor.row, column: cursor.column};\n        if (nearestXOffset / characterWidth <= 2) {\n            scrollCursor.column += (offsets.x.left < offsets.x.right ? -3 : +2);\n        }\n        if (nearestYOffset / lineHeight <= 1) {\n            scrollCursor.row += (offsets.y.top < offsets.y.bottom ? -1 : +1);\n        }\n        var vScroll = cursor.row != scrollCursor.row;\n        var hScroll = cursor.column != scrollCursor.column;\n        var vMovement = !prevCursor || cursor.row != prevCursor.row;\n        if (vScroll || (hScroll && !vMovement)) {\n            if (!autoScrollStartTime)\n                autoScrollStartTime = now;\n            else if (now - autoScrollStartTime >= AUTOSCROLL_DELAY)\n                editor.renderer.scrollCursorIntoView(scrollCursor);\n        } else {\n            autoScrollStartTime = null;\n        }\n    }\n\n    function onDragInterval() {\n        var prevCursor = dragCursor;\n        dragCursor = editor.renderer.screenToTextCoordinates(x, y);\n        scrollCursorIntoView(dragCursor, prevCursor);\n        autoScroll(dragCursor, prevCursor);\n    }\n\n    function addDragMarker() {\n        range = editor.selection.toOrientedRange();\n        dragSelectionMarker = editor.session.addMarker(range, \"ace_selection\", editor.getSelectionStyle());\n        editor.clearSelection();\n        if (editor.isFocused())\n            editor.renderer.$cursorLayer.setBlinking(false);\n        clearInterval(timerId);\n        onDragInterval();\n        timerId = setInterval(onDragInterval, 20);\n        counter = 0;\n        event.addListener(document, \"mousemove\", onMouseMove);\n    }\n\n    function clearDragMarker() {\n        clearInterval(timerId);\n        editor.session.removeMarker(dragSelectionMarker);\n        dragSelectionMarker = null;\n        editor.selection.fromOrientedRange(range);\n        if (editor.isFocused() && !isInternal)\n            editor.$resetCursorStyle();\n        range = null;\n        dragCursor = null;\n        counter = 0;\n        autoScrollStartTime = null;\n        cursorMovedTime = null;\n        event.removeListener(document, \"mousemove\", onMouseMove);\n    }\n    var onMouseMoveTimer = null;\n    function onMouseMove() {\n        if (onMouseMoveTimer == null) {\n            onMouseMoveTimer = setTimeout(function() {\n                if (onMouseMoveTimer != null && dragSelectionMarker)\n                    clearDragMarker();\n            }, 20);\n        }\n    }\n\n    function canAccept(dataTransfer) {\n        var types = dataTransfer.types;\n        return !types || Array.prototype.some.call(types, function(type) {\n            return type == 'text/plain' || type == 'Text';\n        });\n    }\n\n    function getDropEffect(e) {\n        var copyAllowed = ['copy', 'copymove', 'all', 'uninitialized'];\n        var moveAllowed = ['move', 'copymove', 'linkmove', 'all', 'uninitialized'];\n\n        var copyModifierState = useragent.isMac ? e.altKey : e.ctrlKey;\n        var effectAllowed = \"uninitialized\";\n        try {\n            effectAllowed = e.dataTransfer.effectAllowed.toLowerCase();\n        } catch (e) {}\n        var dropEffect = \"none\";\n\n        if (copyModifierState && copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n        else if (moveAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"move\";\n        else if (copyAllowed.indexOf(effectAllowed) >= 0)\n            dropEffect = \"copy\";\n\n        return dropEffect;\n    }\n}\n\n(function() {\n\n    this.dragWait = function() {\n        var interval = Date.now() - this.mousedownEvent.time;\n        if (interval > this.editor.getDragDelay())\n            this.startDrag();\n    };\n\n    this.dragWaitEnd = function() {\n        var target = this.editor.container;\n        target.draggable = false;\n        this.startSelect(this.mousedownEvent.getDocumentPosition());\n        this.selectEnd();\n    };\n\n    this.dragReadyEnd = function(e) {\n        this.editor.$resetCursorStyle();\n        this.editor.unsetStyle(\"ace_dragging\");\n        this.editor.renderer.setCursorStyle(\"\");\n        this.dragWaitEnd();\n    };\n\n    this.startDrag = function(){\n        this.cancelDrag = false;\n        var editor = this.editor;\n        var target = editor.container;\n        target.draggable = true;\n        editor.renderer.$cursorLayer.setBlinking(false);\n        editor.setStyle(\"ace_dragging\");\n        var cursorStyle = useragent.isWin ? \"default\" : \"move\";\n        editor.renderer.setCursorStyle(cursorStyle);\n        this.setState(\"dragReady\");\n    };\n\n    this.onMouseDrag = function(e) {\n        var target = this.editor.container;\n        if (useragent.isIE && this.state == \"dragReady\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 3)\n                target.dragDrop();\n        }\n        if (this.state === \"dragWait\") {\n            var distance = calcDistance(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);\n            if (distance > 0) {\n                target.draggable = false;\n                this.startSelect(this.mousedownEvent.getDocumentPosition());\n            }\n        }\n    };\n\n    this.onMouseDown = function(e) {\n        if (!this.$dragEnabled)\n            return;\n        this.mousedownEvent = e;\n        var editor = this.editor;\n\n        var inSelection = e.inSelection();\n        var button = e.getButton();\n        var clickCount = e.domEvent.detail || 1;\n        if (clickCount === 1 && button === 0 && inSelection) {\n            if (e.editor.inMultiSelectMode && (e.getAccelKey() || e.getShiftKey()))\n                return;\n            this.mousedownEvent.time = Date.now();\n            var eventTarget = e.domEvent.target || e.domEvent.srcElement;\n            if (\"unselectable\" in eventTarget)\n                eventTarget.unselectable = \"on\";\n            if (editor.getDragDelay()) {\n                if (useragent.isWebKit) {\n                    this.cancelDrag = true;\n                    var mouseTarget = editor.container;\n                    mouseTarget.draggable = true;\n                }\n                this.setState(\"dragWait\");\n            } else {\n                this.startDrag();\n            }\n            this.captureMouse(e, this.onMouseDrag.bind(this));\n            e.defaultPrevented = true;\n        }\n    };\n\n}).call(DragdropHandler.prototype);\n\n\nfunction calcDistance(ax, ay, bx, by) {\n    return Math.sqrt(Math.pow(bx - ax, 2) + Math.pow(by - ay, 2));\n}\n\nexports.DragdropHandler = DragdropHandler;\n\n});\n\nace.define(\"ace/mouse/touch_handler\",[\"require\",\"exports\",\"module\",\"ace/mouse/mouse_event\",\"ace/lib/event\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar event = require(\"../lib/event\");\nvar dom = require(\"../lib/dom\");\n\nexports.addTouchListeners = function(el, editor) {\n    var mode = \"scroll\";\n    var startX;\n    var startY;\n    var touchStartT;\n    var lastT;\n    var longTouchTimer;\n    var animationTimer;\n    var animationSteps = 0;\n    var pos;\n    var clickCount = 0;\n    var vX = 0;\n    var vY = 0;\n    var pressed;\n    var contextMenu;\n    \n    function createContextMenu() {\n        var clipboard = window.navigator && window.navigator.clipboard;\n        var isOpen = false;\n        var updateMenu = function() {\n            var selected = editor.getCopyText();\n            var hasUndo = editor.session.getUndoManager().hasUndo();\n            contextMenu.replaceChild(\n                dom.buildDom(isOpen ? [\"span\",\n                    !selected && [\"span\", { class: \"ace_mobile-button\", action: \"selectall\" }, \"Select All\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"copy\" }, \"Copy\"],\n                    selected && [\"span\", { class: \"ace_mobile-button\", action: \"cut\" }, \"Cut\"],\n                    clipboard && [\"span\", { class: \"ace_mobile-button\", action: \"paste\" }, \"Paste\"],\n                    hasUndo && [\"span\", { class: \"ace_mobile-button\", action: \"undo\" }, \"Undo\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"find\" }, \"Find\"],\n                    [\"span\", { class: \"ace_mobile-button\", action: \"openCommandPallete\" }, \"Pallete\"]\n                ] : [\"span\"]),\n                contextMenu.firstChild\n            );\n        };\n        var handleClick = function(e) {\n            var action = e.target.getAttribute(\"action\");\n\n            if (action == \"more\" || !isOpen) {\n                isOpen = !isOpen;\n                return updateMenu();\n            }\n            if (action == \"paste\") {\n                clipboard.readText().then(function (text) {\n                    editor.execCommand(action, text);\n                });\n            }\n            else if (action) {\n                if (action == \"cut\" || action == \"copy\") {\n                    if (clipboard)\n                        clipboard.writeText(editor.getCopyText());\n                    else\n                        document.execCommand(\"copy\");\n                }\n                editor.execCommand(action);\n            }\n            contextMenu.firstChild.style.display = \"none\";\n            isOpen = false;\n            if (action != \"openCommandPallete\")\n                editor.focus();\n        };\n        contextMenu = dom.buildDom([\"div\",\n            {\n                class: \"ace_mobile-menu\",\n                ontouchstart: function(e) {\n                    mode = \"menu\";\n                    e.stopPropagation();\n                    e.preventDefault();\n                    editor.textInput.focus();\n                },\n                ontouchend: function(e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    handleClick(e);\n                },\n                onclick: handleClick\n            },\n            [\"span\"],\n            [\"span\", { class: \"ace_mobile-button\", action: \"more\" }, \"...\"]\n        ], editor.container);\n    }\n    function showContextMenu() {\n        if (!contextMenu) createContextMenu();\n        var cursor = editor.selection.cursor;\n        var pagePos = editor.renderer.textToScreenCoordinates(cursor.row, cursor.column);\n        var leftOffset = editor.renderer.textToScreenCoordinates(0, 0).pageX;\n        var scrollLeft = editor.renderer.scrollLeft;\n        var rect = editor.container.getBoundingClientRect();\n        contextMenu.style.top = pagePos.pageY - rect.top - 3 + \"px\";\n        if (pagePos.pageX - rect.left < rect.width - 70) {\n            contextMenu.style.left = \"\";\n            contextMenu.style.right = \"10px\";\n        } else {\n            contextMenu.style.right = \"\";\n            contextMenu.style.left = leftOffset + scrollLeft - rect.left + \"px\";\n        }\n        contextMenu.style.display = \"\";\n        contextMenu.firstChild.style.display = \"none\";\n        editor.on(\"input\", hideContextMenu);\n    }\n    function hideContextMenu(e) {\n        if (contextMenu)\n            contextMenu.style.display = \"none\";\n        editor.off(\"input\", hideContextMenu);\n    }\n\n    function handleLongTap() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        var range = editor.selection.getRange();\n        var inSelection = range.contains(pos.row, pos.column);\n        if (range.isEmpty() || !inSelection) {\n            editor.selection.moveToPosition(pos);\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n        showContextMenu();\n    }\n    function switchToSelectionMode() {\n        longTouchTimer = null;\n        clearTimeout(longTouchTimer);\n        editor.selection.moveToPosition(pos);\n        var range = clickCount >= 2\n            ? editor.selection.getLineRange(pos.row)\n            : editor.session.getBracketRange(pos);\n        if (range && !range.isEmpty()) {\n            editor.selection.setRange(range);\n        } else {\n            editor.selection.selectWord();\n        }\n        mode = \"wait\";\n    }\n    event.addListener(el, \"contextmenu\", function(e) {\n        if (!pressed) return;\n        var textarea = editor.textInput.getElement();\n        textarea.focus();\n    }, editor);\n    event.addListener(el, \"touchstart\", function (e) {\n        var touches = e.touches;\n        if (longTouchTimer || touches.length > 1) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n            touchStartT = -1;\n            mode = \"zoom\";\n            return;\n        }\n        \n        pressed = editor.$mouseHandler.isMousePressed = true;\n        var h = editor.renderer.layerConfig.lineHeight;\n        var w = editor.renderer.layerConfig.lineHeight;\n        var t = e.timeStamp;\n        lastT = t;\n        var touchObj = touches[0];\n        var x = touchObj.clientX;\n        var y = touchObj.clientY;\n        if (Math.abs(startX - x) + Math.abs(startY - y) > h)\n            touchStartT = -1;\n        \n        startX = e.clientX = x;\n        startY = e.clientY = y;\n        vX = vY = 0;\n        \n        var ev = new MouseEvent(e, editor);\n        pos = ev.getDocumentPosition();\n\n        if (t - touchStartT < 500 && touches.length == 1 && !animationSteps) {\n            clickCount++;\n            e.preventDefault();\n            e.button = 0;\n            switchToSelectionMode();\n        } else {\n            clickCount = 0;\n            var cursor = editor.selection.cursor;\n            var anchor = editor.selection.isEmpty() ? cursor : editor.selection.anchor;\n            \n            var cursorPos = editor.renderer.$cursorLayer.getPixelPosition(cursor, true);\n            var anchorPos = editor.renderer.$cursorLayer.getPixelPosition(anchor, true);\n            var rect = editor.renderer.scroller.getBoundingClientRect();\n            var offsetTop = editor.renderer.layerConfig.offset;\n            var offsetLeft = editor.renderer.scrollLeft;\n            var weightedDistance = function(x, y) {\n                x = x / w;\n                y = y / h - 0.75;\n                return x * x + y * y;\n            };\n            \n            if (e.clientX < rect.left) {\n                mode = \"zoom\";\n                return;\n            }\n            \n            var diff1 = weightedDistance(\n                e.clientX - rect.left - cursorPos.left + offsetLeft,\n                e.clientY - rect.top - cursorPos.top + offsetTop\n            );\n            var diff2 = weightedDistance(\n                e.clientX - rect.left - anchorPos.left + offsetLeft,\n                e.clientY - rect.top - anchorPos.top + offsetTop\n            );\n            if (diff1 < 3.5 && diff2 < 3.5)\n                mode = diff1 > diff2 ? \"cursor\" : \"anchor\";\n                \n            if (diff2 < 3.5)\n                mode = \"anchor\";\n            else if (diff1 < 3.5)\n                mode = \"cursor\";\n            else\n                mode = \"scroll\";\n            longTouchTimer = setTimeout(handleLongTap, 450);\n        }\n        touchStartT = t;\n    }, editor);\n\n    event.addListener(el, \"touchend\", function (e) {\n        pressed = editor.$mouseHandler.isMousePressed = false;\n        if (animationTimer) clearInterval(animationTimer);\n        if (mode == \"zoom\") {\n            mode = \"\";\n            animationSteps = 0;\n        } else if (longTouchTimer) {\n            editor.selection.moveToPosition(pos);\n            animationSteps = 0;\n            showContextMenu();\n        } else if (mode == \"scroll\") {\n            animate();\n            hideContextMenu();\n        } else {\n            showContextMenu();\n        }\n        clearTimeout(longTouchTimer);\n        longTouchTimer = null;\n    }, editor);\n    event.addListener(el, \"touchmove\", function (e) {\n        if (longTouchTimer) {\n            clearTimeout(longTouchTimer);\n            longTouchTimer = null;\n        }\n        var touches = e.touches;\n        if (touches.length > 1 || mode == \"zoom\") return;\n\n        var touchObj = touches[0];\n\n        var wheelX = startX - touchObj.clientX;\n        var wheelY = startY - touchObj.clientY;\n\n        if (mode == \"wait\") {\n            if (wheelX * wheelX + wheelY * wheelY > 4)\n                mode = \"cursor\";\n            else\n                return e.preventDefault();\n        }\n\n        startX = touchObj.clientX;\n        startY = touchObj.clientY;\n\n        e.clientX = touchObj.clientX;\n        e.clientY = touchObj.clientY;\n\n        var t = e.timeStamp;\n        var dt = t - lastT;\n        lastT = t;\n        if (mode == \"scroll\") {\n            var mouseEvent = new MouseEvent(e, editor);\n            mouseEvent.speed = 1;\n            mouseEvent.wheelX = wheelX;\n            mouseEvent.wheelY = wheelY;\n            if (10 * Math.abs(wheelX) < Math.abs(wheelY)) wheelX = 0;\n            if (10 * Math.abs(wheelY) < Math.abs(wheelX)) wheelY = 0;\n            if (dt != 0) {\n                vX = wheelX / dt;\n                vY = wheelY / dt;\n            }\n            editor._emit(\"mousewheel\", mouseEvent);\n            if (!mouseEvent.propagationStopped) {\n                vX = vY = 0;\n            }\n        }\n        else {\n            var ev = new MouseEvent(e, editor);\n            var pos = ev.getDocumentPosition();\n            if (mode == \"cursor\")\n                editor.selection.moveCursorToPosition(pos);\n            else if (mode == \"anchor\")\n                editor.selection.setSelectionAnchor(pos.row, pos.column);\n            editor.renderer.scrollCursorIntoView(pos);\n            e.preventDefault();\n        }\n    }, editor);\n\n    function animate() {\n        animationSteps += 60;\n        animationTimer = setInterval(function() {\n            if (animationSteps-- <= 0) {\n                clearInterval(animationTimer);\n                animationTimer = null;\n            }\n            if (Math.abs(vX) < 0.01) vX = 0;\n            if (Math.abs(vY) < 0.01) vY = 0;\n            if (animationSteps < 20) vX = 0.9 * vX;\n            if (animationSteps < 20) vY = 0.9 * vY;\n            var oldScrollTop = editor.session.getScrollTop();\n            editor.renderer.scrollBy(10 * vX, 10 * vY);\n            if (oldScrollTop == editor.session.getScrollTop())\n                animationSteps = 0;\n        }, 10);\n    }\n};\n\n});\n\nace.define(\"ace/lib/net\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"./dom\");\n\nexports.get = function (url, callback) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url, true);\n    xhr.onreadystatechange = function () {\n        if (xhr.readyState === 4) {\n            callback(xhr.responseText);\n        }\n    };\n    xhr.send(null);\n};\n\nexports.loadScript = function(path, callback) {\n    var head = dom.getDocumentHead();\n    var s = document.createElement('script');\n\n    s.src = path;\n    head.appendChild(s);\n\n    s.onload = s.onreadystatechange = function(_, isAbort) {\n        if (isAbort || !s.readyState || s.readyState == \"loaded\" || s.readyState == \"complete\") {\n            s = s.onload = s.onreadystatechange = null;\n            if (!isAbort)\n                callback();\n        }\n    };\n};\nexports.qualifyURL = function(url) {\n    var a = document.createElement('a');\n    a.href = url;\n    return a.href;\n};\n\n});\n\nace.define(\"ace/lib/event_emitter\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar EventEmitter = {};\nvar stopPropagation = function() { this.propagationStopped = true; };\nvar preventDefault = function() { this.defaultPrevented = true; };\n\nEventEmitter._emit =\nEventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {});\n    this._defaultHandlers || (this._defaultHandlers = {});\n\n    var listeners = this._eventRegistry[eventName] || [];\n    var defaultHandler = this._defaultHandlers[eventName];\n    if (!listeners.length && !defaultHandler)\n        return;\n\n    if (typeof e != \"object\" || !e)\n        e = {};\n\n    if (!e.type)\n        e.type = eventName;\n    if (!e.stopPropagation)\n        e.stopPropagation = stopPropagation;\n    if (!e.preventDefault)\n        e.preventDefault = preventDefault;\n\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++) {\n        listeners[i](e, this);\n        if (e.propagationStopped)\n            break;\n    }\n    \n    if (defaultHandler && !e.defaultPrevented)\n        return defaultHandler(e, this);\n};\n\n\nEventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (!listeners)\n        return;\n    listeners = listeners.slice();\n    for (var i=0; i<listeners.length; i++)\n        listeners[i](e, this);\n};\n\nEventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    this.on(eventName, function newCallback() {\n        _self.off(eventName, newCallback);\n        callback.apply(null, arguments);\n    });\n    if (!callback) {\n        return new Promise(function(resolve) {\n            callback = resolve;\n        });\n    }\n};\n\n\nEventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        handlers = this._defaultHandlers = {_disabled_: {}};\n    \n    if (handlers[eventName]) {\n        var old = handlers[eventName];\n        var disabled = handlers._disabled_[eventName];\n        if (!disabled)\n            handlers._disabled_[eventName] = disabled = [];\n        disabled.push(old);\n        var i = disabled.indexOf(callback);\n        if (i != -1) \n            disabled.splice(i, 1);\n    }\n    handlers[eventName] = callback;\n};\nEventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (!handlers)\n        return;\n    var disabled = handlers._disabled_[eventName];\n    \n    if (handlers[eventName] == callback) {\n        if (disabled)\n            this.setDefaultHandler(eventName, disabled.pop());\n    } else if (disabled) {\n        var i = disabled.indexOf(callback);\n        if (i != -1)\n            disabled.splice(i, 1);\n    }\n};\n\nEventEmitter.on =\nEventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        listeners = this._eventRegistry[eventName] = [];\n\n    if (listeners.indexOf(callback) == -1)\n        listeners[capturing ? \"unshift\" : \"push\"](callback);\n    return callback;\n};\n\nEventEmitter.off =\nEventEmitter.removeListener =\nEventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n\n    var listeners = this._eventRegistry[eventName];\n    if (!listeners)\n        return;\n\n    var index = listeners.indexOf(callback);\n    if (index !== -1)\n        listeners.splice(index, 1);\n};\n\nEventEmitter.removeAllListeners = function(eventName) {\n    if (!eventName) this._eventRegistry = this._defaultHandlers = undefined;\n    if (this._eventRegistry) this._eventRegistry[eventName] = undefined;\n    if (this._defaultHandlers) this._defaultHandlers[eventName] = undefined;\n};\n\nexports.EventEmitter = EventEmitter;\n\n});\n\nace.define(\"ace/lib/app_config\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"no use strict\";\n\nvar oop = require(\"./oop\");\nvar EventEmitter = require(\"./event_emitter\").EventEmitter;\n\nvar optionsProvider = {\n    setOptions: function(optList) {\n        Object.keys(optList).forEach(function(key) {\n            this.setOption(key, optList[key]);\n        }, this);\n    },\n    getOptions: function(optionNames) {\n        var result = {};\n        if (!optionNames) {\n            var options = this.$options;\n            optionNames = Object.keys(options).filter(function(key) {\n                return !options[key].hidden;\n            });\n        } else if (!Array.isArray(optionNames)) {\n            result = optionNames;\n            optionNames = Object.keys(result);\n        }\n        optionNames.forEach(function(key) {\n            result[key] = this.getOption(key);\n        }, this);\n        return result;\n    },\n    setOption: function(name, value) {\n        if (this[\"$\" + name] === value)\n            return;\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].setOption(name, value);\n\n        if (!opt.handlesSet)\n            this[\"$\" + name] = value;\n        if (opt && opt.set)\n            opt.set.call(this, value);\n    },\n    getOption: function(name) {\n        var opt = this.$options[name];\n        if (!opt) {\n            return warn('misspelled option \"' + name + '\"');\n        }\n        if (opt.forwardTo)\n            return this[opt.forwardTo] && this[opt.forwardTo].getOption(name);\n        return opt && opt.get ? opt.get.call(this) : this[\"$\" + name];\n    }\n};\n\nfunction warn(message) {\n    if (typeof console != \"undefined\" && console.warn)\n        console.warn.apply(console, arguments);\n}\n\nfunction reportError(msg, data) {\n    var e = new Error(msg);\n    e.data = data;\n    if (typeof console == \"object\" && console.error)\n        console.error(e);\n    setTimeout(function() { throw e; });\n}\n\nvar AppConfig = function() {\n    this.$defaultOptions = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    this.defineOptions = function(obj, path, options) {\n        if (!obj.$options)\n            this.$defaultOptions[path] = obj.$options = {};\n\n        Object.keys(options).forEach(function(key) {\n            var opt = options[key];\n            if (typeof opt == \"string\")\n                opt = {forwardTo: opt};\n\n            opt.name || (opt.name = key);\n            obj.$options[opt.name] = opt;\n            if (\"initialValue\" in opt)\n                obj[\"$\" + opt.name] = opt.initialValue;\n        });\n        oop.implement(obj, optionsProvider);\n\n        return this;\n    };\n\n    this.resetOptions = function(obj) {\n        Object.keys(obj.$options).forEach(function(key) {\n            var opt = obj.$options[key];\n            if (\"value\" in opt)\n                obj.setOption(key, opt.value);\n        });\n    };\n\n    this.setDefaultValue = function(path, name, value) {\n        if (!path) {\n            for (path in this.$defaultOptions)\n                if (this.$defaultOptions[path][name])\n                    break;\n            if (!this.$defaultOptions[path][name])\n                return false;\n        }\n        var opts = this.$defaultOptions[path] || (this.$defaultOptions[path] = {});\n        if (opts[name]) {\n            if (opts.forwardTo)\n                this.setDefaultValue(opts.forwardTo, name, value);\n            else\n                opts[name].value = value;\n        }\n    };\n\n    this.setDefaultValues = function(path, optionHash) {\n        Object.keys(optionHash).forEach(function(key) {\n            this.setDefaultValue(path, key, optionHash[key]);\n        }, this);\n    };\n    \n    this.warn = warn;\n    this.reportError = reportError;\n    \n}).call(AppConfig.prototype);\n\nexports.AppConfig = AppConfig;\n\n});\n\nace.define(\"ace/config\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/app_config\"], function(require, exports, module) {\n\"no use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar net = require(\"./lib/net\");\nvar AppConfig = require(\"./lib/app_config\").AppConfig;\n\nmodule.exports = exports = new AppConfig();\n\nvar global = (function() {\n    return this || typeof window != \"undefined\" && window;\n})();\n\nvar options = {\n    packaged: false,\n    workerPath: null,\n    modePath: null,\n    themePath: null,\n    basePath: \"\",\n    suffix: \".js\",\n    $moduleUrls: {},\n    loadWorkerFromBlob: true,\n    sharedPopups: false\n};\n\nexports.get = function(key) {\n    if (!options.hasOwnProperty(key))\n        throw new Error(\"Unknown config key: \" + key);\n\n    return options[key];\n};\n\nexports.set = function(key, value) {\n    if (options.hasOwnProperty(key))\n        options[key] = value;\n    else if (this.setDefaultValue(\"\", key, value) == false)\n        throw new Error(\"Unknown config key: \" + key);\n};\n\nexports.all = function() {\n    return lang.copyObject(options);\n};\n\nexports.$modes = {};\nexports.moduleUrl = function(name, component) {\n    if (options.$moduleUrls[name])\n        return options.$moduleUrls[name];\n\n    var parts = name.split(\"/\");\n    component = component || parts[parts.length - 2] || \"\";\n    var sep = component == \"snippets\" ? \"/\" : \"-\";\n    var base = parts[parts.length - 1];\n    if (component == \"worker\" && sep == \"-\") {\n        var re = new RegExp(\"^\" + component + \"[\\\\-_]|[\\\\-_]\" + component + \"$\", \"g\");\n        base = base.replace(re, \"\");\n    }\n\n    if ((!base || base == component) && parts.length > 1)\n        base = parts[parts.length - 2];\n    var path = options[component + \"Path\"];\n    if (path == null) {\n        path = options.basePath;\n    } else if (sep == \"/\") {\n        component = sep = \"\";\n    }\n    if (path && path.slice(-1) != \"/\")\n        path += \"/\";\n    return path + component + sep + base + this.get(\"suffix\");\n};\n\nexports.setModuleUrl = function(name, subst) {\n    return options.$moduleUrls[name] = subst;\n};\n\nexports.$loading = {};\nexports.loadModule = function(moduleName, onLoad) {\n    var module, moduleType;\n    if (Array.isArray(moduleName)) {\n        moduleType = moduleName[0];\n        moduleName = moduleName[1];\n    }\n\n    try {\n        module = require(moduleName);\n    } catch (e) {}\n    if (module && !exports.$loading[moduleName])\n        return onLoad && onLoad(module);\n\n    if (!exports.$loading[moduleName])\n        exports.$loading[moduleName] = [];\n\n    exports.$loading[moduleName].push(onLoad);\n\n    if (exports.$loading[moduleName].length > 1)\n        return;\n\n    var afterLoad = function() {\n        require([moduleName], function(module) {\n            exports._emit(\"load.module\", {name: moduleName, module: module});\n            var listeners = exports.$loading[moduleName];\n            exports.$loading[moduleName] = null;\n            listeners.forEach(function(onLoad) {\n                onLoad && onLoad(module);\n            });\n        });\n    };\n\n    if (!exports.get(\"packaged\"))\n        return afterLoad();\n    \n    net.loadScript(exports.moduleUrl(moduleName, moduleType), afterLoad);\n    reportErrorIfPathIsNotConfigured();\n};\n\nvar reportErrorIfPathIsNotConfigured = function() {\n    if (\n        !options.basePath && !options.workerPath \n        && !options.modePath && !options.themePath\n        && !Object.keys(options.$moduleUrls).length\n    ) {\n        console.error(\n            \"Unable to infer path to ace from script src,\",\n            \"use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes\",\n            \"or with webpack use ace/webpack-resolver\"\n        );\n        reportErrorIfPathIsNotConfigured = function() {};\n    }\n};\ninit(true);function init(packaged) {\n\n    if (!global || !global.document)\n        return;\n    \n    options.packaged = packaged || require.packaged || module.packaged || (global.define && define.packaged);\n\n    var scriptOptions = {};\n    var scriptUrl = \"\";\n    var currentScript = (document.currentScript || document._currentScript ); // native or polyfill\n    var currentDocument = currentScript && currentScript.ownerDocument || document;\n    \n    var scripts = currentDocument.getElementsByTagName(\"script\");\n    for (var i=0; i<scripts.length; i++) {\n        var script = scripts[i];\n\n        var src = script.src || script.getAttribute(\"src\");\n        if (!src)\n            continue;\n\n        var attributes = script.attributes;\n        for (var j=0, l=attributes.length; j < l; j++) {\n            var attr = attributes[j];\n            if (attr.name.indexOf(\"data-ace-\") === 0) {\n                scriptOptions[deHyphenate(attr.name.replace(/^data-ace-/, \"\"))] = attr.value;\n            }\n        }\n\n        var m = src.match(/^(.*)\\/ace(\\-\\w+)?\\.js(\\?|$)/);\n        if (m)\n            scriptUrl = m[1];\n    }\n\n    if (scriptUrl) {\n        scriptOptions.base = scriptOptions.base || scriptUrl;\n        scriptOptions.packaged = true;\n    }\n\n    scriptOptions.basePath = scriptOptions.base;\n    scriptOptions.workerPath = scriptOptions.workerPath || scriptOptions.base;\n    scriptOptions.modePath = scriptOptions.modePath || scriptOptions.base;\n    scriptOptions.themePath = scriptOptions.themePath || scriptOptions.base;\n    delete scriptOptions.base;\n\n    for (var key in scriptOptions)\n        if (typeof scriptOptions[key] !== \"undefined\")\n            exports.set(key, scriptOptions[key]);\n}\n\nexports.init = init;\n\nfunction deHyphenate(str) {\n    return str.replace(/-(.)/g, function(m, m1) { return m1.toUpperCase(); });\n}\n\nexports.version = \"1.4.12\";\n\n});\n\nace.define(\"ace/mouse/mouse_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/mouse/default_handlers\",\"ace/mouse/default_gutter_handler\",\"ace/mouse/mouse_event\",\"ace/mouse/dragdrop_handler\",\"ace/mouse/touch_handler\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar DefaultHandlers = require(\"./default_handlers\").DefaultHandlers;\nvar DefaultGutterHandler = require(\"./default_gutter_handler\").GutterHandler;\nvar MouseEvent = require(\"./mouse_event\").MouseEvent;\nvar DragdropHandler = require(\"./dragdrop_handler\").DragdropHandler;\nvar addTouchListeners = require(\"./touch_handler\").addTouchListeners;\nvar config = require(\"../config\");\n\nvar MouseHandler = function(editor) {\n    var _self = this;\n    this.editor = editor;\n\n    new DefaultHandlers(this);\n    new DefaultGutterHandler(this);\n    new DragdropHandler(this);\n\n    var focusEditor = function(e) {\n        var windowBlurred = !document.hasFocus || !document.hasFocus()\n            || !editor.isFocused() && document.activeElement == (editor.textInput && editor.textInput.getElement());\n        if (windowBlurred)\n            window.focus();\n        editor.focus();\n    };\n\n    var mouseTarget = editor.renderer.getMouseEventTarget();\n    event.addListener(mouseTarget, \"click\", this.onMouseEvent.bind(this, \"click\"), editor);\n    event.addListener(mouseTarget, \"mousemove\", this.onMouseMove.bind(this, \"mousemove\"), editor);\n    event.addMultiMouseDownListener([\n        mouseTarget,\n        editor.renderer.scrollBarV && editor.renderer.scrollBarV.inner,\n        editor.renderer.scrollBarH && editor.renderer.scrollBarH.inner,\n        editor.textInput && editor.textInput.getElement()\n    ].filter(Boolean), [400, 300, 250], this, \"onMouseEvent\", editor);\n    event.addMouseWheelListener(editor.container, this.onMouseWheel.bind(this, \"mousewheel\"), editor);\n    addTouchListeners(editor.container, editor);\n\n    var gutterEl = editor.renderer.$gutter;\n    event.addListener(gutterEl, \"mousedown\", this.onMouseEvent.bind(this, \"guttermousedown\"), editor);\n    event.addListener(gutterEl, \"click\", this.onMouseEvent.bind(this, \"gutterclick\"), editor);\n    event.addListener(gutterEl, \"dblclick\", this.onMouseEvent.bind(this, \"gutterdblclick\"), editor);\n    event.addListener(gutterEl, \"mousemove\", this.onMouseEvent.bind(this, \"guttermousemove\"), editor);\n\n    event.addListener(mouseTarget, \"mousedown\", focusEditor, editor);\n    event.addListener(gutterEl, \"mousedown\", focusEditor, editor);\n    if (useragent.isIE && editor.renderer.scrollBarV) {\n        event.addListener(editor.renderer.scrollBarV.element, \"mousedown\", focusEditor, editor);\n        event.addListener(editor.renderer.scrollBarH.element, \"mousedown\", focusEditor, editor);\n    }\n\n    editor.on(\"mousemove\", function(e){\n        if (_self.state || _self.$dragDelay || !_self.$dragEnabled)\n            return;\n\n        var character = editor.renderer.screenToTextCoordinates(e.x, e.y);\n        var range = editor.session.selection.getRange();\n        var renderer = editor.renderer;\n\n        if (!range.isEmpty() && range.insideStart(character.row, character.column)) {\n            renderer.setCursorStyle(\"default\");\n        } else {\n            renderer.setCursorStyle(\"\");\n        }\n    }, editor);\n};\n\n(function() {\n    this.onMouseEvent = function(name, e) {\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseMove = function(name, e) {\n        var listeners = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;\n        if (!listeners || !listeners.length)\n            return;\n\n        this.editor._emit(name, new MouseEvent(e, this.editor));\n    };\n\n    this.onMouseWheel = function(name, e) {\n        var mouseEvent = new MouseEvent(e, this.editor);\n        mouseEvent.speed = this.$scrollSpeed * 2;\n        mouseEvent.wheelX = e.wheelX;\n        mouseEvent.wheelY = e.wheelY;\n\n        this.editor._emit(name, mouseEvent);\n    };\n    \n    this.setState = function(state) {\n        this.state = state;\n    };\n\n    this.captureMouse = function(ev, mouseMoveHandler) {\n        this.x = ev.x;\n        this.y = ev.y;\n\n        this.isMousePressed = true;\n        var editor = this.editor;\n        var renderer = this.editor.renderer;\n        renderer.$isMousePressed = true;\n\n        var self = this;\n        var onMouseMove = function(e) {\n            if (!e) return;\n            if (useragent.isWebKit && !e.which && self.releaseMouse)\n                return self.releaseMouse();\n\n            self.x = e.clientX;\n            self.y = e.clientY;\n            mouseMoveHandler && mouseMoveHandler(e);\n            self.mouseEvent = new MouseEvent(e, self.editor);\n            self.$mouseMoved = true;\n        };\n\n        var onCaptureEnd = function(e) {\n            editor.off(\"beforeEndOperation\", onOperationEnd);\n            clearInterval(timerId);\n            onCaptureInterval();\n            self[self.state + \"End\"] && self[self.state + \"End\"](e);\n            self.state = \"\";\n            self.isMousePressed = renderer.$isMousePressed = false;\n            if (renderer.$keepTextAreaAtCursor)\n                renderer.$moveTextAreaToCursor();\n            self.$onCaptureMouseMove = self.releaseMouse = null;\n            e && self.onMouseEvent(\"mouseup\", e);\n            editor.endOperation();\n        };\n\n        var onCaptureInterval = function() {\n            self[self.state] && self[self.state]();\n            self.$mouseMoved = false;\n        };\n\n        if (useragent.isOldIE && ev.domEvent.type == \"dblclick\") {\n            return setTimeout(function() {onCaptureEnd(ev);});\n        }\n\n        var onOperationEnd = function(e) {\n            if (!self.releaseMouse) return;\n            if (editor.curOp.command.name && editor.curOp.selectionChanged) {\n                self[self.state + \"End\"] && self[self.state + \"End\"]();\n                self.state = \"\";\n                self.releaseMouse();\n            }\n        };\n\n        editor.on(\"beforeEndOperation\", onOperationEnd);\n        editor.startOperation({command: {name: \"mouse\"}});\n\n        self.$onCaptureMouseMove = onMouseMove;\n        self.releaseMouse = event.capture(this.editor.container, onMouseMove, onCaptureEnd);\n        var timerId = setInterval(onCaptureInterval, 20);\n    };\n    this.releaseMouse = null;\n    this.cancelContextMenu = function() {\n        var stop = function(e) {\n            if (e && e.domEvent && e.domEvent.type != \"contextmenu\")\n                return;\n            this.editor.off(\"nativecontextmenu\", stop);\n            if (e && e.domEvent)\n                event.stopEvent(e.domEvent);\n        }.bind(this);\n        setTimeout(stop, 10);\n        this.editor.on(\"nativecontextmenu\", stop);\n    };\n    this.destroy = function() {\n        if (this.releaseMouse) this.releaseMouse();\n    };\n}).call(MouseHandler.prototype);\n\nconfig.defineOptions(MouseHandler.prototype, \"mouseHandler\", {\n    scrollSpeed: {initialValue: 2},\n    dragDelay: {initialValue: (useragent.isMac ? 150 : 0)},\n    dragEnabled: {initialValue: true},\n    focusTimeout: {initialValue: 0},\n    tooltipFollowsMouse: {initialValue: true}\n});\n\n\nexports.MouseHandler = MouseHandler;\n});\n\nace.define(\"ace/mouse/fold_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\nvar dom = require(\"../lib/dom\");\n\nfunction FoldHandler(editor) {\n\n    editor.on(\"click\", function(e) {\n        var position = e.getDocumentPosition();\n        var session = editor.session;\n        var fold = session.getFoldAt(position.row, position.column, 1);\n        if (fold) {\n            if (e.getAccelKey())\n                session.removeFold(fold);\n            else\n                session.expandFold(fold);\n\n            e.stop();\n        }\n        \n        var target = e.domEvent && e.domEvent.target;\n        if (target && dom.hasCssClass(target, \"ace_inline_button\")) {\n            if (dom.hasCssClass(target, \"ace_toggle_wrap\")) {\n                session.setOption(\"wrap\", !session.getUseWrapMode());\n                editor.renderer.scrollCursorIntoView();\n            }\n        }\n    });\n\n    editor.on(\"gutterclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            if (session.foldWidgets && session.foldWidgets[row])\n                editor.session.onFoldWidgetClick(row, e);\n            if (!editor.isFocused())\n                editor.focus();\n            e.stop();\n        }\n    });\n\n    editor.on(\"gutterdblclick\", function(e) {\n        var gutterRegion = editor.renderer.$gutterLayer.getRegion(e);\n\n        if (gutterRegion == \"foldWidgets\") {\n            var row = e.getDocumentPosition().row;\n            var session = editor.session;\n            var data = session.getParentFoldRangeData(row, true);\n            var range = data.range || data.firstRange;\n\n            if (range) {\n                row = range.start.row;\n                var fold = session.getFoldAt(row, session.getLine(row).length, 1);\n\n                if (fold) {\n                    session.removeFold(fold);\n                } else {\n                    session.addFold(\"...\", range);\n                    editor.renderer.scrollCursorIntoView({row: range.start.row, column: 0});\n                }\n            }\n            e.stop();\n        }\n    });\n}\n\nexports.FoldHandler = FoldHandler;\n\n});\n\nace.define(\"ace/keyboard/keybinding\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil  = require(\"../lib/keys\");\nvar event = require(\"../lib/event\");\n\nvar KeyBinding = function(editor) {\n    this.$editor = editor;\n    this.$data = {editor: editor};\n    this.$handlers = [];\n    this.setDefaultHandler(editor.commands);\n};\n\n(function() {\n    this.setDefaultHandler = function(kb) {\n        this.removeKeyboardHandler(this.$defaultHandler);\n        this.$defaultHandler = kb;\n        this.addKeyboardHandler(kb, 0);\n    };\n\n    this.setKeyboardHandler = function(kb) {\n        var h = this.$handlers;\n        if (h[h.length - 1] == kb)\n            return;\n\n        while (h[h.length - 1] && h[h.length - 1] != this.$defaultHandler)\n            this.removeKeyboardHandler(h[h.length - 1]);\n\n        this.addKeyboardHandler(kb, 1);\n    };\n\n    this.addKeyboardHandler = function(kb, pos) {\n        if (!kb)\n            return;\n        if (typeof kb == \"function\" && !kb.handleKeyboard)\n            kb.handleKeyboard = kb;\n        var i = this.$handlers.indexOf(kb);\n        if (i != -1)\n            this.$handlers.splice(i, 1);\n\n        if (pos == undefined)\n            this.$handlers.push(kb);\n        else\n            this.$handlers.splice(pos, 0, kb);\n\n        if (i == -1 && kb.attach)\n            kb.attach(this.$editor);\n    };\n\n    this.removeKeyboardHandler = function(kb) {\n        var i = this.$handlers.indexOf(kb);\n        if (i == -1)\n            return false;\n        this.$handlers.splice(i, 1);\n        kb.detach && kb.detach(this.$editor);\n        return true;\n    };\n\n    this.getKeyboardHandler = function() {\n        return this.$handlers[this.$handlers.length - 1];\n    };\n    \n    this.getStatusText = function() {\n        var data = this.$data;\n        var editor = data.editor;\n        return this.$handlers.map(function(h) {\n            return h.getStatusText && h.getStatusText(editor, data) || \"\";\n        }).filter(Boolean).join(\" \");\n    };\n\n    this.$callKeyboardHandlers = function(hashId, keyString, keyCode, e) {\n        var toExecute;\n        var success = false;\n        var commands = this.$editor.commands;\n\n        for (var i = this.$handlers.length; i--;) {\n            toExecute = this.$handlers[i].handleKeyboard(\n                this.$data, hashId, keyString, keyCode, e\n            );\n            if (!toExecute || !toExecute.command)\n                continue;\n            if (toExecute.command == \"null\") {\n                success = true;\n            } else {\n                success = commands.exec(toExecute.command, this.$editor, toExecute.args, e);\n            }\n            if (success && e && hashId != -1 && \n                toExecute.passEvent != true && toExecute.command.passEvent != true\n            ) {\n                event.stopEvent(e);\n            }\n            if (success)\n                break;\n        }\n        \n        if (!success && hashId == -1) {\n            toExecute = {command: \"insertstring\"};\n            success = commands.exec(\"insertstring\", this.$editor, keyString);\n        }\n        \n        if (success && this.$editor._signal)\n            this.$editor._signal(\"keyboardActivity\", toExecute);\n        \n        return success;\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        var keyString = keyUtil.keyCodeToString(keyCode);\n        return this.$callKeyboardHandlers(hashId, keyString, keyCode, e);\n    };\n\n    this.onTextInput = function(text) {\n        return this.$callKeyboardHandlers(-1, text);\n    };\n\n}).call(KeyBinding.prototype);\n\nexports.KeyBinding = KeyBinding;\n});\n\nace.define(\"ace/lib/bidiutil\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar ArabicAlefBetIntervalsBegine = ['\\u0621', '\\u0641'];\nvar ArabicAlefBetIntervalsEnd = ['\\u063A', '\\u064a'];\nvar dir = 0, hiLevel = 0;\nvar lastArabic = false, hasUBAT_AL = false,  hasUBAT_B = false,  hasUBAT_S = false, hasBlockSep = false, hasSegSep = false;\n\nvar impTab_LTR = [\t[\t0,\t\t3,\t\t0,\t\t1,\t\t0,\t\t0,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t1,\t\t2,\t\t2,\t\t0\t],\t[\t0,\t\t3,\t\t0,\t\t0x11,\t\t2,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t1,\t\t0\t],\t[\t0,\t\t3,\t\t0x15,\t\t0x15,\t\t4,\t\t0,\t\t1\t],\t[\t0,\t\t3,\t\t5,\t\t5,\t\t4,\t\t2,\t\t0\t]\n];\n\nvar impTab_RTL = [\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t1,\t\t0\t],\t[\t2,\t\t0,\t\t1,\t\t1,\t\t0,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t1,\t\t3,\t\t2,\t\t0\t],\t[\t2,\t\t0,\t\t2,\t\t0x21,\t\t3,\t\t1,\t\t1\t]\n];\n\nvar LTR = 0, RTL = 1;\n\nvar L = 0;\nvar R = 1;\nvar EN = 2;\nvar AN = 3;\nvar ON = 4;\nvar B = 5;\nvar S = 6;\nvar AL = 7;\nvar WS = 8;\nvar CS = 9;\nvar ES = 10;\nvar ET = 11;\nvar NSM = 12;\nvar LRE = 13;\nvar RLE = 14;\nvar PDF = 15;\nvar LRO = 16;\nvar RLO = 17;\nvar BN = 18;\n\nvar UnicodeTBL00 = [\nBN,BN,BN,BN,BN,BN,BN,BN,BN,S,B,S,WS,B,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,B,B,B,S,\nWS,ON,ON,ET,ET,ET,ON,ON,ON,ON,ON,ES,CS,ES,CS,CS,\nEN,EN,EN,EN,EN,EN,EN,EN,EN,EN,CS,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,ON,\nON,L,L,L,L,L,L,L,L,L,L,L,L,L,L,L,\nL,L,L,L,L,L,L,L,L,L,L,ON,ON,ON,ON,BN,\nBN,BN,BN,BN,BN,B,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nBN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,BN,\nCS,ON,ET,ET,ET,ET,ON,ON,ON,ON,L,ON,ON,BN,ON,ON,\nET,ET,EN,EN,ON,L,ON,ON,ON,EN,L,ON,ON,ON,ON,ON\n];\n\nvar UnicodeTBL20 = [\nWS,WS,WS,WS,WS,WS,WS,WS,WS,WS,WS,BN,BN,BN,L,R\t,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,WS,B,LRE,RLE,PDF,LRO,RLO,CS,\nET,ET,ET,ET,ET,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,CS,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,\nON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,ON,WS\n];\n\nfunction _computeLevels(chars, levels, len, charTypes) {\n\tvar impTab = dir ? impTab_RTL : impTab_LTR\n\t\t, prevState = null, newClass = null, newLevel = null, newState = 0\n\t\t, action = null, cond = null, condPos = -1, i = null, ix = null, classes = [];\n\n\tif (!charTypes) {\n\t\tfor (i = 0, charTypes = []; i < len; i++) {\n\t\t\tcharTypes[i] = _getCharacterType(chars[i]);\n\t\t}\n\t}\n\thiLevel = dir;\n\tlastArabic = false;\n\thasUBAT_AL = false;\n\thasUBAT_B = false;\n\thasUBAT_S = false;\n\tfor (ix = 0; ix < len; ix++){\n\t\tprevState = newState;\n\t\tclasses[ix] = newClass = _getCharClass(chars, charTypes, classes, ix);\n\t\tnewState = impTab[prevState][newClass];\n\t\taction = newState & 0xF0;\n\t\tnewState &= 0x0F;\n\t\tlevels[ix] = newLevel = impTab[newState][5];\n\t\tif (action > 0){\n\t\t\tif (action == 0x10){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = 1;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t} else {\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tcond = impTab[newState][6];\n\t\tif (cond){\n\t\t\tif(condPos == -1){\n\t\t\t\tcondPos = ix;\n\t\t\t}\n\t\t}else{\n\t\t\tif (condPos > -1){\n\t\t\t\tfor(i = condPos; i < ix; i++){\n\t\t\t\t\tlevels[i] = newLevel;\n\t\t\t\t}\n\t\t\t\tcondPos = -1;\n\t\t\t}\n\t\t}\n\t\tif (charTypes[ix] == B){\n\t\t\tlevels[ix] = 0;\n\t\t}\n\t\thiLevel |= newLevel;\n\t}\n\tif (hasUBAT_S){\n\t\tfor(i = 0; i < len; i++){\n\t\t\tif(charTypes[i] == S){\n\t\t\t\tlevels[i] = dir;\n\t\t\t\tfor(var j = i - 1; j >= 0; j--){\n\t\t\t\t\tif(charTypes[j] == WS){\n\t\t\t\t\t\tlevels[j] = dir;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction _invertLevel(lev, levels, _array) {\n\tif (hiLevel < lev){\n\t\treturn;\n\t}\n\tif (lev == 1 && dir == RTL && !hasUBAT_B){\n\t\t_array.reverse();\n\t\treturn;\n\t}\n\tvar len = _array.length, start = 0, end, lo, hi, tmp;\n\twhile(start < len){\n\t\tif (levels[start] >= lev){\n\t\t\tend = start + 1;\n\t\twhile(end < len && levels[end] >= lev){\n\t\t\tend++;\n\t\t}\n\t\tfor(lo = start, hi = end - 1 ; lo < hi; lo++, hi--){\n\t\t\ttmp = _array[lo];\n\t\t\t_array[lo] = _array[hi];\n\t\t\t_array[hi] = tmp;\n\t\t}\n\t\tstart = end;\n\t}\n\tstart++;\n\t}\n}\n\nfunction _getCharClass(chars, types, classes, ix) {\t\t\t\n\tvar cType = types[ix], wType, nType, len, i;\n\tswitch(cType){\n\t\tcase L:\n\t\tcase R:\n\t\t\tlastArabic = false;\n\t\tcase ON:\n\t\tcase AN:\n\t\t\treturn cType;\n\t\tcase EN:\n\t\t\treturn lastArabic ? AN : EN;\n\t\tcase AL:\n\t\t\tlastArabic = true;\n\t\t\thasUBAT_AL = true;\n\t\t\treturn R;\n\t\tcase WS:\n\t\t\treturn ON;\n\t\tcase CS:\n\t\t\tif (ix < 1 || (ix + 1) >= types.length ||\n\t\t\t\t((wType = classes[ix - 1]) != EN && wType != AN) ||\n\t\t\t\t((nType = types[ix + 1]) != EN && nType != AN)){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\tif (lastArabic){nType = AN;}\n\t\t\treturn nType == wType ? nType : ON;\n\t\tcase ES:\n\t\t\twType = ix > 0 ? classes[ix - 1] : B;\n\t\t\tif (wType == EN && (ix + 1) < types.length && types[ix + 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase ET:\n\t\t\tif (ix > 0 && classes[ix - 1] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\tif (lastArabic){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\ti = ix + 1;\n\t\t\tlen = types.length;\n\t\t\twhile (i < len && types[i] == ET){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len && types[i] == EN){\n\t\t\t\treturn EN;\n\t\t\t}\n\t\t\treturn ON;\n\t\tcase NSM:\n\t\t\tlen = types.length;\n\t\t\ti = ix + 1;\n\t\t\twhile (i < len && types[i] == NSM){\n\t\t\t\ti++;\n\t\t\t}\n\t\t\tif (i < len){\n\t\t\t\tvar c = chars[ix], rtlCandidate = (c >= 0x0591 && c <= 0x08FF) || c == 0xFB1E;\n\t\t\t\t\n\t\t\t\twType = types[i];\n\t\t\t\tif (rtlCandidate && (wType == R || wType == AL)){\n\t\t\t\t\treturn R;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (ix < 1 || (wType = types[ix - 1]) == B){\n\t\t\t\treturn ON;\n\t\t\t}\n\t\t\treturn classes[ix - 1];\n\t\tcase B:\n\t\t\tlastArabic = false;\n\t\t\thasUBAT_B = true;\n\t\t\treturn dir;\n\t\tcase S:\n\t\t\thasUBAT_S = true;\n\t\t\treturn ON;\n\t\tcase LRE:\n\t\tcase RLE:\n\t\tcase LRO:\n\t\tcase RLO:\n\t\tcase PDF:\n\t\t\tlastArabic = false;\n\t\tcase BN:\n\t\t\treturn ON;\n\t}\n}\n\nfunction _getCharacterType( ch ) {\t\t\n\tvar uc = ch.charCodeAt(0), hi = uc >> 8;\n\t\n\tif (hi == 0) {\t\t\n\t\treturn ((uc > 0x00BF) ? L : UnicodeTBL00[uc]);\n\t} else if (hi == 5) {\n\t\treturn (/[\\u0591-\\u05f4]/.test(ch) ? R : L);\n\t} else if (hi == 6) {\n\t\tif (/[\\u0610-\\u061a\\u064b-\\u065f\\u06d6-\\u06e4\\u06e7-\\u06ed]/.test(ch))\n\t\t\treturn NSM;\n\t\telse if (/[\\u0660-\\u0669\\u066b-\\u066c]/.test(ch))\n\t\t\treturn AN;\n\t\telse if (uc == 0x066A)\n\t\t\treturn ET;\n\t\telse if (/[\\u06f0-\\u06f9]/.test(ch))\n\t\t\treturn EN;\t\t\t\n\t\telse\n\t\t\treturn AL;\n\t} else if (hi == 0x20 && uc <= 0x205F) {\n\t\treturn UnicodeTBL20[uc & 0xFF];\n\t} else if (hi == 0xFE) {\n\t\treturn (uc >= 0xFE70 ? AL : ON);\n\t}\t\t\n\treturn ON;\t\n}\n\nfunction _isArabicDiacritics( ch ) {\n\treturn (ch >= '\\u064b' && ch <= '\\u0655');\n}\nexports.L = L;\nexports.R = R;\nexports.EN = EN;\nexports.ON_R = 3;\nexports.AN = 4;\nexports.R_H = 5;\nexports.B = 6;\nexports.RLE = 7;\n\nexports.DOT = \"\\xB7\";\nexports.doBidiReorder = function(text, textCharTypes, isRtl) {\n\tif (text.length < 2)\n\t\treturn {};\n\t\t\n\tvar chars = text.split(\"\"), logicalFromVisual = new Array(chars.length),\n\t\tbidiLevels = new Array(chars.length), levels = []; \n\n\tdir = isRtl ? RTL : LTR;\n\n\t_computeLevels(chars, levels, chars.length, textCharTypes);\n\n\tfor (var i = 0; i < logicalFromVisual.length; logicalFromVisual[i] = i, i++);\n\n\t_invertLevel(2, levels, logicalFromVisual);\n\t_invertLevel(1, levels, logicalFromVisual);\n\n\tfor (var i = 0; i < logicalFromVisual.length - 1; i++) { //fix levels to reflect character width\n\t\tif (textCharTypes[i] === AN) {\n\t\t\tlevels[i] = exports.AN;\n\t\t} else if (levels[i] === R && ((textCharTypes[i] > AL && textCharTypes[i] < LRE) \n\t\t\t|| textCharTypes[i] === ON || textCharTypes[i] === BN)) {\n\t\t\tlevels[i] = exports.ON_R;\n\t\t} else if ((i > 0 && chars[i - 1] === '\\u0644') && /\\u0622|\\u0623|\\u0625|\\u0627/.test(chars[i])) {\n\t\t\tlevels[i - 1] = levels[i] = exports.R_H;\n\t\t\ti++;\n\t\t}\n\t}\n\tif (chars[chars.length - 1] === exports.DOT)\n\t\tlevels[chars.length - 1] = exports.B;\n\t\t\t\t\n\tif (chars[0] === '\\u202B')\n\t\tlevels[0] = exports.RLE;\n\t\t\t\t\n\tfor (var i = 0; i < logicalFromVisual.length; i++) {\n\t\tbidiLevels[i] = levels[logicalFromVisual[i]];\n\t}\n\n\treturn {'logicalFromVisual': logicalFromVisual, 'bidiLevels': bidiLevels};\n};\nexports.hasBidiCharacters = function(text, textCharTypes){\n\tvar ret = false;\n\tfor (var i = 0; i < text.length; i++){\n\t\ttextCharTypes[i] = _getCharacterType(text.charAt(i));\n\t\tif (!ret && (textCharTypes[i] == R || textCharTypes[i] == AL || textCharTypes[i] == AN))\n\t\t\tret = true;\n\t}\n\treturn ret;\n};\t\nexports.getVisualFromLogicalIdx = function(logIdx, rowMap) {\n\tfor (var i = 0; i < rowMap.logicalFromVisual.length; i++) {\n\t\tif (rowMap.logicalFromVisual[i] == logIdx)\n\t\t\treturn i;\n\t}\n\treturn 0;\n};\n\n});\n\nace.define(\"ace/bidihandler\",[\"require\",\"exports\",\"module\",\"ace/lib/bidiutil\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar bidiUtil = require(\"./lib/bidiutil\");\nvar lang = require(\"./lib/lang\");\nvar bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\u202B]/;\nvar BidiHandler = function(session) {\n    this.session = session;\n    this.bidiMap = {};\n    this.currentRow = null;\n    this.bidiUtil = bidiUtil;\n    this.charWidths = [];\n    this.EOL = \"\\xAC\";\n    this.showInvisibles = true;\n    this.isRtlDir = false;\n    this.$isRtl = false;\n    this.line = \"\";\n    this.wrapIndent = 0;\n    this.EOF = \"\\xB6\";\n    this.RLE = \"\\u202B\";\n    this.contentWidth = 0;\n    this.fontMetrics = null;\n    this.rtlLineOffset = 0;\n    this.wrapOffset = 0;\n    this.isMoveLeftOperation = false;\n    this.seenBidi = bidiRE.test(session.getValue());\n};\n\n(function() {\n    this.isBidiRow = function(screenRow, docRow, splitIndex) {\n        if (!this.seenBidi)\n            return false;\n        if (screenRow !== this.currentRow) {\n            this.currentRow = screenRow;\n            this.updateRowLine(docRow, splitIndex);\n            this.updateBidiMap();\n        }\n        return this.bidiMap.bidiLevels;\n    };\n\n    this.onChange = function(delta) {\n        if (!this.seenBidi) {\n            if (delta.action == \"insert\" && bidiRE.test(delta.lines.join(\"\\n\"))) {\n                this.seenBidi = true;\n                this.currentRow = null;\n            }\n        } \n        else {\n            this.currentRow = null;\n        }\n    };\n\n    this.getDocumentRow = function() {\n        var docRow = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var index = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            if (index >= 0)\n                docRow = this.session.$docRowCache[index];\n        }\n\n        return docRow;\n    };\n\n    this.getSplitIndex = function() {\n        var splitIndex = 0;\n        var rowCache = this.session.$screenRowCache;\n        if (rowCache.length) {\n            var currentIndex, prevIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow);\n            while (this.currentRow - splitIndex > 0) {\n                currentIndex = this.session.$getRowCacheIndex(rowCache, this.currentRow - splitIndex - 1);\n                if (currentIndex !== prevIndex)\n                    break;\n\n                prevIndex = currentIndex;\n                splitIndex++;\n            }\n        } else {\n            splitIndex = this.currentRow;\n        }\n\n        return splitIndex;\n    };\n\n    this.updateRowLine = function(docRow, splitIndex) {\n        if (docRow === undefined)\n            docRow = this.getDocumentRow();\n            \n        var isLastRow = (docRow === this.session.getLength() - 1),\n            endOfLine = isLastRow ? this.EOF : this.EOL;\n\n        this.wrapIndent = 0;\n        this.line = this.session.getLine(docRow);\n        this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE;\n        if (this.session.$useWrapMode) {\n            var splits = this.session.$wrapData[docRow];\n            if (splits) {\n                if (splitIndex === undefined)\n                    splitIndex = this.getSplitIndex();\n\n                if(splitIndex > 0 && splits.length) {\n                    this.wrapIndent = splits.indent;\n                    this.wrapOffset = this.wrapIndent * this.charWidths[bidiUtil.L];\n                    this.line = (splitIndex < splits.length) ?\n                        this.line.substring(splits[splitIndex - 1], splits[splitIndex]) :\n                            this.line.substring(splits[splits.length - 1]);\n                } else {\n                    this.line = this.line.substring(0, splits[splitIndex]);\n                }\n            }\n            if (splitIndex == splits.length)\n                this.line += (this.showInvisibles) ? endOfLine : bidiUtil.DOT;\n        } else {\n            this.line += this.showInvisibles ? endOfLine : bidiUtil.DOT;\n        }\n        var session = this.session, shift = 0, size;\n        this.line = this.line.replace(/\\t|[\\u1100-\\u2029, \\u202F-\\uFFE6]/g, function(ch, i){\n            if (ch === '\\t' || session.isFullWidth(ch.charCodeAt(0))) {\n                size = (ch === '\\t') ? session.getScreenTabSize(i + shift) : 2;\n                shift += size - 1;\n                return lang.stringRepeat(bidiUtil.DOT, size);\n            }\n            return ch;\n        });\n\n        if (this.isRtlDir) {\n            this.fontMetrics.$main.textContent = (this.line.charAt(this.line.length - 1) == bidiUtil.DOT) ? this.line.substr(0, this.line.length - 1) : this.line;\n            this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width;\n        }\n    };\n    \n    this.updateBidiMap = function() {\n        var textCharTypes = [];\n        if (bidiUtil.hasBidiCharacters(this.line, textCharTypes) || this.isRtlDir) {\n             this.bidiMap = bidiUtil.doBidiReorder(this.line, textCharTypes, this.isRtlDir);\n        } else {\n            this.bidiMap = {};\n        }\n    };\n    this.markAsDirty = function() {\n        this.currentRow = null;\n    };\n    this.updateCharacterWidths = function(fontMetrics) {\n        if (this.characterWidth === fontMetrics.$characterSize.width)\n            return;\n\n        this.fontMetrics = fontMetrics;\n        var characterWidth = this.characterWidth = fontMetrics.$characterSize.width;\n        var bidiCharWidth = fontMetrics.$measureCharWidth(\"\\u05d4\");\n\n        this.charWidths[bidiUtil.L] = this.charWidths[bidiUtil.EN] = this.charWidths[bidiUtil.ON_R] = characterWidth;\n        this.charWidths[bidiUtil.R] = this.charWidths[bidiUtil.AN] = bidiCharWidth;\n        this.charWidths[bidiUtil.R_H] = bidiCharWidth * 0.45;\n        this.charWidths[bidiUtil.B] = this.charWidths[bidiUtil.RLE] = 0;\n\n        this.currentRow = null;\n    };\n\n    this.setShowInvisibles = function(showInvisibles) {\n        this.showInvisibles = showInvisibles;\n        this.currentRow = null;\n    };\n\n    this.setEolChar = function(eolChar) {\n        this.EOL = eolChar; \n    };\n\n    this.setContentWidth = function(width) {\n        this.contentWidth = width;\n    };\n\n    this.isRtlLine = function(row) {\n        if (this.$isRtl) return true;\n        if (row != undefined)\n            return (this.session.getLine(row).charAt(0) == this.RLE);\n        else\n            return this.isRtlDir; \n    };\n\n    this.setRtlDirection = function(editor, isRtlDir) {\n        var cursor = editor.getCursorPosition(); \n        for (var row = editor.selection.getSelectionAnchor().row; row <= cursor.row; row++) {\n            if (!isRtlDir && editor.session.getLine(row).charAt(0) === editor.session.$bidiHandler.RLE)\n                editor.session.doc.removeInLine(row, 0, 1);\n            else if (isRtlDir && editor.session.getLine(row).charAt(0) !== editor.session.$bidiHandler.RLE)\n                editor.session.doc.insert({column: 0, row: row}, editor.session.$bidiHandler.RLE);\n        }\n    };\n    this.getPosLeft = function(col) {\n        col -= this.wrapIndent;\n        var leftBoundary = (this.line.charAt(0) === this.RLE) ? 1 : 0;\n        var logicalIdx = (col > leftBoundary) ? (this.session.getOverwrite() ? col : col - 1) : leftBoundary;\n        var visualIdx = bidiUtil.getVisualFromLogicalIdx(logicalIdx, this.bidiMap),\n            levels = this.bidiMap.bidiLevels, left = 0;\n\n        if (!this.session.getOverwrite() && col <= leftBoundary && levels[visualIdx] % 2 !== 0)\n            visualIdx++;\n            \n        for (var i = 0; i < visualIdx; i++) {\n            left += this.charWidths[levels[i]];\n        }\n\n        if (!this.session.getOverwrite() && (col > leftBoundary) && (levels[visualIdx] % 2 === 0))\n            left += this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n            left += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        if (this.isRtlDir)\n            left += this.rtlLineOffset;\n\n        return left;\n    };\n    this.getSelections = function(startCol, endCol) {\n        var map = this.bidiMap, levels = map.bidiLevels, level, selections = [], offset = 0,\n            selColMin = Math.min(startCol, endCol) - this.wrapIndent, selColMax = Math.max(startCol, endCol) - this.wrapIndent,\n                isSelected = false, isSelectedPrev = false, selectionStart = 0;\n            \n        if (this.wrapIndent)\n            offset += this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n\n        for (var logIdx, visIdx = 0; visIdx < levels.length; visIdx++) {\n            logIdx = map.logicalFromVisual[visIdx];\n            level = levels[visIdx];\n            isSelected = (logIdx >= selColMin) && (logIdx < selColMax);\n            if (isSelected && !isSelectedPrev) {\n                selectionStart = offset;\n            } else if (!isSelected && isSelectedPrev) {\n                selections.push({left: selectionStart, width: offset - selectionStart});\n            }\n            offset += this.charWidths[level];\n            isSelectedPrev = isSelected;\n        }\n\n        if (isSelected && (visIdx === levels.length)) {\n            selections.push({left: selectionStart, width: offset - selectionStart});\n        }\n\n        if(this.isRtlDir) {\n            for (var i = 0; i < selections.length; i++) {\n                selections[i].left += this.rtlLineOffset;\n            }\n        }\n        return selections;\n    };\n    this.offsetToCol = function(posX) {\n        if(this.isRtlDir)\n            posX -= this.rtlLineOffset;\n\n        var logicalIdx = 0, posX = Math.max(posX, 0),\n            offset = 0, visualIdx = 0, levels = this.bidiMap.bidiLevels,\n                charWidth = this.charWidths[levels[visualIdx]];\n\n        if (this.wrapIndent)\n           posX -= this.isRtlDir ? (-1 * this.wrapOffset) : this.wrapOffset;\n    \n        while(posX > offset + charWidth/2) {\n            offset += charWidth;\n            if(visualIdx === levels.length - 1) {\n                charWidth = 0;\n                break;\n            }\n            charWidth = this.charWidths[levels[++visualIdx]];\n        }\n    \n        if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && (levels[visualIdx] % 2 === 0)){\n            if(posX < offset)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n\n        } else if (visualIdx > 0 && (levels[visualIdx - 1] % 2 === 0) && (levels[visualIdx] % 2 !== 0)){\n            logicalIdx = 1 + ((posX > offset) ? this.bidiMap.logicalFromVisual[visualIdx]\n                    : this.bidiMap.logicalFromVisual[visualIdx - 1]);\n\n        } else if ((this.isRtlDir && visualIdx === levels.length - 1 && charWidth === 0 && (levels[visualIdx - 1] % 2 === 0))\n                || (!this.isRtlDir && visualIdx === 0 && (levels[visualIdx] % 2 !== 0))){\n            logicalIdx = 1 + this.bidiMap.logicalFromVisual[visualIdx];\n        } else {\n            if (visualIdx > 0 && (levels[visualIdx - 1] % 2 !== 0) && charWidth !== 0)\n                visualIdx--;\n            logicalIdx = this.bidiMap.logicalFromVisual[visualIdx];\n        }\n\n        if (logicalIdx === 0 && this.isRtlDir)\n            logicalIdx++;\n\n        return (logicalIdx + this.wrapIndent);\n    };\n\n}).call(BidiHandler.prototype);\n\nexports.BidiHandler = BidiHandler;\n});\n\nace.define(\"ace/selection\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Selection = function(session) {\n    this.session = session;\n    this.doc = session.getDocument();\n\n    this.clearSelection();\n    this.cursor = this.lead = this.doc.createAnchor(0, 0);\n    this.anchor = this.doc.createAnchor(0, 0);\n    this.$silent = false;\n\n    var self = this;\n    this.cursor.on(\"change\", function(e) {\n        self.$cursorChanged = true;\n        if (!self.$silent)\n            self._emit(\"changeCursor\");\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n        if (!self.$keepDesiredColumnOnChange && e.old.column != e.value.column)\n            self.$desiredColumn = null;\n    });\n\n    this.anchor.on(\"change\", function() {\n        self.$anchorChanged = true;\n        if (!self.$isEmpty && !self.$silent)\n            self._emit(\"changeSelection\");\n    });\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.isEmpty = function() {\n        return this.$isEmpty || (\n            this.anchor.row == this.lead.row &&\n            this.anchor.column == this.lead.column\n        );\n    };\n    this.isMultiLine = function() {\n        return !this.$isEmpty && this.anchor.row != this.cursor.row;\n    };\n    this.getCursor = function() {\n        return this.lead.getPosition();\n    };\n    this.setSelectionAnchor = function(row, column) {\n        this.$isEmpty = false;\n        this.anchor.setPosition(row, column);\n    };\n    this.getAnchor = \n    this.getSelectionAnchor = function() {\n        if (this.$isEmpty)\n            return this.getSelectionLead();\n        \n        return this.anchor.getPosition();\n    };\n    this.getSelectionLead = function() {\n        return this.lead.getPosition();\n    };\n    this.isBackwards = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n        return (anchor.row > lead.row || (anchor.row == lead.row && anchor.column > lead.column));\n    };\n    this.getRange = function() {\n        var anchor = this.anchor;\n        var lead = this.lead;\n\n        if (this.$isEmpty)\n            return Range.fromPoints(lead, lead);\n\n        return this.isBackwards()\n            ? Range.fromPoints(lead, anchor)\n            : Range.fromPoints(anchor, lead);\n    };\n    this.clearSelection = function() {\n        if (!this.$isEmpty) {\n            this.$isEmpty = true;\n            this._emit(\"changeSelection\");\n        }\n    };\n    this.selectAll = function() {\n        this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);\n    };\n    this.setRange =\n    this.setSelectionRange = function(range, reverse) {\n        var start = reverse ? range.end : range.start;\n        var end = reverse ? range.start : range.end;\n        this.$setSelection(start.row, start.column, end.row, end.column);\n    };\n\n    this.$setSelection = function(anchorRow, anchorColumn, cursorRow, cursorColumn) {\n        if (this.$silent)\n            return;\n        var wasEmpty = this.$isEmpty;\n        var wasMultiselect = this.inMultiSelectMode;\n        this.$silent = true;\n        this.$cursorChanged = this.$anchorChanged = false;\n        this.anchor.setPosition(anchorRow, anchorColumn);\n        this.cursor.setPosition(cursorRow, cursorColumn);\n        this.$isEmpty = !Range.comparePoints(this.anchor, this.cursor);\n        this.$silent = false;\n        if (this.$cursorChanged)\n            this._emit(\"changeCursor\");\n        if (this.$cursorChanged || this.$anchorChanged || wasEmpty != this.$isEmpty || wasMultiselect)\n            this._emit(\"changeSelection\");\n    };\n\n    this.$moveSelection = function(mover) {\n        var lead = this.lead;\n        if (this.$isEmpty)\n            this.setSelectionAnchor(lead.row, lead.column);\n\n        mover.call(this);\n    };\n    this.selectTo = function(row, column) {\n        this.$moveSelection(function() {\n            this.moveCursorTo(row, column);\n        });\n    };\n    this.selectToPosition = function(pos) {\n        this.$moveSelection(function() {\n            this.moveCursorToPosition(pos);\n        });\n    };\n    this.moveTo = function(row, column) {\n        this.clearSelection();\n        this.moveCursorTo(row, column);\n    };\n    this.moveToPosition = function(pos) {\n        this.clearSelection();\n        this.moveCursorToPosition(pos);\n    };\n    this.selectUp = function() {\n        this.$moveSelection(this.moveCursorUp);\n    };\n    this.selectDown = function() {\n        this.$moveSelection(this.moveCursorDown);\n    };\n    this.selectRight = function() {\n        this.$moveSelection(this.moveCursorRight);\n    };\n    this.selectLeft = function() {\n        this.$moveSelection(this.moveCursorLeft);\n    };\n    this.selectLineStart = function() {\n        this.$moveSelection(this.moveCursorLineStart);\n    };\n    this.selectLineEnd = function() {\n        this.$moveSelection(this.moveCursorLineEnd);\n    };\n    this.selectFileEnd = function() {\n        this.$moveSelection(this.moveCursorFileEnd);\n    };\n    this.selectFileStart = function() {\n        this.$moveSelection(this.moveCursorFileStart);\n    };\n    this.selectWordRight = function() {\n        this.$moveSelection(this.moveCursorWordRight);\n    };\n    this.selectWordLeft = function() {\n        this.$moveSelection(this.moveCursorWordLeft);\n    };\n    this.getWordRange = function(row, column) {\n        if (typeof column == \"undefined\") {\n            var cursor = row || this.lead;\n            row = cursor.row;\n            column = cursor.column;\n        }\n        return this.session.getWordRange(row, column);\n    };\n    this.selectWord = function() {\n        this.setSelectionRange(this.getWordRange());\n    };\n    this.selectAWord = function() {\n        var cursor = this.getCursor();\n        var range = this.session.getAWordRange(cursor.row, cursor.column);\n        this.setSelectionRange(range);\n    };\n\n    this.getLineRange = function(row, excludeLastChar) {\n        var rowStart = typeof row == \"number\" ? row : this.lead.row;\n        var rowEnd;\n\n        var foldLine = this.session.getFoldLine(rowStart);\n        if (foldLine) {\n            rowStart = foldLine.start.row;\n            rowEnd = foldLine.end.row;\n        } else {\n            rowEnd = rowStart;\n        }\n        if (excludeLastChar === true)\n            return new Range(rowStart, 0, rowEnd, this.session.getLine(rowEnd).length);\n        else\n            return new Range(rowStart, 0, rowEnd + 1, 0);\n    };\n    this.selectLine = function() {\n        this.setSelectionRange(this.getLineRange());\n    };\n    this.moveCursorUp = function() {\n        this.moveCursorBy(-1, 0);\n    };\n    this.moveCursorDown = function() {\n        this.moveCursorBy(1, 0);\n    };\n    this.wouldMoveIntoSoftTab = function(cursor, tabSize, direction) {\n        var start = cursor.column;\n        var end = cursor.column + tabSize;\n\n        if (direction < 0) {\n            start = cursor.column - tabSize;\n            end = cursor.column;\n        }\n        return this.session.isTabStop(cursor) && this.doc.getLine(cursor.row).slice(start, end).split(\" \").length-1 == tabSize;\n    };\n    this.moveCursorLeft = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n        } else if (cursor.column === 0) {\n            if (cursor.row > 0) {\n                this.moveCursorTo(cursor.row - 1, this.doc.getLine(cursor.row - 1).length);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, -1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, -tabSize);\n            } else {\n                this.moveCursorBy(0, -1);\n            }\n        }\n    };\n    this.moveCursorRight = function() {\n        var cursor = this.lead.getPosition(),\n            fold;\n        if (fold = this.session.getFoldAt(cursor.row, cursor.column, 1)) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n        }\n        else if (this.lead.column == this.doc.getLine(this.lead.row).length) {\n            if (this.lead.row < this.doc.getLength() - 1) {\n                this.moveCursorTo(this.lead.row + 1, 0);\n            }\n        }\n        else {\n            var tabSize = this.session.getTabSize();\n            var cursor = this.lead;\n            if (this.wouldMoveIntoSoftTab(cursor, tabSize, 1) && !this.session.getNavigateWithinSoftTabs()) {\n                this.moveCursorBy(0, tabSize);\n            } else {\n                this.moveCursorBy(0, 1);\n            }\n        }\n    };\n    this.moveCursorLineStart = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var screenRow = this.session.documentToScreenRow(row, column);\n        var firstColumnPosition = this.session.screenToDocumentPosition(screenRow, 0);\n        var beforeCursor = this.session.getDisplayLine(\n            row, null, firstColumnPosition.row,\n            firstColumnPosition.column\n        );\n\n        var leadingSpace = beforeCursor.match(/^\\s*/);\n        if (leadingSpace[0].length != column && !this.session.$useEmacsStyleLineStart)\n            firstColumnPosition.column += leadingSpace[0].length;\n        this.moveCursorToPosition(firstColumnPosition);\n    };\n    this.moveCursorLineEnd = function() {\n        var lead = this.lead;\n        var lineEnd = this.session.getDocumentLastRowColumnPosition(lead.row, lead.column);\n        if (this.lead.column == lineEnd.column) {\n            var line = this.session.getLine(lineEnd.row);\n            if (lineEnd.column == line.length) {\n                var textEnd = line.search(/\\s+$/);\n                if (textEnd > 0)\n                    lineEnd.column = textEnd;\n            }\n        }\n\n        this.moveCursorTo(lineEnd.row, lineEnd.column);\n    };\n    this.moveCursorFileEnd = function() {\n        var row = this.doc.getLength() - 1;\n        var column = this.doc.getLine(row).length;\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorFileStart = function() {\n        this.moveCursorTo(0, 0);\n    };\n    this.moveCursorLongWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            this.moveCursorTo(fold.end.row, fold.end.column);\n            return;\n        }\n        if (this.session.nonTokenRe.exec(rightOfCursor)) {\n            column += this.session.nonTokenRe.lastIndex;\n            this.session.nonTokenRe.lastIndex = 0;\n            rightOfCursor = line.substring(column);\n        }\n        if (column >= line.length) {\n            this.moveCursorTo(row, line.length);\n            this.moveCursorRight();\n            if (row < this.doc.getLength() - 1)\n                this.moveCursorWordRight();\n            return;\n        }\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            column += this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n    this.moveCursorLongWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1)) {\n            this.moveCursorTo(fold.start.row, fold.start.column);\n            return;\n        }\n\n        var str = this.session.getFoldStringAt(row, column, -1);\n        if (str == null) {\n            str = this.doc.getLine(row).substring(0, column);\n        }\n\n        var leftOfCursor = lang.stringReverse(str);\n        this.session.nonTokenRe.lastIndex = 0;\n        this.session.tokenRe.lastIndex = 0;\n        if (this.session.nonTokenRe.exec(leftOfCursor)) {\n            column -= this.session.nonTokenRe.lastIndex;\n            leftOfCursor = leftOfCursor.slice(this.session.nonTokenRe.lastIndex);\n            this.session.nonTokenRe.lastIndex = 0;\n        }\n        if (column <= 0) {\n            this.moveCursorTo(row, 0);\n            this.moveCursorLeft();\n            if (row > 0)\n                this.moveCursorWordLeft();\n            return;\n        }\n        if (this.session.tokenRe.exec(leftOfCursor)) {\n            column -= this.session.tokenRe.lastIndex;\n            this.session.tokenRe.lastIndex = 0;\n        }\n\n        this.moveCursorTo(row, column);\n    };\n\n    this.$shortWordEndIndex = function(rightOfCursor) {\n        var index = 0, ch;\n        var whitespaceRe = /\\s/;\n        var tokenRe = this.session.tokenRe;\n\n        tokenRe.lastIndex = 0;\n        if (this.session.tokenRe.exec(rightOfCursor)) {\n            index = this.session.tokenRe.lastIndex;\n        } else {\n            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                index ++;\n\n            if (index < 1) {\n                tokenRe.lastIndex = 0;\n                 while ((ch = rightOfCursor[index]) && !tokenRe.test(ch)) {\n                    tokenRe.lastIndex = 0;\n                    index ++;\n                    if (whitespaceRe.test(ch)) {\n                        if (index > 2) {\n                            index--;\n                            break;\n                        } else {\n                            while ((ch = rightOfCursor[index]) && whitespaceRe.test(ch))\n                                index ++;\n                            if (index > 2)\n                                break;\n                        }\n                    }\n                }\n            }\n        }\n        tokenRe.lastIndex = 0;\n\n        return index;\n    };\n\n    this.moveCursorShortWordRight = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n        var line = this.doc.getLine(row);\n        var rightOfCursor = line.substring(column);\n\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold)\n            return this.moveCursorTo(fold.end.row, fold.end.column);\n\n        if (column == line.length) {\n            var l = this.doc.getLength();\n            do {\n                row++;\n                rightOfCursor = this.doc.getLine(row);\n            } while (row < l && /^\\s*$/.test(rightOfCursor));\n\n            if (!/^\\s+/.test(rightOfCursor))\n                rightOfCursor = \"\";\n            column = 0;\n        }\n\n        var index = this.$shortWordEndIndex(rightOfCursor);\n\n        this.moveCursorTo(row, column + index);\n    };\n\n    this.moveCursorShortWordLeft = function() {\n        var row = this.lead.row;\n        var column = this.lead.column;\n\n        var fold;\n        if (fold = this.session.getFoldAt(row, column, -1))\n            return this.moveCursorTo(fold.start.row, fold.start.column);\n\n        var line = this.session.getLine(row).substring(0, column);\n        if (column === 0) {\n            do {\n                row--;\n                line = this.doc.getLine(row);\n            } while (row > 0 && /^\\s*$/.test(line));\n\n            column = line.length;\n            if (!/\\s+$/.test(line))\n                line = \"\";\n        }\n\n        var leftOfCursor = lang.stringReverse(line);\n        var index = this.$shortWordEndIndex(leftOfCursor);\n\n        return this.moveCursorTo(row, column - index);\n    };\n\n    this.moveCursorWordRight = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordRight();\n        else\n            this.moveCursorShortWordRight();\n    };\n\n    this.moveCursorWordLeft = function() {\n        if (this.session.$selectLongWords)\n            this.moveCursorLongWordLeft();\n        else\n            this.moveCursorShortWordLeft();\n    };\n    this.moveCursorBy = function(rows, chars) {\n        var screenPos = this.session.documentToScreenPosition(\n            this.lead.row,\n            this.lead.column\n        );\n\n        var offsetX;\n\n        if (chars === 0) {\n            if (rows !== 0) {\n                if (this.session.$bidiHandler.isBidiRow(screenPos.row, this.lead.row)) {\n                    offsetX = this.session.$bidiHandler.getPosLeft(screenPos.column);\n                    screenPos.column = Math.round(offsetX / this.session.$bidiHandler.charWidths[0]);\n                } else {\n                    offsetX = screenPos.column * this.session.$bidiHandler.charWidths[0];\n                }\n            }\n\n            if (this.$desiredColumn)\n                screenPos.column = this.$desiredColumn;\n            else\n                this.$desiredColumn = screenPos.column;\n        }\n        \n        if (rows != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {\n            var widget = this.session.lineWidgets[this.lead.row];\n            if (rows < 0)\n                rows -= widget.rowsAbove || 0;\n            else if (rows > 0)\n                rows += widget.rowCount - (widget.rowsAbove || 0);\n        }\n        \n        var docPos = this.session.screenToDocumentPosition(screenPos.row + rows, screenPos.column, offsetX);\n        \n        if (rows !== 0 && chars === 0 && docPos.row === this.lead.row && docPos.column === this.lead.column) {\n            \n        }\n        this.moveCursorTo(docPos.row, docPos.column + chars, chars === 0);\n    };\n    this.moveCursorToPosition = function(position) {\n        this.moveCursorTo(position.row, position.column);\n    };\n    this.moveCursorTo = function(row, column, keepDesiredColumn) {\n        var fold = this.session.getFoldAt(row, column, 1);\n        if (fold) {\n            row = fold.start.row;\n            column = fold.start.column;\n        }\n\n        this.$keepDesiredColumnOnChange = true;\n        var line = this.session.getLine(row);\n        if (/[\\uDC00-\\uDFFF]/.test(line.charAt(column)) && line.charAt(column - 1)) {\n            if (this.lead.row == row && this.lead.column == column + 1)\n                column = column - 1;\n            else\n                column = column + 1;\n        }\n        this.lead.setPosition(row, column);\n        this.$keepDesiredColumnOnChange = false;\n\n        if (!keepDesiredColumn)\n            this.$desiredColumn = null;\n    };\n    this.moveCursorToScreen = function(row, column, keepDesiredColumn) {\n        var pos = this.session.screenToDocumentPosition(row, column);\n        this.moveCursorTo(pos.row, pos.column, keepDesiredColumn);\n    };\n    this.detach = function() {\n        this.lead.detach();\n        this.anchor.detach();\n        this.session = this.doc = null;\n    };\n\n    this.fromOrientedRange = function(range) {\n        this.setSelectionRange(range, range.cursor == range.start);\n        this.$desiredColumn = range.desiredColumn || this.$desiredColumn;\n    };\n\n    this.toOrientedRange = function(range) {\n        var r = this.getRange();\n        if (range) {\n            range.start.column = r.start.column;\n            range.start.row = r.start.row;\n            range.end.column = r.end.column;\n            range.end.row = r.end.row;\n        } else {\n            range = r;\n        }\n\n        range.cursor = this.isBackwards() ? range.start : range.end;\n        range.desiredColumn = this.$desiredColumn;\n        return range;\n    };\n    this.getRangeOfMovements = function(func) {\n        var start = this.getCursor();\n        try {\n            func(this);\n            var end = this.getCursor();\n            return Range.fromPoints(start, end);\n        } catch(e) {\n            return Range.fromPoints(start, start);\n        } finally {\n            this.moveCursorToPosition(start);\n        }\n    };\n\n    this.toJSON = function() {\n        if (this.rangeCount) {\n            var data = this.ranges.map(function(r) {\n                var r1 = r.clone();\n                r1.isBackwards = r.cursor == r.start;\n                return r1;\n            });\n        } else {\n            var data = this.getRange();\n            data.isBackwards = this.isBackwards();\n        }\n        return data;\n    };\n\n    this.fromJSON = function(data) {\n        if (data.start == undefined) {\n            if (this.rangeList && data.length > 1) {\n                this.toSingleRange(data[0]);\n                for (var i = data.length; i--; ) {\n                    var r = Range.fromPoints(data[i].start, data[i].end);\n                    if (data[i].isBackwards)\n                        r.cursor = r.start;\n                    this.addRange(r, true);\n                }\n                return;\n            } else {\n                data = data[0];\n            }\n        }\n        if (this.rangeList)\n            this.toSingleRange(data);\n        this.setSelectionRange(data, data.isBackwards);\n    };\n\n    this.isEqual = function(data) {\n        if ((data.length || this.rangeCount) && data.length != this.rangeCount)\n            return false;\n        if (!data.length || !this.ranges)\n            return this.getRange().isEqual(data);\n\n        for (var i = this.ranges.length; i--; ) {\n            if (!this.ranges[i].isEqual(data[i]))\n                return false;\n        }\n        return true;\n    };\n\n}).call(Selection.prototype);\n\nexports.Selection = Selection;\n});\n\nace.define(\"ace/tokenizer\",[\"require\",\"exports\",\"module\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar config = require(\"./config\");\nvar MAX_TOKEN_COUNT = 2000;\nvar Tokenizer = function(rules) {\n    this.states = rules;\n\n    this.regExps = {};\n    this.matchMappings = {};\n    for (var key in this.states) {\n        var state = this.states[key];\n        var ruleRegExps = [];\n        var matchTotal = 0;\n        var mapping = this.matchMappings[key] = {defaultToken: \"text\"};\n        var flag = \"g\";\n\n        var splitterRurles = [];\n        for (var i = 0; i < state.length; i++) {\n            var rule = state[i];\n            if (rule.defaultToken)\n                mapping.defaultToken = rule.defaultToken;\n            if (rule.caseInsensitive)\n                flag = \"gi\";\n            if (rule.regex == null)\n                continue;\n\n            if (rule.regex instanceof RegExp)\n                rule.regex = rule.regex.toString().slice(1, -1);\n            var adjustedregex = rule.regex;\n            var matchcount = new RegExp(\"(?:(\" + adjustedregex + \")|(.))\").exec(\"a\").length - 2;\n            if (Array.isArray(rule.token)) {\n                if (rule.token.length == 1 || matchcount == 1) {\n                    rule.token = rule.token[0];\n                } else if (matchcount - 1 != rule.token.length) {\n                    this.reportError(\"number of classes and regexp groups doesn't match\", { \n                        rule: rule,\n                        groupCount: matchcount - 1\n                    });\n                    rule.token = rule.token[0];\n                } else {\n                    rule.tokenArray = rule.token;\n                    rule.token = null;\n                    rule.onMatch = this.$arrayTokens;\n                }\n            } else if (typeof rule.token == \"function\" && !rule.onMatch) {\n                if (matchcount > 1)\n                    rule.onMatch = this.$applyToken;\n                else\n                    rule.onMatch = rule.token;\n            }\n\n            if (matchcount > 1) {\n                if (/\\\\\\d/.test(rule.regex)) {\n                    adjustedregex = rule.regex.replace(/\\\\([0-9]+)/g, function(match, digit) {\n                        return \"\\\\\" + (parseInt(digit, 10) + matchTotal + 1);\n                    });\n                } else {\n                    matchcount = 1;\n                    adjustedregex = this.removeCapturingGroups(rule.regex);\n                }\n                if (!rule.splitRegex && typeof rule.token != \"string\")\n                    splitterRurles.push(rule); // flag will be known only at the very end\n            }\n\n            mapping[matchTotal] = i;\n            matchTotal += matchcount;\n\n            ruleRegExps.push(adjustedregex);\n            if (!rule.onMatch)\n                rule.onMatch = null;\n        }\n        \n        if (!ruleRegExps.length) {\n            mapping[0] = 0;\n            ruleRegExps.push(\"$\");\n        }\n        \n        splitterRurles.forEach(function(rule) {\n            rule.splitRegex = this.createSplitterRegexp(rule.regex, flag);\n        }, this);\n\n        this.regExps[key] = new RegExp(\"(\" + ruleRegExps.join(\")|(\") + \")|($)\", flag);\n    }\n};\n\n(function() {\n    this.$setMaxTokenCount = function(m) {\n        MAX_TOKEN_COUNT = m | 0;\n    };\n    \n    this.$applyToken = function(str) {\n        var values = this.splitRegex.exec(str).slice(1);\n        var types = this.token.apply(this, values);\n        if (typeof types === \"string\")\n            return [{type: types, value: str}];\n\n        var tokens = [];\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i]\n                };\n        }\n        return tokens;\n    };\n\n    this.$arrayTokens = function(str) {\n        if (!str)\n            return [];\n        var values = this.splitRegex.exec(str);\n        if (!values)\n            return \"text\";\n        var tokens = [];\n        var types = this.tokenArray;\n        for (var i = 0, l = types.length; i < l; i++) {\n            if (values[i + 1])\n                tokens[tokens.length] = {\n                    type: types[i],\n                    value: values[i + 1]\n                };\n        }\n        return tokens;\n    };\n\n    this.removeCapturingGroups = function(src) {\n        var r = src.replace(\n            /\\\\.|\\[(?:\\\\.|[^\\\\\\]])*|\\(\\?[:=!]|(\\()/g,\n            function(x, y) {return y ? \"(?:\" : x;}\n        );\n        return r;\n    };\n\n    this.createSplitterRegexp = function(src, flag) {\n        if (src.indexOf(\"(?=\") != -1) {\n            var stack = 0;\n            var inChClass = false;\n            var lastCapture = {};\n            src.replace(/(\\\\.)|(\\((?:\\?[=!])?)|(\\))|([\\[\\]])/g, function(\n                m, esc, parenOpen, parenClose, square, index\n            ) {\n                if (inChClass) {\n                    inChClass = square != \"]\";\n                } else if (square) {\n                    inChClass = true;\n                } else if (parenClose) {\n                    if (stack == lastCapture.stack) {\n                        lastCapture.end = index+1;\n                        lastCapture.stack = -1;\n                    }\n                    stack--;\n                } else if (parenOpen) {\n                    stack++;\n                    if (parenOpen.length != 1) {\n                        lastCapture.stack = stack;\n                        lastCapture.start = index;\n                    }\n                }\n                return m;\n            });\n\n            if (lastCapture.end != null && /^\\)*$/.test(src.substr(lastCapture.end)))\n                src = src.substring(0, lastCapture.start) + src.substr(lastCapture.end);\n        }\n        if (src.charAt(0) != \"^\") src = \"^\" + src;\n        if (src.charAt(src.length - 1) != \"$\") src += \"$\";\n        \n        return new RegExp(src, (flag||\"\").replace(\"g\", \"\"));\n    };\n    this.getLineTokens = function(line, startState) {\n        if (startState && typeof startState != \"string\") {\n            var stack = startState.slice(0);\n            startState = stack[0];\n            if (startState === \"#tmp\") {\n                stack.shift();\n                startState = stack.shift();\n            }\n        } else\n            var stack = [];\n\n        var currentState = startState || \"start\";\n        var state = this.states[currentState];\n        if (!state) {\n            currentState = \"start\";\n            state = this.states[currentState];\n        }\n        var mapping = this.matchMappings[currentState];\n        var re = this.regExps[currentState];\n        re.lastIndex = 0;\n\n        var match, tokens = [];\n        var lastIndex = 0;\n        var matchAttempts = 0;\n\n        var token = {type: null, value: \"\"};\n\n        while (match = re.exec(line)) {\n            var type = mapping.defaultToken;\n            var rule = null;\n            var value = match[0];\n            var index = re.lastIndex;\n\n            if (index - value.length > lastIndex) {\n                var skipped = line.substring(lastIndex, index - value.length);\n                if (token.type == type) {\n                    token.value += skipped;\n                } else {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: type, value: skipped};\n                }\n            }\n\n            for (var i = 0; i < match.length-2; i++) {\n                if (match[i + 1] === undefined)\n                    continue;\n\n                rule = state[mapping[i]];\n\n                if (rule.onMatch)\n                    type = rule.onMatch(value, currentState, stack, line);\n                else\n                    type = rule.token;\n\n                if (rule.next) {\n                    if (typeof rule.next == \"string\") {\n                        currentState = rule.next;\n                    } else {\n                        currentState = rule.next(currentState, stack);\n                    }\n                    \n                    state = this.states[currentState];\n                    if (!state) {\n                        this.reportError(\"state doesn't exist\", currentState);\n                        currentState = \"start\";\n                        state = this.states[currentState];\n                    }\n                    mapping = this.matchMappings[currentState];\n                    lastIndex = index;\n                    re = this.regExps[currentState];\n                    re.lastIndex = index;\n                }\n                if (rule.consumeLineEnd)\n                    lastIndex = index;\n                break;\n            }\n\n            if (value) {\n                if (typeof type === \"string\") {\n                    if ((!rule || rule.merge !== false) && token.type === type) {\n                        token.value += value;\n                    } else {\n                        if (token.type)\n                            tokens.push(token);\n                        token = {type: type, value: value};\n                    }\n                } else if (type) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {type: null, value: \"\"};\n                    for (var i = 0; i < type.length; i++)\n                        tokens.push(type[i]);\n                }\n            }\n\n            if (lastIndex == line.length)\n                break;\n\n            lastIndex = index;\n\n            if (matchAttempts++ > MAX_TOKEN_COUNT) {\n                if (matchAttempts > 2 * line.length) {\n                    this.reportError(\"infinite loop with in ace tokenizer\", {\n                        startState: startState,\n                        line: line\n                    });\n                }\n                while (lastIndex < line.length) {\n                    if (token.type)\n                        tokens.push(token);\n                    token = {\n                        value: line.substring(lastIndex, lastIndex += 500),\n                        type: \"overflow\"\n                    };\n                }\n                currentState = \"start\";\n                stack = [];\n                break;\n            }\n        }\n\n        if (token.type)\n            tokens.push(token);\n        \n        if (stack.length > 1) {\n            if (stack[0] !== currentState)\n                stack.unshift(\"#tmp\", currentState);\n        }\n        return {\n            tokens : tokens,\n            state : stack.length ? stack : currentState\n        };\n    };\n    \n    this.reportError = config.reportError;\n    \n}).call(Tokenizer.prototype);\n\nexports.Tokenizer = Tokenizer;\n});\n\nace.define(\"ace/mode/text_highlight_rules\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\n\nvar TextHighlightRules = function() {\n\n    this.$rules = {\n        \"start\" : [{\n            token : \"empty_line\",\n            regex : '^$'\n        }, {\n            defaultToken : \"text\"\n        }]\n    };\n};\n\n(function() {\n\n    this.addRules = function(rules, prefix) {\n        if (!prefix) {\n            for (var key in rules)\n                this.$rules[key] = rules[key];\n            return;\n        }\n        for (var key in rules) {\n            var state = rules[key];\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                if (rule.next || rule.onMatch) {\n                    if (typeof rule.next == \"string\") {\n                        if (rule.next.indexOf(prefix) !== 0)\n                            rule.next = prefix + rule.next;\n                    }\n                    if (rule.nextState && rule.nextState.indexOf(prefix) !== 0)\n                        rule.nextState = prefix + rule.nextState;\n                }\n            }\n            this.$rules[prefix + key] = state;\n        }\n    };\n\n    this.getRules = function() {\n        return this.$rules;\n    };\n\n    this.embedRules = function (HighlightRules, prefix, escapeRules, states, append) {\n        var embedRules = typeof HighlightRules == \"function\"\n            ? new HighlightRules().getRules()\n            : HighlightRules;\n        if (states) {\n            for (var i = 0; i < states.length; i++)\n                states[i] = prefix + states[i];\n        } else {\n            states = [];\n            for (var key in embedRules)\n                states.push(prefix + key);\n        }\n\n        this.addRules(embedRules, prefix);\n\n        if (escapeRules) {\n            var addRules = Array.prototype[append ? \"push\" : \"unshift\"];\n            for (var i = 0; i < states.length; i++)\n                addRules.apply(this.$rules[states[i]], lang.deepCopy(escapeRules));\n        }\n\n        if (!this.$embeds)\n            this.$embeds = [];\n        this.$embeds.push(prefix);\n    };\n\n    this.getEmbeds = function() {\n        return this.$embeds;\n    };\n\n    var pushState = function(currentState, stack) {\n        if (currentState != \"start\" || stack.length)\n            stack.unshift(this.nextState, currentState);\n        return this.nextState;\n    };\n    var popState = function(currentState, stack) {\n        stack.shift();\n        return stack.shift() || \"start\";\n    };\n\n    this.normalizeRules = function() {\n        var id = 0;\n        var rules = this.$rules;\n        function processState(key) {\n            var state = rules[key];\n            state.processed = true;\n            for (var i = 0; i < state.length; i++) {\n                var rule = state[i];\n                var toInsert = null;\n                if (Array.isArray(rule)) {\n                    toInsert = rule;\n                    rule = {};\n                }\n                if (!rule.regex && rule.start) {\n                    rule.regex = rule.start;\n                    if (!rule.next)\n                        rule.next = [];\n                    rule.next.push({\n                        defaultToken: rule.token\n                    }, {\n                        token: rule.token + \".end\",\n                        regex: rule.end || rule.start,\n                        next: \"pop\"\n                    });\n                    rule.token = rule.token + \".start\";\n                    rule.push = true;\n                }\n                var next = rule.next || rule.push;\n                if (next && Array.isArray(next)) {\n                    var stateName = rule.stateName;\n                    if (!stateName)  {\n                        stateName = rule.token;\n                        if (typeof stateName != \"string\")\n                            stateName = stateName[0] || \"\";\n                        if (rules[stateName])\n                            stateName += id++;\n                    }\n                    rules[stateName] = next;\n                    rule.next = stateName;\n                    processState(stateName);\n                } else if (next == \"pop\") {\n                    rule.next = popState;\n                }\n\n                if (rule.push) {\n                    rule.nextState = rule.next || rule.push;\n                    rule.next = pushState;\n                    delete rule.push;\n                }\n\n                if (rule.rules) {\n                    for (var r in rule.rules) {\n                        if (rules[r]) {\n                            if (rules[r].push)\n                                rules[r].push.apply(rules[r], rule.rules[r]);\n                        } else {\n                            rules[r] = rule.rules[r];\n                        }\n                    }\n                }\n                var includeName = typeof rule == \"string\" ? rule : rule.include;\n                if (includeName) {\n                    if (Array.isArray(includeName))\n                        toInsert = includeName.map(function(x) { return rules[x]; });\n                    else\n                        toInsert = rules[includeName];\n                }\n\n                if (toInsert) {\n                    var args = [i, 1].concat(toInsert);\n                    if (rule.noEscape)\n                        args = args.filter(function(x) {return !x.next;});\n                    state.splice.apply(state, args);\n                    i--;\n                }\n                \n                if (rule.keywordMap) {\n                    rule.token = this.createKeywordMapper(\n                        rule.keywordMap, rule.defaultToken || \"text\", rule.caseInsensitive\n                    );\n                    delete rule.defaultToken;\n                }\n            }\n        }\n        Object.keys(rules).forEach(processState, this);\n    };\n\n    this.createKeywordMapper = function(map, defaultToken, ignoreCase, splitChar) {\n        var keywords = Object.create(null);\n        this.$keywordList = [];\n        Object.keys(map).forEach(function(className) {\n            var a = map[className];\n            var list = a.split(splitChar || \"|\");\n            for (var i = list.length; i--; ) {\n                var word = list[i];\n                this.$keywordList.push(word);\n                if (ignoreCase)\n                    word = word.toLowerCase(); \n                keywords[word] = className;\n            }\n        }, this);\n        map = null;\n        return ignoreCase\n            ? function(value) {return keywords[value.toLowerCase()] || defaultToken; }\n            : function(value) {return keywords[value] || defaultToken; };\n    };\n\n    this.getKeywords = function() {\n        return this.$keywords;\n    };\n\n}).call(TextHighlightRules.prototype);\n\nexports.TextHighlightRules = TextHighlightRules;\n});\n\nace.define(\"ace/mode/behaviour\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nvar Behaviour = function() {\n   this.$behaviours = {};\n};\n\n(function () {\n\n    this.add = function (name, action, callback) {\n        switch (undefined) {\n          case this.$behaviours:\n              this.$behaviours = {};\n          case this.$behaviours[name]:\n              this.$behaviours[name] = {};\n        }\n        this.$behaviours[name][action] = callback;\n    };\n    \n    this.addBehaviours = function (behaviours) {\n        for (var key in behaviours) {\n            for (var action in behaviours[key]) {\n                this.add(key, action, behaviours[key][action]);\n            }\n        }\n    };\n    \n    this.remove = function (name) {\n        if (this.$behaviours && this.$behaviours[name]) {\n            delete this.$behaviours[name];\n        }\n    };\n    \n    this.inherit = function (mode, filter) {\n        if (typeof mode === \"function\") {\n            var behaviours = new mode().getBehaviours(filter);\n        } else {\n            var behaviours = mode.getBehaviours(filter);\n        }\n        this.addBehaviours(behaviours);\n    };\n    \n    this.getBehaviours = function (filter) {\n        if (!filter) {\n            return this.$behaviours;\n        } else {\n            var ret = {};\n            for (var i = 0; i < filter.length; i++) {\n                if (this.$behaviours[filter[i]]) {\n                    ret[filter[i]] = this.$behaviours[filter[i]];\n                }\n            }\n            return ret;\n        }\n    };\n\n}).call(Behaviour.prototype);\n\nexports.Behaviour = Behaviour;\n});\n\nace.define(\"ace/token_iterator\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar TokenIterator = function(session, initialRow, initialColumn) {\n    this.$session = session;\n    this.$row = initialRow;\n    this.$rowTokens = session.getTokens(initialRow);\n\n    var token = session.getTokenAt(initialRow, initialColumn);\n    this.$tokenIndex = token ? token.index : -1;\n};\n\n(function() { \n    this.stepBackward = function() {\n        this.$tokenIndex -= 1;\n        \n        while (this.$tokenIndex < 0) {\n            this.$row -= 1;\n            if (this.$row < 0) {\n                this.$row = 0;\n                return null;\n            }\n                \n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = this.$rowTokens.length - 1;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };   \n    this.stepForward = function() {\n        this.$tokenIndex += 1;\n        var rowCount;\n        while (this.$tokenIndex >= this.$rowTokens.length) {\n            this.$row += 1;\n            if (!rowCount)\n                rowCount = this.$session.getLength();\n            if (this.$row >= rowCount) {\n                this.$row = rowCount - 1;\n                return null;\n            }\n\n            this.$rowTokens = this.$session.getTokens(this.$row);\n            this.$tokenIndex = 0;\n        }\n            \n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentToken = function () {\n        return this.$rowTokens[this.$tokenIndex];\n    };      \n    this.getCurrentTokenRow = function () {\n        return this.$row;\n    };     \n    this.getCurrentTokenColumn = function() {\n        var rowTokens = this.$rowTokens;\n        var tokenIndex = this.$tokenIndex;\n        var column = rowTokens[tokenIndex].start;\n        if (column !== undefined)\n            return column;\n            \n        column = 0;\n        while (tokenIndex > 0) {\n            tokenIndex -= 1;\n            column += rowTokens[tokenIndex].value.length;\n        }\n        \n        return column;  \n    };\n    this.getCurrentTokenPosition = function() {\n        return {row: this.$row, column: this.getCurrentTokenColumn()};\n    };\n    this.getCurrentTokenRange = function() {\n        var token = this.$rowTokens[this.$tokenIndex];\n        var column = this.getCurrentTokenColumn();\n        return new Range(this.$row, column, this.$row, column + token.value.length);\n    };\n    \n}).call(TokenIterator.prototype);\n\nexports.TokenIterator = TokenIterator;\n});\n\nace.define(\"ace/mode/behaviour/cstyle\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/mode/behaviour\",\"ace/token_iterator\",\"ace/lib/lang\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../../lib/oop\");\nvar Behaviour = require(\"../behaviour\").Behaviour;\nvar TokenIterator = require(\"../../token_iterator\").TokenIterator;\nvar lang = require(\"../../lib/lang\");\n\nvar SAFE_INSERT_IN_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\"];\nvar SAFE_INSERT_BEFORE_TOKENS =\n    [\"text\", \"paren.rparen\", \"rparen\", \"paren\", \"punctuation.operator\", \"comment\"];\n\nvar context;\nvar contextCache = {};\nvar defaultQuotes = {'\"' : '\"', \"'\" : \"'\"};\n\nvar initContext = function(editor) {\n    var id = -1;\n    if (editor.multiSelect) {\n        id = editor.selection.index;\n        if (contextCache.rangeCount != editor.multiSelect.rangeCount)\n            contextCache = {rangeCount: editor.multiSelect.rangeCount};\n    }\n    if (contextCache[id])\n        return context = contextCache[id];\n    context = contextCache[id] = {\n        autoInsertedBrackets: 0,\n        autoInsertedRow: -1,\n        autoInsertedLineEnd: \"\",\n        maybeInsertedBrackets: 0,\n        maybeInsertedRow: -1,\n        maybeInsertedLineStart: \"\",\n        maybeInsertedLineEnd: \"\"\n    };\n};\n\nvar getWrapped = function(selection, selected, opening, closing) {\n    var rowDiff = selection.end.row - selection.start.row;\n    return {\n        text: opening + selected + closing,\n        selection: [\n                0,\n                selection.start.column + 1,\n                rowDiff,\n                selection.end.column + (rowDiff ? 0 : 1)\n            ]\n    };\n};\n\nvar CstyleBehaviour = function(options) {\n    this.add(\"braces\", \"insertion\", function(state, action, editor, session, text) {\n        var cursor = editor.getCursorPosition();\n        var line = session.doc.getLine(cursor.row);\n        if (text == '{') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && selected !== \"{\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '{', '}');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                if (/[\\]\\}\\)]/.test(line[cursor.column]) || editor.inMultiSelectMode || options && options.braces) {\n                    CstyleBehaviour.recordAutoInsert(editor, session, \"}\");\n                    return {\n                        text: '{}',\n                        selection: [1, 1]\n                    };\n                } else {\n                    CstyleBehaviour.recordMaybeInsert(editor, session, \"{\");\n                    return {\n                        text: '{',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == '}') {\n            initContext(editor);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == '}') {\n                var matching = session.$findOpeningBracket('}', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        } else if (text == \"\\n\" || text == \"\\r\\n\") {\n            initContext(editor);\n            var closing = \"\";\n            if (CstyleBehaviour.isMaybeInsertedClosing(cursor, line)) {\n                closing = lang.stringRepeat(\"}\", context.maybeInsertedBrackets);\n                CstyleBehaviour.clearMaybeInsertedClosing();\n            }\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar === '}') {\n                var openBracePos = session.findMatchingBracket({row: cursor.row, column: cursor.column+1}, '}');\n                if (!openBracePos)\n                     return null;\n                var next_indent = this.$getIndent(session.getLine(openBracePos.row));\n            } else if (closing) {\n                var next_indent = this.$getIndent(line);\n            } else {\n                CstyleBehaviour.clearMaybeInsertedClosing();\n                return;\n            }\n            var indent = next_indent + session.getTabString();\n\n            return {\n                text: '\\n' + indent + '\\n' + next_indent + closing,\n                selection: [1, indent.length, 1, indent.length]\n            };\n        } else {\n            CstyleBehaviour.clearMaybeInsertedClosing();\n        }\n    });\n\n    this.add(\"braces\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '{') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.end.column, range.end.column + 1);\n            if (rightChar == '}') {\n                range.end.column++;\n                return range;\n            } else {\n                context.maybeInsertedBrackets--;\n            }\n        }\n    });\n\n    this.add(\"parens\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '(') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '(', ')');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \")\");\n                return {\n                    text: '()',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ')') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ')') {\n                var matching = session.$findOpeningBracket(')', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"parens\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '(') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ')') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"insertion\", function(state, action, editor, session, text) {\n        if (text == '[') {\n            initContext(editor);\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, '[', ']');\n            } else if (CstyleBehaviour.isSaneInsertion(editor, session)) {\n                CstyleBehaviour.recordAutoInsert(editor, session, \"]\");\n                return {\n                    text: '[]',\n                    selection: [1, 1]\n                };\n            }\n        } else if (text == ']') {\n            initContext(editor);\n            var cursor = editor.getCursorPosition();\n            var line = session.doc.getLine(cursor.row);\n            var rightChar = line.substring(cursor.column, cursor.column + 1);\n            if (rightChar == ']') {\n                var matching = session.$findOpeningBracket(']', {column: cursor.column + 1, row: cursor.row});\n                if (matching !== null && CstyleBehaviour.isAutoInsertedClosing(cursor, line, text)) {\n                    CstyleBehaviour.popAutoInsertedClosing();\n                    return {\n                        text: '',\n                        selection: [1, 1]\n                    };\n                }\n            }\n        }\n    });\n\n    this.add(\"brackets\", \"deletion\", function(state, action, editor, session, range) {\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && selected == '[') {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == ']') {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"insertion\", function(state, action, editor, session, text) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n        if (text.length == 1 && quotes[text]) {\n            if (this.lineCommentStart && this.lineCommentStart.indexOf(text) != -1) \n                return;\n            initContext(editor);\n            var quote = text;\n            var selection = editor.getSelectionRange();\n            var selected = session.doc.getTextRange(selection);\n            if (selected !== \"\" && (selected.length != 1 || !quotes[selected]) && editor.getWrapBehavioursEnabled()) {\n                return getWrapped(selection, selected, quote, quote);\n            } else if (!selected) {\n                var cursor = editor.getCursorPosition();\n                var line = session.doc.getLine(cursor.row);\n                var leftChar = line.substring(cursor.column-1, cursor.column);\n                var rightChar = line.substring(cursor.column, cursor.column + 1);\n                \n                var token = session.getTokenAt(cursor.row, cursor.column);\n                var rightToken = session.getTokenAt(cursor.row, cursor.column + 1);\n                if (leftChar == \"\\\\\" && token && /escape/.test(token.type))\n                    return null;\n                \n                var stringBefore = token && /string|escape/.test(token.type);\n                var stringAfter = !rightToken || /string|escape/.test(rightToken.type);\n                \n                var pair;\n                if (rightChar == quote) {\n                    pair = stringBefore !== stringAfter;\n                    if (pair && /string\\.end/.test(rightToken.type))\n                        pair = false;\n                } else {\n                    if (stringBefore && !stringAfter)\n                        return null; // wrap string with different quote\n                    if (stringBefore && stringAfter)\n                        return null; // do not pair quotes inside strings\n                    var wordRe = session.$mode.tokenRe;\n                    wordRe.lastIndex = 0;\n                    var isWordBefore = wordRe.test(leftChar);\n                    wordRe.lastIndex = 0;\n                    var isWordAfter = wordRe.test(leftChar);\n                    if (isWordBefore || isWordAfter)\n                        return null; // before or after alphanumeric\n                    if (rightChar && !/[\\s;,.})\\]\\\\]/.test(rightChar))\n                        return null; // there is rightChar and it isn't closing\n                    var charBefore = line[cursor.column - 2];\n                    if (leftChar == quote &&  (charBefore == quote || wordRe.test(charBefore)))\n                        return null;\n                    pair = true;\n                }\n                return {\n                    text: pair ? quote + quote : \"\",\n                    selection: [1,1]\n                };\n            }\n        }\n    });\n\n    this.add(\"string_dquotes\", \"deletion\", function(state, action, editor, session, range) {\n        var quotes = session.$mode.$quotes || defaultQuotes;\n\n        var selected = session.doc.getTextRange(range);\n        if (!range.isMultiLine() && quotes.hasOwnProperty(selected)) {\n            initContext(editor);\n            var line = session.doc.getLine(range.start.row);\n            var rightChar = line.substring(range.start.column + 1, range.start.column + 2);\n            if (rightChar == selected) {\n                range.end.column++;\n                return range;\n            }\n        }\n    });\n\n};\n\n    \nCstyleBehaviour.isSaneInsertion = function(editor, session) {\n    var cursor = editor.getCursorPosition();\n    var iterator = new TokenIterator(session, cursor.row, cursor.column);\n    if (!this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS)) {\n        if (/[)}\\]]/.test(editor.session.getLine(cursor.row)[cursor.column]))\n            return true;\n        var iterator2 = new TokenIterator(session, cursor.row, cursor.column + 1);\n        if (!this.$matchTokenType(iterator2.getCurrentToken() || \"text\", SAFE_INSERT_IN_TOKENS))\n            return false;\n    }\n    iterator.stepForward();\n    return iterator.getCurrentTokenRow() !== cursor.row ||\n        this.$matchTokenType(iterator.getCurrentToken() || \"text\", SAFE_INSERT_BEFORE_TOKENS);\n};\n\nCstyleBehaviour.$matchTokenType = function(token, types) {\n    return types.indexOf(token.type || token) > -1;\n};\n\nCstyleBehaviour.recordAutoInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isAutoInsertedClosing(cursor, line, context.autoInsertedLineEnd[0]))\n        context.autoInsertedBrackets = 0;\n    context.autoInsertedRow = cursor.row;\n    context.autoInsertedLineEnd = bracket + line.substr(cursor.column);\n    context.autoInsertedBrackets++;\n};\n\nCstyleBehaviour.recordMaybeInsert = function(editor, session, bracket) {\n    var cursor = editor.getCursorPosition();\n    var line = session.doc.getLine(cursor.row);\n    if (!this.isMaybeInsertedClosing(cursor, line))\n        context.maybeInsertedBrackets = 0;\n    context.maybeInsertedRow = cursor.row;\n    context.maybeInsertedLineStart = line.substr(0, cursor.column) + bracket;\n    context.maybeInsertedLineEnd = line.substr(cursor.column);\n    context.maybeInsertedBrackets++;\n};\n\nCstyleBehaviour.isAutoInsertedClosing = function(cursor, line, bracket) {\n    return context.autoInsertedBrackets > 0 &&\n        cursor.row === context.autoInsertedRow &&\n        bracket === context.autoInsertedLineEnd[0] &&\n        line.substr(cursor.column) === context.autoInsertedLineEnd;\n};\n\nCstyleBehaviour.isMaybeInsertedClosing = function(cursor, line) {\n    return context.maybeInsertedBrackets > 0 &&\n        cursor.row === context.maybeInsertedRow &&\n        line.substr(cursor.column) === context.maybeInsertedLineEnd &&\n        line.substr(0, cursor.column) == context.maybeInsertedLineStart;\n};\n\nCstyleBehaviour.popAutoInsertedClosing = function() {\n    context.autoInsertedLineEnd = context.autoInsertedLineEnd.substr(1);\n    context.autoInsertedBrackets--;\n};\n\nCstyleBehaviour.clearMaybeInsertedClosing = function() {\n    if (context) {\n        context.maybeInsertedBrackets = 0;\n        context.maybeInsertedRow = -1;\n    }\n};\n\n\n\noop.inherits(CstyleBehaviour, Behaviour);\n\nexports.CstyleBehaviour = CstyleBehaviour;\n});\n\nace.define(\"ace/unicode\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\nvar wordChars = [48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2];\n\nvar code = 0;\nvar str = [];\nfor (var i = 0; i < wordChars.length; i += 2) {\n    str.push(code += wordChars[i]);\n    if (wordChars[i + 1])\n        str.push(45, code += wordChars[i + 1]);\n}\n\nexports.wordChars = String.fromCharCode.apply(null, str);\n\n});\n\nace.define(\"ace/mode/text\",[\"require\",\"exports\",\"module\",\"ace/config\",\"ace/tokenizer\",\"ace/mode/text_highlight_rules\",\"ace/mode/behaviour/cstyle\",\"ace/unicode\",\"ace/lib/lang\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar config = require(\"../config\");\n\nvar Tokenizer = require(\"../tokenizer\").Tokenizer;\nvar TextHighlightRules = require(\"./text_highlight_rules\").TextHighlightRules;\nvar CstyleBehaviour = require(\"./behaviour/cstyle\").CstyleBehaviour;\nvar unicode = require(\"../unicode\");\nvar lang = require(\"../lib/lang\");\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\nvar Mode = function() {\n    this.HighlightRules = TextHighlightRules;\n};\n\n(function() {\n    this.$defaultBehaviour = new CstyleBehaviour();\n\n    this.tokenRe = new RegExp(\"^[\" + unicode.wordChars + \"\\\\$_]+\", \"g\");\n\n    this.nonTokenRe = new RegExp(\"^(?:[^\" + unicode.wordChars + \"\\\\$_]|\\\\s])+\", \"g\");\n\n    this.getTokenizer = function() {\n        if (!this.$tokenizer) {\n            this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig);\n            this.$tokenizer = new Tokenizer(this.$highlightRules.getRules());\n        }\n        return this.$tokenizer;\n    };\n\n    this.lineCommentStart = \"\";\n    this.blockComment = \"\";\n\n    this.toggleCommentLines = function(state, session, startRow, endRow) {\n        var doc = session.doc;\n\n        var ignoreBlankLines = true;\n        var shouldRemove = true;\n        var minIndent = Infinity;\n        var tabSize = session.getTabSize();\n        var insertAtTabStop = false;\n\n        if (!this.lineCommentStart) {\n            if (!this.blockComment)\n                return false;\n            var lineCommentStart = this.blockComment.start;\n            var lineCommentEnd = this.blockComment.end;\n            var regexpStart = new RegExp(\"^(\\\\s*)(?:\" + lang.escapeRegExp(lineCommentStart) + \")\");\n            var regexpEnd = new RegExp(\"(?:\" + lang.escapeRegExp(lineCommentEnd) + \")\\\\s*$\");\n\n            var comment = function(line, i) {\n                if (testRemove(line, i))\n                    return;\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    doc.insertInLine({row: i, column: line.length}, lineCommentEnd);\n                    doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n\n            var uncomment = function(line, i) {\n                var m;\n                if (m = line.match(regexpEnd))\n                    doc.removeInLine(i, line.length - m[0].length, line.length);\n                if (m = line.match(regexpStart))\n                    doc.removeInLine(i, m[1].length, m[0].length);\n            };\n\n            var testRemove = function(line, row) {\n                if (regexpStart.test(line))\n                    return true;\n                var tokens = session.getTokens(row);\n                for (var i = 0; i < tokens.length; i++) {\n                    if (tokens[i].type === \"comment\")\n                        return true;\n                }\n            };\n        } else {\n            if (Array.isArray(this.lineCommentStart)) {\n                var regexpStart = this.lineCommentStart.map(lang.escapeRegExp).join(\"|\");\n                var lineCommentStart = this.lineCommentStart[0];\n            } else {\n                var regexpStart = lang.escapeRegExp(this.lineCommentStart);\n                var lineCommentStart = this.lineCommentStart;\n            }\n            regexpStart = new RegExp(\"^(\\\\s*)(?:\" + regexpStart + \") ?\");\n            \n            insertAtTabStop = session.getUseSoftTabs();\n\n            var uncomment = function(line, i) {\n                var m = line.match(regexpStart);\n                if (!m) return;\n                var start = m[1].length, end = m[0].length;\n                if (!shouldInsertSpace(line, start, end) && m[0][end - 1] == \" \")\n                    end--;\n                doc.removeInLine(i, start, end);\n            };\n            var commentWithSpace = lineCommentStart + \" \";\n            var comment = function(line, i) {\n                if (!ignoreBlankLines || /\\S/.test(line)) {\n                    if (shouldInsertSpace(line, minIndent, minIndent))\n                        doc.insertInLine({row: i, column: minIndent}, commentWithSpace);\n                    else\n                        doc.insertInLine({row: i, column: minIndent}, lineCommentStart);\n                }\n            };\n            var testRemove = function(line, i) {\n                return regexpStart.test(line);\n            };\n            \n            var shouldInsertSpace = function(line, before, after) {\n                var spaces = 0;\n                while (before-- && line.charAt(before) == \" \")\n                    spaces++;\n                if (spaces % tabSize != 0)\n                    return false;\n                var spaces = 0;\n                while (line.charAt(after++) == \" \")\n                    spaces++;\n                if (tabSize > 2)\n                    return spaces % tabSize != tabSize - 1;\n                else\n                    return spaces % tabSize == 0;\n            };\n        }\n\n        function iter(fun) {\n            for (var i = startRow; i <= endRow; i++)\n                fun(doc.getLine(i), i);\n        }\n\n\n        var minEmptyLength = Infinity;\n        iter(function(line, i) {\n            var indent = line.search(/\\S/);\n            if (indent !== -1) {\n                if (indent < minIndent)\n                    minIndent = indent;\n                if (shouldRemove && !testRemove(line, i))\n                    shouldRemove = false;\n            } else if (minEmptyLength > line.length) {\n                minEmptyLength = line.length;\n            }\n        });\n\n        if (minIndent == Infinity) {\n            minIndent = minEmptyLength;\n            ignoreBlankLines = false;\n            shouldRemove = false;\n        }\n\n        if (insertAtTabStop && minIndent % tabSize != 0)\n            minIndent = Math.floor(minIndent / tabSize) * tabSize;\n\n        iter(shouldRemove ? uncomment : comment);\n    };\n\n    this.toggleBlockComment = function(state, session, range, cursor) {\n        var comment = this.blockComment;\n        if (!comment)\n            return;\n        if (!comment.start && comment[0])\n            comment = comment[0];\n\n        var iterator = new TokenIterator(session, cursor.row, cursor.column);\n        var token = iterator.getCurrentToken();\n\n        var sel = session.selection;\n        var initialRange = session.selection.toOrientedRange();\n        var startRow, colDiff;\n\n        if (token && /comment/.test(token.type)) {\n            var startRange, endRange;\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.start);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    startRange = new Range(row, column, row, column + comment.start.length);\n                    break;\n                }\n                token = iterator.stepBackward();\n            }\n\n            var iterator = new TokenIterator(session, cursor.row, cursor.column);\n            var token = iterator.getCurrentToken();\n            while (token && /comment/.test(token.type)) {\n                var i = token.value.indexOf(comment.end);\n                if (i != -1) {\n                    var row = iterator.getCurrentTokenRow();\n                    var column = iterator.getCurrentTokenColumn() + i;\n                    endRange = new Range(row, column, row, column + comment.end.length);\n                    break;\n                }\n                token = iterator.stepForward();\n            }\n            if (endRange)\n                session.remove(endRange);\n            if (startRange) {\n                session.remove(startRange);\n                startRow = startRange.start.row;\n                colDiff = -comment.start.length;\n            }\n        } else {\n            colDiff = comment.start.length;\n            startRow = range.start.row;\n            session.insert(range.end, comment.end);\n            session.insert(range.start, comment.start);\n        }\n        if (initialRange.start.row == startRow)\n            initialRange.start.column += colDiff;\n        if (initialRange.end.row == startRow)\n            initialRange.end.column += colDiff;\n        session.selection.fromOrientedRange(initialRange);\n    };\n\n    this.getNextLineIndent = function(state, line, tab) {\n        return this.$getIndent(line);\n    };\n\n    this.checkOutdent = function(state, line, input) {\n        return false;\n    };\n\n    this.autoOutdent = function(state, doc, row) {\n    };\n\n    this.$getIndent = function(line) {\n        return line.match(/^\\s*/)[0];\n    };\n\n    this.createWorker = function(session) {\n        return null;\n    };\n\n    this.createModeDelegates = function (mapping) {\n        this.$embeds = [];\n        this.$modes = {};\n        for (var i in mapping) {\n            if (mapping[i]) {\n                var Mode = mapping[i];\n                var id = Mode.prototype.$id;\n                var mode = config.$modes[id];\n                if (!mode)\n                    config.$modes[id] = mode = new Mode();\n                if (!config.$modes[i])\n                    config.$modes[i] = mode;\n                this.$embeds.push(i);\n                this.$modes[i] = mode;\n            }\n        }\n\n        var delegations = [\"toggleBlockComment\", \"toggleCommentLines\", \"getNextLineIndent\", \n            \"checkOutdent\", \"autoOutdent\", \"transformAction\", \"getCompletions\"];\n\n        for (var i = 0; i < delegations.length; i++) {\n            (function(scope) {\n              var functionName = delegations[i];\n              var defaultHandler = scope[functionName];\n              scope[delegations[i]] = function() {\n                  return this.$delegator(functionName, arguments, defaultHandler);\n              };\n            }(this));\n        }\n    };\n\n    this.$delegator = function(method, args, defaultHandler) {\n        var state = args[0] || \"start\";\n        if (typeof state != \"string\") {\n            if (Array.isArray(state[2])) {\n                var language = state[2][state[2].length - 1];\n                var mode = this.$modes[language];\n                if (mode)\n                    return mode[method].apply(mode, [state[1]].concat([].slice.call(args, 1)));\n            }\n            state = state[0] || \"start\";\n        }\n            \n        for (var i = 0; i < this.$embeds.length; i++) {\n            if (!this.$modes[this.$embeds[i]]) continue;\n\n            var split = state.split(this.$embeds[i]);\n            if (!split[0] && split[1]) {\n                args[0] = split[1];\n                var mode = this.$modes[this.$embeds[i]];\n                return mode[method].apply(mode, args);\n            }\n        }\n        var ret = defaultHandler.apply(this, args);\n        return defaultHandler ? ret : undefined;\n    };\n\n    this.transformAction = function(state, action, editor, session, param) {\n        if (this.$behaviour) {\n            var behaviours = this.$behaviour.getBehaviours();\n            for (var key in behaviours) {\n                if (behaviours[key][action]) {\n                    var ret = behaviours[key][action].apply(this, arguments);\n                    if (ret) {\n                        return ret;\n                    }\n                }\n            }\n        }\n    };\n    \n    this.getKeywords = function(append) {\n        if (!this.completionKeywords) {\n            var rules = this.$tokenizer.rules;\n            var completionKeywords = [];\n            for (var rule in rules) {\n                var ruleItr = rules[rule];\n                for (var r = 0, l = ruleItr.length; r < l; r++) {\n                    if (typeof ruleItr[r].token === \"string\") {\n                        if (/keyword|support|storage/.test(ruleItr[r].token))\n                            completionKeywords.push(ruleItr[r].regex);\n                    }\n                    else if (typeof ruleItr[r].token === \"object\") {\n                        for (var a = 0, aLength = ruleItr[r].token.length; a < aLength; a++) {    \n                            if (/keyword|support|storage/.test(ruleItr[r].token[a])) {\n                                var rule = ruleItr[r].regex.match(/\\(.+?\\)/g)[a];\n                                completionKeywords.push(rule.substr(1, rule.length - 2));\n                            }\n                        }\n                    }\n                }\n            }\n            this.completionKeywords = completionKeywords;\n        }\n        if (!append)\n            return this.$keywordList;\n        return completionKeywords.concat(this.$keywordList || []);\n    };\n    \n    this.$createKeywordList = function() {\n        if (!this.$highlightRules)\n            this.getTokenizer();\n        return this.$keywordList = this.$highlightRules.$keywordList || [];\n    };\n\n    this.getCompletions = function(state, session, pos, prefix) {\n        var keywords = this.$keywordList || this.$createKeywordList();\n        return keywords.map(function(word) {\n            return {\n                name: word,\n                value: word,\n                score: 0,\n                meta: \"keyword\"\n            };\n        });\n    };\n\n    this.$id = \"ace/mode/text\";\n}).call(Mode.prototype);\n\nexports.Mode = Mode;\n});\n\nace.define(\"ace/apply_delta\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw \"Invalid Delta: \" + errorText;\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n           position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\nfunction validateDelta(docLines, delta) {\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n    if (!delta.start || !delta.end)\n       throwDeltaError(delta, \"delta.start/end must be an present\");\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n\nexports.applyDelta = function(docLines, delta, doNotValidate) {\n    \n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n    }\n};\n});\n\nace.define(\"ace/anchor\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar Anchor = exports.Anchor = function(doc, row, column) {\n    this.$onChange = this.onChange.bind(this);\n    this.attach(doc);\n    \n    if (typeof column == \"undefined\")\n        this.setPosition(row.row, row.column);\n    else\n        this.setPosition(row, column);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.getPosition = function() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    };\n    this.getDocument = function() {\n        return this.document;\n    };\n    this.$insertRight = false;\n    this.onChange = function(delta) {\n        if (delta.start.row == delta.end.row && delta.start.row != this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n            \n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    };\n    \n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n        var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n        return (point1.row < point2.row) || (point1.row == point2.row && bColIsAfter);\n    }\n            \n    function $getTransformedPoint(delta, point, moveIfEqual) {\n        var deltaIsInsert = delta.action == \"insert\";\n        var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n        var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n        var deltaStart = delta.start;\n        var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n        if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n            return {\n                row: point.row,\n                column: point.column\n            };\n        }\n        if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n            return {\n                row: point.row + deltaRowShift,\n                column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n            };\n        }\n        \n        return {\n            row: deltaStart.row,\n            column: deltaStart.column\n        };\n    }\n    this.setPosition = function(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row == pos.row && this.column == pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    };\n    this.detach = function() {\n        this.document.off(\"change\", this.$onChange);\n    };\n    this.attach = function(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    };\n    this.$clipPositionToDocument = function(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    };\n\n}).call(Anchor.prototype);\n\n});\n\nace.define(\"ace/document\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/apply_delta\",\"ace/lib/event_emitter\",\"ace/range\",\"ace/anchor\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar applyDelta = require(\"./apply_delta\").applyDelta;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Range = require(\"./range\").Range;\nvar Anchor = require(\"./anchor\").Anchor;\n\nvar Document = function(textOrLines) {\n    this.$lines = [\"\"];\n    if (textOrLines.length === 0) {\n        this.$lines = [\"\"];\n    } else if (Array.isArray(textOrLines)) {\n        this.insertMergedLines({row: 0, column: 0}, textOrLines);\n    } else {\n        this.insert({row: 0, column:0}, textOrLines);\n    }\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setValue = function(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    };\n    this.getValue = function() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    };\n    this.createAnchor = function(row, column) {\n        return new Anchor(this, row, column);\n    };\n    if (\"aaa\".split(/a/).length === 0) {\n        this.$split = function(text) {\n            return text.replace(/\\r\\n|\\r/g, \"\\n\").split(\"\\n\");\n        };\n    } else {\n        this.$split = function(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n        };\n    }\n\n\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineCharacter = function() {\n        switch (this.$newLineMode) {\n          case \"windows\":\n            return \"\\r\\n\";\n          case \"unix\":\n            return \"\\n\";\n          default:\n            return this.$autoNewLine || \"\\n\";\n        }\n    };\n\n    this.$autoNewLine = \"\";\n    this.$newLineMode = \"auto\";\n    this.setNewLineMode = function(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    };\n    this.getNewLineMode = function() {\n        return this.$newLineMode;\n    };\n    this.isNewLine = function(text) {\n        return (text == \"\\r\\n\" || text == \"\\r\" || text == \"\\n\");\n    };\n    this.getLine = function(row) {\n        return this.$lines[row] || \"\";\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    };\n    this.getAllLines = function() {\n        return this.getLines(0, this.getLength());\n    };\n    this.getLength = function() {\n        return this.$lines.length;\n    };\n    this.getTextRange = function(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    };\n    this.getLinesForRange = function(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row == l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    };\n    this.insertLines = function(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    };\n    this.removeLines = function(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    };\n    this.insertNewLine = function(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    };\n    this.insert = function(position, text) {\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n        \n        return this.insertMergedLines(position, this.$split(text));\n    };\n    this.insertInLine = function(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n        \n        return this.clonePos(end);\n    };\n    \n    this.clippedPos = function(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column == undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    };\n    \n    this.clonePos = function(pos) {\n        return {row: pos.row, column: pos.column};\n    };\n    \n    this.pos = function(row, column) {\n        return {row: row, column: column};\n    };\n    \n    this.$clipPosition = function(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    };\n    this.insertFullLines = function(row, lines) {\n        row = Math.min(Math.max(row, 0), this.getLength());\n        var column = 0;\n        if (row < this.getLength()) {\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n        this.insertMergedLines({row: row, column: column}, lines);\n    };    \n    this.insertMergedLines = function(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length == 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n        \n        return this.clonePos(end);\n    };\n    this.remove = function(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    };\n    this.removeInLine = function(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n        \n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n        \n        return this.clonePos(start);\n    };\n    this.removeFullLines = function(firstRow, lastRow) {\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n        var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length ); \n        var range = new Range(startRow, startCol, endRow, endCol);\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n        \n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n        return deletedLines;\n    };\n    this.removeNewLine = function(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    };\n    this.replace = function(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n        if (text == this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n        \n        return end;\n    };\n    this.applyDeltas = function(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    };\n    this.revertDeltas = function(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    };\n    this.applyDelta = function(delta, doNotValidate) {\n        var isInsert = delta.action == \"insert\";\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n        \n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    };\n    \n    this.$safeApplyDelta = function(delta) {\n        var docLength = this.$lines.length;\n        if (\n            delta.action == \"remove\" && delta.start.row < docLength && delta.end.row < docLength\n            || delta.action == \"insert\" && delta.start.row <= docLength\n        ) {\n            this.applyDelta(delta);\n        }\n    };\n    \n    this.$splitAndapplyLargeDelta = function(delta, MAX) {\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row; \n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    };\n    this.revertDelta = function(delta) {\n        this.$safeApplyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action == \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    };\n    this.indexToPosition = function(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: index + lines[l-1].length + newlineLength};\n    };\n    this.positionToIndex = function(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    };\n\n}).call(Document.prototype);\n\nexports.Document = Document;\n});\n\nace.define(\"ace/background_tokenizer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\n\nvar BackgroundTokenizer = function(tokenizer, editor) {\n    this.running = false;\n    this.lines = [];\n    this.states = [];\n    this.currentLine = 0;\n    this.tokenizer = tokenizer;\n\n    var self = this;\n\n    this.$worker = function() {\n        if (!self.running) { return; }\n\n        var workerStart = new Date();\n        var currentLine = self.currentLine;\n        var endLine = -1;\n        var doc = self.doc;\n\n        var startLine = currentLine;\n        while (self.lines[currentLine])\n            currentLine++;\n        \n        var len = doc.getLength();\n        var processedLines = 0;\n        self.running = false;\n        while (currentLine < len) {\n            self.$tokenizeRow(currentLine);\n            endLine = currentLine;\n            do {\n                currentLine++;\n            } while (self.lines[currentLine]);\n            processedLines ++;\n            if ((processedLines % 5 === 0) && (new Date() - workerStart) > 20) {\n                self.running = setTimeout(self.$worker, 20);\n                break;\n            }\n        }\n        self.currentLine = currentLine;\n        \n        if (endLine == -1)\n            endLine = currentLine;\n        \n        if (startLine <= endLine)\n            self.fireUpdateEvent(startLine, endLine);\n    };\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n    this.setTokenizer = function(tokenizer) {\n        this.tokenizer = tokenizer;\n        this.lines = [];\n        this.states = [];\n\n        this.start(0);\n    };\n    this.setDocument = function(doc) {\n        this.doc = doc;\n        this.lines = [];\n        this.states = [];\n\n        this.stop();\n    };\n    this.fireUpdateEvent = function(firstRow, lastRow) {\n        var data = {\n            first: firstRow,\n            last: lastRow\n        };\n        this._signal(\"update\", {data: data});\n    };\n    this.start = function(startRow) {\n        this.currentLine = Math.min(startRow || 0, this.currentLine, this.doc.getLength());\n        this.lines.splice(this.currentLine, this.lines.length);\n        this.states.splice(this.currentLine, this.states.length);\n\n        this.stop();\n        this.running = setTimeout(this.$worker, 700);\n    };\n    \n    this.scheduleStart = function() {\n        if (!this.running)\n            this.running = setTimeout(this.$worker, 700);\n    };\n\n    this.$updateOnChange = function(delta) {\n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n            this.lines[startRow] = null;\n        } else if (delta.action == \"remove\") {\n            this.lines.splice(startRow, len + 1, null);\n            this.states.splice(startRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(startRow, 1);\n            this.lines.splice.apply(this.lines, args);\n            this.states.splice.apply(this.states, args);\n        }\n\n        this.currentLine = Math.min(startRow, this.currentLine, this.doc.getLength());\n\n        this.stop();\n    };\n    this.stop = function() {\n        if (this.running)\n            clearTimeout(this.running);\n        this.running = false;\n    };\n    this.getTokens = function(row) {\n        return this.lines[row] || this.$tokenizeRow(row);\n    };\n    this.getState = function(row) {\n        if (this.currentLine == row)\n            this.$tokenizeRow(row);\n        return this.states[row] || \"start\";\n    };\n\n    this.$tokenizeRow = function(row) {\n        var line = this.doc.getLine(row);\n        var state = this.states[row - 1];\n\n        var data = this.tokenizer.getLineTokens(line, state, row);\n\n        if (this.states[row] + \"\" !== data.state + \"\") {\n            this.states[row] = data.state;\n            this.lines[row + 1] = null;\n            if (this.currentLine > row + 1)\n                this.currentLine = row + 1;\n        } else if (this.currentLine == row) {\n            this.currentLine = row + 1;\n        }\n\n        return this.lines[row] = data.tokens;\n    };\n\n}).call(BackgroundTokenizer.prototype);\n\nexports.BackgroundTokenizer = BackgroundTokenizer;\n});\n\nace.define(\"ace/search_highlight\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar SearchHighlight = function(regExp, clazz, type) {\n    this.setRegexp(regExp);\n    this.clazz = clazz;\n    this.type = type || \"text\";\n};\n\n(function() {\n    this.MAX_RANGES = 500;\n    \n    this.setRegexp = function(regExp) {\n        if (this.regExp+\"\" == regExp+\"\")\n            return;\n        this.regExp = regExp;\n        this.cache = [];\n    };\n\n    this.update = function(html, markerLayer, session, config) {\n        if (!this.regExp)\n            return;\n        var start = config.firstRow, end = config.lastRow;\n\n        for (var i = start; i <= end; i++) {\n            var ranges = this.cache[i];\n            if (ranges == null) {\n                ranges = lang.getMatchOffsets(session.getLine(i), this.regExp);\n                if (ranges.length > this.MAX_RANGES)\n                    ranges = ranges.slice(0, this.MAX_RANGES);\n                ranges = ranges.map(function(match) {\n                    return new Range(i, match.offset, i, match.offset + match.length);\n                });\n                this.cache[i] = ranges.length ? ranges : \"\";\n            }\n\n            for (var j = ranges.length; j --; ) {\n                markerLayer.drawSingleLineMarker(\n                    html, ranges[j].toScreenRange(session), this.clazz, config);\n            }\n        }\n    };\n\n}).call(SearchHighlight.prototype);\n\nexports.SearchHighlight = SearchHighlight;\n});\n\nace.define(\"ace/edit_session/fold_line\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nfunction FoldLine(foldData, folds) {\n    this.foldData = foldData;\n    if (Array.isArray(folds)) {\n        this.folds = folds;\n    } else {\n        folds = this.folds = [ folds ];\n    }\n\n    var last = folds[folds.length - 1];\n    this.range = new Range(folds[0].start.row, folds[0].start.column,\n                           last.end.row, last.end.column);\n    this.start = this.range.start;\n    this.end   = this.range.end;\n\n    this.folds.forEach(function(fold) {\n        fold.setFoldLine(this);\n    }, this);\n}\n\n(function() {\n    this.shiftRow = function(shift) {\n        this.start.row += shift;\n        this.end.row += shift;\n        this.folds.forEach(function(fold) {\n            fold.start.row += shift;\n            fold.end.row += shift;\n        });\n    };\n\n    this.addFold = function(fold) {\n        if (fold.sameRow) {\n            if (fold.start.row < this.startRow || fold.endRow > this.endRow) {\n                throw new Error(\"Can't add a fold to this FoldLine as it has no connection\");\n            }\n            this.folds.push(fold);\n            this.folds.sort(function(a, b) {\n                return -a.range.compareEnd(b.start.row, b.start.column);\n            });\n            if (this.range.compareEnd(fold.start.row, fold.start.column) > 0) {\n                this.end.row = fold.end.row;\n                this.end.column =  fold.end.column;\n            } else if (this.range.compareStart(fold.end.row, fold.end.column) < 0) {\n                this.start.row = fold.start.row;\n                this.start.column = fold.start.column;\n            }\n        } else if (fold.start.row == this.end.row) {\n            this.folds.push(fold);\n            this.end.row = fold.end.row;\n            this.end.column = fold.end.column;\n        } else if (fold.end.row == this.start.row) {\n            this.folds.unshift(fold);\n            this.start.row = fold.start.row;\n            this.start.column = fold.start.column;\n        } else {\n            throw new Error(\"Trying to add fold to FoldRow that doesn't have a matching row\");\n        }\n        fold.foldLine = this;\n    };\n\n    this.containsRow = function(row) {\n        return row >= this.start.row && row <= this.end.row;\n    };\n\n    this.walk = function(callback, endRow, endColumn) {\n        var lastEnd = 0,\n            folds = this.folds,\n            fold,\n            cmp, stop, isNewRow = true;\n\n        if (endRow == null) {\n            endRow = this.end.row;\n            endColumn = this.end.column;\n        }\n\n        for (var i = 0; i < folds.length; i++) {\n            fold = folds[i];\n\n            cmp = fold.range.compareStart(endRow, endColumn);\n            if (cmp == -1) {\n                callback(null, endRow, endColumn, lastEnd, isNewRow);\n                return;\n            }\n\n            stop = callback(null, fold.start.row, fold.start.column, lastEnd, isNewRow);\n            stop = !stop && callback(fold.placeholder, fold.start.row, fold.start.column, lastEnd);\n            if (stop || cmp === 0) {\n                return;\n            }\n            isNewRow = !fold.sameRow;\n            lastEnd = fold.end.column;\n        }\n        callback(null, endRow, endColumn, lastEnd, isNewRow);\n    };\n\n    this.getNextFoldTo = function(row, column) {\n        var fold, cmp;\n        for (var i = 0; i < this.folds.length; i++) {\n            fold = this.folds[i];\n            cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                return {\n                    fold: fold,\n                    kind: \"after\"\n                };\n            } else if (cmp === 0) {\n                return {\n                    fold: fold,\n                    kind: \"inside\"\n                };\n            }\n        }\n        return null;\n    };\n\n    this.addRemoveChars = function(row, column, len) {\n        var ret = this.getNextFoldTo(row, column),\n            fold, folds;\n        if (ret) {\n            fold = ret.fold;\n            if (ret.kind == \"inside\"\n                && fold.start.column != column\n                && fold.start.row != row)\n            {\n                window.console && window.console.log(row, column, fold);\n            } else if (fold.start.row == row) {\n                folds = this.folds;\n                var i = folds.indexOf(fold);\n                if (i === 0) {\n                    this.start.column += len;\n                }\n                for (i; i < folds.length; i++) {\n                    fold = folds[i];\n                    fold.start.column += len;\n                    if (!fold.sameRow) {\n                        return;\n                    }\n                    fold.end.column += len;\n                }\n                this.end.column += len;\n            }\n        }\n    };\n\n    this.split = function(row, column) {\n        var pos = this.getNextFoldTo(row, column);\n        \n        if (!pos || pos.kind == \"inside\")\n            return null;\n            \n        var fold = pos.fold;\n        var folds = this.folds;\n        var foldData = this.foldData;\n        \n        var i = folds.indexOf(fold);\n        var foldBefore = folds[i - 1];\n        this.end.row = foldBefore.end.row;\n        this.end.column = foldBefore.end.column;\n        folds = folds.splice(i, folds.length - i);\n\n        var newFoldLine = new FoldLine(foldData, folds);\n        foldData.splice(foldData.indexOf(this) + 1, 0, newFoldLine);\n        return newFoldLine;\n    };\n\n    this.merge = function(foldLineNext) {\n        var folds = foldLineNext.folds;\n        for (var i = 0; i < folds.length; i++) {\n            this.addFold(folds[i]);\n        }\n        var foldData = this.foldData;\n        foldData.splice(foldData.indexOf(foldLineNext), 1);\n    };\n\n    this.toString = function() {\n        var ret = [this.range.toString() + \": [\" ];\n\n        this.folds.forEach(function(fold) {\n            ret.push(\"  \" + fold.toString());\n        });\n        ret.push(\"]\");\n        return ret.join(\"\\n\");\n    };\n\n    this.idxToPosition = function(idx) {\n        var lastFoldEndColumn = 0;\n\n        for (var i = 0; i < this.folds.length; i++) {\n            var fold = this.folds[i];\n\n            idx -= fold.start.column - lastFoldEndColumn;\n            if (idx < 0) {\n                return {\n                    row: fold.start.row,\n                    column: fold.start.column + idx\n                };\n            }\n\n            idx -= fold.placeholder.length;\n            if (idx < 0) {\n                return fold.start;\n            }\n\n            lastFoldEndColumn = fold.end.column;\n        }\n\n        return {\n            row: this.end.row,\n            column: this.end.column + idx\n        };\n    };\n}).call(FoldLine.prototype);\n\nexports.FoldLine = FoldLine;\n});\n\nace.define(\"ace/range_list\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar Range = require(\"./range\").Range;\nvar comparePoints = Range.comparePoints;\n\nvar RangeList = function() {\n    this.ranges = [];\n    this.$bias = 1;\n};\n\n(function() {\n    this.comparePoints = comparePoints;\n\n    this.pointIndex = function(pos, excludeEdges, startIndex) {\n        var list = this.ranges;\n\n        for (var i = startIndex || 0; i < list.length; i++) {\n            var range = list[i];\n            var cmpEnd = comparePoints(pos, range.end);\n            if (cmpEnd > 0)\n                continue;\n            var cmpStart = comparePoints(pos, range.start);\n            if (cmpEnd === 0)\n                return excludeEdges && cmpStart !== 0 ? -i-2 : i;\n            if (cmpStart > 0 || (cmpStart === 0 && !excludeEdges))\n                return i;\n\n            return -i-1;\n        }\n        return -i - 1;\n    };\n\n    this.add = function(range) {\n        var excludeEdges = !range.isEmpty();\n        var startIndex = this.pointIndex(range.start, excludeEdges);\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n\n        var endIndex = this.pointIndex(range.end, excludeEdges, startIndex);\n\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n        else\n            endIndex++;\n        return this.ranges.splice(startIndex, endIndex - startIndex, range);\n    };\n\n    this.addList = function(list) {\n        var removed = [];\n        for (var i = list.length; i--; ) {\n            removed.push.apply(removed, this.add(list[i]));\n        }\n        return removed;\n    };\n\n    this.substractPoint = function(pos) {\n        var i = this.pointIndex(pos);\n\n        if (i >= 0)\n            return this.ranges.splice(i, 1);\n    };\n    this.merge = function() {\n        var removed = [];\n        var list = this.ranges;\n        \n        list = list.sort(function(a, b) {\n            return comparePoints(a.start, b.start);\n        });\n        \n        var next = list[0], range;\n        for (var i = 1; i < list.length; i++) {\n            range = next;\n            next = list[i];\n            var cmp = comparePoints(range.end, next.start);\n            if (cmp < 0)\n                continue;\n\n            if (cmp == 0 && !range.isEmpty() && !next.isEmpty())\n                continue;\n\n            if (comparePoints(range.end, next.end) < 0) {\n                range.end.row = next.end.row;\n                range.end.column = next.end.column;\n            }\n\n            list.splice(i, 1);\n            removed.push(next);\n            next = range;\n            i--;\n        }\n        \n        this.ranges = list;\n\n        return removed;\n    };\n\n    this.contains = function(row, column) {\n        return this.pointIndex({row: row, column: column}) >= 0;\n    };\n\n    this.containsPoint = function(pos) {\n        return this.pointIndex(pos) >= 0;\n    };\n\n    this.rangeAtPoint = function(pos) {\n        var i = this.pointIndex(pos);\n        if (i >= 0)\n            return this.ranges[i];\n    };\n\n\n    this.clipRows = function(startRow, endRow) {\n        var list = this.ranges;\n        if (list[0].start.row > endRow || list[list.length - 1].start.row < startRow)\n            return [];\n\n        var startIndex = this.pointIndex({row: startRow, column: 0});\n        if (startIndex < 0)\n            startIndex = -startIndex - 1;\n        var endIndex = this.pointIndex({row: endRow, column: 0}, startIndex);\n        if (endIndex < 0)\n            endIndex = -endIndex - 1;\n\n        var clipped = [];\n        for (var i = startIndex; i < endIndex; i++) {\n            clipped.push(list[i]);\n        }\n        return clipped;\n    };\n\n    this.removeAll = function() {\n        return this.ranges.splice(0, this.ranges.length);\n    };\n\n    this.attach = function(session) {\n        if (this.session)\n            this.detach();\n\n        this.session = session;\n        this.onChange = this.$onChange.bind(this);\n\n        this.session.on('change', this.onChange);\n    };\n\n    this.detach = function() {\n        if (!this.session)\n            return;\n        this.session.removeListener('change', this.onChange);\n        this.session = null;\n    };\n\n    this.$onChange = function(delta) {\n        var start = delta.start;\n        var end = delta.end;\n        var startRow = start.row;\n        var endRow = end.row;\n        var ranges = this.ranges;\n        for (var i = 0, n = ranges.length; i < n; i++) {\n            var r = ranges[i];\n            if (r.end.row >= startRow)\n                break;\n        }\n        \n        if (delta.action == \"insert\") {\n            var lineDif = endRow - startRow;\n            var colDiff = -start.column + end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                if (r.start.row > startRow)\n                    break;\n    \n                if (r.start.row == startRow && r.start.column >= start.column) {\n                    if (r.start.column == start.column && this.$bias <= 0) {\n                    } else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                if (r.end.row == startRow && r.end.column >= start.column) {\n                    if (r.end.column == start.column && this.$bias < 0) {\n                        continue;\n                    }\n                    if (r.end.column == start.column && colDiff > 0 && i < n - 1) {\n                        if (r.end.column > r.start.column && r.end.column == ranges[i+1].start.column)\n                            r.end.column -= colDiff;\n                    }\n                    r.end.column += colDiff;\n                    r.end.row += lineDif;\n                }\n            }\n        } else {\n            var lineDif = startRow - endRow;\n            var colDiff = start.column - end.column;\n            for (; i < n; i++) {\n                var r = ranges[i];\n                \n                if (r.start.row > endRow)\n                    break;\n                    \n                if (r.end.row < endRow\n                    && (\n                        startRow < r.end.row \n                        || startRow == r.end.row && start.column < r.end.column\n                    )\n                ) {\n                    r.end.row = startRow;\n                    r.end.column = start.column;\n                }\n                else if (r.end.row == endRow) {\n                    if (r.end.column <= end.column) {\n                        if (lineDif || r.end.column > start.column) {\n                            r.end.column = start.column;\n                            r.end.row = start.row;\n                        }\n                    }\n                    else {\n                        r.end.column += colDiff;\n                        r.end.row += lineDif;\n                    }\n                }\n                else if (r.end.row > endRow) {\n                    r.end.row += lineDif;\n                }\n                \n                if (r.start.row < endRow\n                    && (\n                        startRow < r.start.row \n                        || startRow == r.start.row && start.column < r.start.column\n                    )\n                ) {\n                    r.start.row = startRow;\n                    r.start.column = start.column;\n                }\n                else if (r.start.row == endRow) {\n                    if (r.start.column <= end.column) {\n                        if (lineDif || r.start.column > start.column) {\n                            r.start.column = start.column;\n                            r.start.row = start.row;\n                        }\n                    }\n                    else {\n                        r.start.column += colDiff;\n                        r.start.row += lineDif;\n                    }\n                }\n                else if (r.start.row > endRow) {\n                    r.start.row += lineDif;\n                }\n            }\n        }\n\n        if (lineDif != 0 && i < n) {\n            for (; i < n; i++) {\n                var r = ranges[i];\n                r.start.row += lineDif;\n                r.end.row += lineDif;\n            }\n        }\n    };\n\n}).call(RangeList.prototype);\n\nexports.RangeList = RangeList;\n});\n\nace.define(\"ace/edit_session/fold\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar RangeList = require(\"../range_list\").RangeList;\nvar oop = require(\"../lib/oop\");\nvar Fold = exports.Fold = function(range, placeholder) {\n    this.foldLine = null;\n    this.placeholder = placeholder;\n    this.range = range;\n    this.start = range.start;\n    this.end = range.end;\n\n    this.sameRow = range.start.row == range.end.row;\n    this.subFolds = this.ranges = [];\n};\n\noop.inherits(Fold, RangeList);\n\n(function() {\n\n    this.toString = function() {\n        return '\"' + this.placeholder + '\" ' + this.range.toString();\n    };\n\n    this.setFoldLine = function(foldLine) {\n        this.foldLine = foldLine;\n        this.subFolds.forEach(function(fold) {\n            fold.setFoldLine(foldLine);\n        });\n    };\n\n    this.clone = function() {\n        var range = this.range.clone();\n        var fold = new Fold(range, this.placeholder);\n        this.subFolds.forEach(function(subFold) {\n            fold.subFolds.push(subFold.clone());\n        });\n        fold.collapseChildren = this.collapseChildren;\n        return fold;\n    };\n\n    this.addSubFold = function(fold) {\n        if (this.range.isEqual(fold))\n            return;\n        consumeRange(fold, this.start);\n\n        var row = fold.start.row, column = fold.start.column;\n        for (var i = 0, cmp = -1; i < this.subFolds.length; i++) {\n            cmp = this.subFolds[i].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        var afterStart = this.subFolds[i];\n        var firstConsumed = 0;\n\n        if (cmp == 0) {\n            if (afterStart.range.containsRange(fold))\n                return afterStart.addSubFold(fold);\n            else\n                firstConsumed = 1;\n        }\n        var row = fold.range.end.row, column = fold.range.end.column;\n        for (var j = i, cmp = -1; j < this.subFolds.length; j++) {\n            cmp = this.subFolds[j].range.compare(row, column);\n            if (cmp != 1)\n                break;\n        }\n        if (cmp == 0)  j++;\n        var consumedFolds = this.subFolds.splice(i, j - i, fold);\n        var last = cmp == 0 ? consumedFolds.length - 1 : consumedFolds.length;\n        for (var k = firstConsumed; k < last; k++) {\n            fold.addSubFold(consumedFolds[k]);\n        }\n        fold.setFoldLine(this.foldLine);\n\n        return fold;\n    };\n    \n    this.restoreRange = function(range) {\n        return restoreRange(range, this.start);\n    };\n\n}).call(Fold.prototype);\n\nfunction consumePoint(point, anchor) {\n    point.row -= anchor.row;\n    if (point.row == 0)\n        point.column -= anchor.column;\n}\nfunction consumeRange(range, anchor) {\n    consumePoint(range.start, anchor);\n    consumePoint(range.end, anchor);\n}\nfunction restorePoint(point, anchor) {\n    if (point.row == 0)\n        point.column += anchor.column;\n    point.row += anchor.row;\n}\nfunction restoreRange(range, anchor) {\n    restorePoint(range.start, anchor);\n    restorePoint(range.end, anchor);\n}\n\n});\n\nace.define(\"ace/edit_session/folding\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/edit_session/fold_line\",\"ace/edit_session/fold\",\"ace/token_iterator\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar FoldLine = require(\"./fold_line\").FoldLine;\nvar Fold = require(\"./fold\").Fold;\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\n\nfunction Folding() {\n    this.getFoldAt = function(row, column, side) {\n        var foldLine = this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var folds = foldLine.folds;\n        for (var i = 0; i < folds.length; i++) {\n            var range = folds[i].range;\n            if (range.contains(row, column)) {\n                if (side == 1 && range.isEnd(row, column) && !range.isEmpty()) {\n                    continue;\n                } else if (side == -1 && range.isStart(row, column) && !range.isEmpty()) {\n                    continue;\n                }\n                return folds[i];\n            }\n        }\n    };\n    this.getFoldsInRange = function(range) {\n        var start = range.start;\n        var end = range.end;\n        var foldLines = this.$foldData;\n        var foundFolds = [];\n\n        start.column += 1;\n        end.column -= 1;\n\n        for (var i = 0; i < foldLines.length; i++) {\n            var cmp = foldLines[i].range.compareRange(range);\n            if (cmp == 2) {\n                continue;\n            }\n            else if (cmp == -2) {\n                break;\n            }\n\n            var folds = foldLines[i].folds;\n            for (var j = 0; j < folds.length; j++) {\n                var fold = folds[j];\n                cmp = fold.range.compareRange(range);\n                if (cmp == -2) {\n                    break;\n                } else if (cmp == 2) {\n                    continue;\n                } else\n                if (cmp == 42) {\n                    break;\n                }\n                foundFolds.push(fold);\n            }\n        }\n        start.column -= 1;\n        end.column += 1;\n\n        return foundFolds;\n    };\n\n    this.getFoldsInRangeList = function(ranges) {\n        if (Array.isArray(ranges)) {\n            var folds = [];\n            ranges.forEach(function(range) {\n                folds = folds.concat(this.getFoldsInRange(range));\n            }, this);\n        } else {\n            var folds = this.getFoldsInRange(ranges);\n        }\n        return folds;\n    };\n    this.getAllFolds = function() {\n        var folds = [];\n        var foldLines = this.$foldData;\n        \n        for (var i = 0; i < foldLines.length; i++)\n            for (var j = 0; j < foldLines[i].folds.length; j++)\n                folds.push(foldLines[i].folds[j]);\n\n        return folds;\n    };\n    this.getFoldStringAt = function(row, column, trim, foldLine) {\n        foldLine = foldLine || this.getFoldLine(row);\n        if (!foldLine)\n            return null;\n\n        var lastFold = {\n            end: { column: 0 }\n        };\n        var str, fold;\n        for (var i = 0; i < foldLine.folds.length; i++) {\n            fold = foldLine.folds[i];\n            var cmp = fold.range.compareEnd(row, column);\n            if (cmp == -1) {\n                str = this\n                    .getLine(fold.start.row)\n                    .substring(lastFold.end.column, fold.start.column);\n                break;\n            }\n            else if (cmp === 0) {\n                return null;\n            }\n            lastFold = fold;\n        }\n        if (!str)\n            str = this.getLine(fold.start.row).substring(lastFold.end.column);\n\n        if (trim == -1)\n            return str.substring(0, column - lastFold.end.column);\n        else if (trim == 1)\n            return str.substring(column - lastFold.end.column);\n        else\n            return str;\n    };\n\n    this.getFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.start.row <= docRow && foldLine.end.row >= docRow) {\n                return foldLine;\n            } else if (foldLine.end.row > docRow) {\n                return null;\n            }\n        }\n        return null;\n    };\n    this.getNextFoldLine = function(docRow, startFoldLine) {\n        var foldData = this.$foldData;\n        var i = 0;\n        if (startFoldLine)\n            i = foldData.indexOf(startFoldLine);\n        if (i == -1)\n            i = 0;\n        for (i; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (foldLine.end.row >= docRow) {\n                return foldLine;\n            }\n        }\n        return null;\n    };\n\n    this.getFoldedRowCount = function(first, last) {\n        var foldData = this.$foldData, rowCount = last-first+1;\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i],\n                end = foldLine.end.row,\n                start = foldLine.start.row;\n            if (end >= last) {\n                if (start < last) {\n                    if (start >= first)\n                        rowCount -= last-start;\n                    else\n                        rowCount = 0; // in one fold\n                }\n                break;\n            } else if (end >= first){\n                if (start >= first) // fold inside range\n                    rowCount -=  end-start;\n                else\n                    rowCount -=  end-first+1;\n            }\n        }\n        return rowCount;\n    };\n\n    this.$addFoldLine = function(foldLine) {\n        this.$foldData.push(foldLine);\n        this.$foldData.sort(function(a, b) {\n            return a.start.row - b.start.row;\n        });\n        return foldLine;\n    };\n    this.addFold = function(placeholder, range) {\n        var foldData = this.$foldData;\n        var added = false;\n        var fold;\n        \n        if (placeholder instanceof Fold)\n            fold = placeholder;\n        else {\n            fold = new Fold(range, placeholder);\n            fold.collapseChildren = range.collapseChildren;\n        }\n        this.$clipRangeToDocument(fold.range);\n\n        var startRow = fold.start.row;\n        var startColumn = fold.start.column;\n        var endRow = fold.end.row;\n        var endColumn = fold.end.column;\n\n        var startFold = this.getFoldAt(startRow, startColumn, 1);\n        var endFold = this.getFoldAt(endRow, endColumn, -1);\n        if (startFold && endFold == startFold)\n            return startFold.addSubFold(fold);\n\n        if (startFold && !startFold.range.isStart(startRow, startColumn))\n            this.removeFold(startFold);\n        \n        if (endFold && !endFold.range.isEnd(endRow, endColumn))\n            this.removeFold(endFold);\n        var folds = this.getFoldsInRange(fold.range);\n        if (folds.length > 0) {\n            this.removeFolds(folds);\n            if (!fold.collapseChildren) {\n                folds.forEach(function(subFold) {\n                    fold.addSubFold(subFold);\n                });\n            }\n        }\n\n        for (var i = 0; i < foldData.length; i++) {\n            var foldLine = foldData[i];\n            if (endRow == foldLine.start.row) {\n                foldLine.addFold(fold);\n                added = true;\n                break;\n            } else if (startRow == foldLine.end.row) {\n                foldLine.addFold(fold);\n                added = true;\n                if (!fold.sameRow) {\n                    var foldLineNext = foldData[i + 1];\n                    if (foldLineNext && foldLineNext.start.row == endRow) {\n                        foldLine.merge(foldLineNext);\n                        break;\n                    }\n                }\n                break;\n            } else if (endRow <= foldLine.start.row) {\n                break;\n            }\n        }\n\n        if (!added)\n            foldLine = this.$addFoldLine(new FoldLine(this.$foldData, fold));\n\n        if (this.$useWrapMode)\n            this.$updateWrapData(foldLine.start.row, foldLine.start.row);\n        else\n            this.$updateRowLengthCache(foldLine.start.row, foldLine.start.row);\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"add\" });\n\n        return fold;\n    };\n\n    this.addFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.addFold(fold);\n        }, this);\n    };\n\n    this.removeFold = function(fold) {\n        var foldLine = fold.foldLine;\n        var startRow = foldLine.start.row;\n        var endRow = foldLine.end.row;\n\n        var foldLines = this.$foldData;\n        var folds = foldLine.folds;\n        if (folds.length == 1) {\n            foldLines.splice(foldLines.indexOf(foldLine), 1);\n        } else\n        if (foldLine.range.isEnd(fold.end.row, fold.end.column)) {\n            folds.pop();\n            foldLine.end.row = folds[folds.length - 1].end.row;\n            foldLine.end.column = folds[folds.length - 1].end.column;\n        } else\n        if (foldLine.range.isStart(fold.start.row, fold.start.column)) {\n            folds.shift();\n            foldLine.start.row = folds[0].start.row;\n            foldLine.start.column = folds[0].start.column;\n        } else\n        if (fold.sameRow) {\n            folds.splice(folds.indexOf(fold), 1);\n        } else\n        {\n            var newFoldLine = foldLine.split(fold.start.row, fold.start.column);\n            folds = newFoldLine.folds;\n            folds.shift();\n            newFoldLine.start.row = folds[0].start.row;\n            newFoldLine.start.column = folds[0].start.column;\n        }\n\n        if (!this.$updating) {\n            if (this.$useWrapMode)\n                this.$updateWrapData(startRow, endRow);\n            else\n                this.$updateRowLengthCache(startRow, endRow);\n        }\n        this.$modified = true;\n        this._signal(\"changeFold\", { data: fold, action: \"remove\" });\n    };\n\n    this.removeFolds = function(folds) {\n        var cloneFolds = [];\n        for (var i = 0; i < folds.length; i++) {\n            cloneFolds.push(folds[i]);\n        }\n\n        cloneFolds.forEach(function(fold) {\n            this.removeFold(fold);\n        }, this);\n        this.$modified = true;\n    };\n\n    this.expandFold = function(fold) {\n        this.removeFold(fold);\n        fold.subFolds.forEach(function(subFold) {\n            fold.restoreRange(subFold);\n            this.addFold(subFold);\n        }, this);\n        if (fold.collapseChildren > 0) {\n            this.foldAll(fold.start.row+1, fold.end.row, fold.collapseChildren-1);\n        }\n        fold.subFolds = [];\n    };\n\n    this.expandFolds = function(folds) {\n        folds.forEach(function(fold) {\n            this.expandFold(fold);\n        }, this);\n    };\n\n    this.unfold = function(location, expandInner) {\n        var range, folds;\n        if (location == null) {\n            range = new Range(0, 0, this.getLength(), 0);\n            if (expandInner == null) expandInner = true;\n        } else if (typeof location == \"number\")\n            range = new Range(location, 0, location, this.getLine(location).length);\n        else if (\"row\" in location)\n            range = Range.fromPoints(location, location);\n        else\n            range = location;\n        \n        folds = this.getFoldsInRangeList(range);\n        if (expandInner != false) {\n            this.removeFolds(folds);\n        } else {\n            this.expandFolds(folds);\n        }\n        if (folds.length)\n            return folds;\n    };\n    this.isRowFolded = function(docRow, startFoldRow) {\n        return !!this.getFoldLine(docRow, startFoldRow);\n    };\n\n    this.getRowFoldEnd = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.end.row : docRow;\n    };\n\n    this.getRowFoldStart = function(docRow, startFoldRow) {\n        var foldLine = this.getFoldLine(docRow, startFoldRow);\n        return foldLine ? foldLine.start.row : docRow;\n    };\n\n    this.getFoldDisplayLine = function(foldLine, endRow, endColumn, startRow, startColumn) {\n        if (startRow == null)\n            startRow = foldLine.start.row;\n        if (startColumn == null)\n            startColumn = 0;\n        if (endRow == null)\n            endRow = foldLine.end.row;\n        if (endColumn == null)\n            endColumn = this.getLine(endRow).length;\n        var doc = this.doc;\n        var textLine = \"\";\n\n        foldLine.walk(function(placeholder, row, column, lastColumn) {\n            if (row < startRow)\n                return;\n            if (row == startRow) {\n                if (column < startColumn)\n                    return;\n                lastColumn = Math.max(startColumn, lastColumn);\n            }\n\n            if (placeholder != null) {\n                textLine += placeholder;\n            } else {\n                textLine += doc.getLine(row).substring(lastColumn, column);\n            }\n        }, endRow, endColumn);\n        return textLine;\n    };\n\n    this.getDisplayLine = function(row, endColumn, startRow, startColumn) {\n        var foldLine = this.getFoldLine(row);\n\n        if (!foldLine) {\n            var line;\n            line = this.doc.getLine(row);\n            return line.substring(startColumn || 0, endColumn || line.length);\n        } else {\n            return this.getFoldDisplayLine(\n                foldLine, row, endColumn, startRow, startColumn);\n        }\n    };\n\n    this.$cloneFoldData = function() {\n        var fd = [];\n        fd = this.$foldData.map(function(foldLine) {\n            var folds = foldLine.folds.map(function(fold) {\n                return fold.clone();\n            });\n            return new FoldLine(fd, folds);\n        });\n\n        return fd;\n    };\n\n    this.toggleFold = function(tryToUnfold) {\n        var selection = this.selection;\n        var range = selection.getRange();\n        var fold;\n        var bracketPos;\n\n        if (range.isEmpty()) {\n            var cursor = range.start;\n            fold = this.getFoldAt(cursor.row, cursor.column);\n\n            if (fold) {\n                this.expandFold(fold);\n                return;\n            } else if (bracketPos = this.findMatchingBracket(cursor)) {\n                if (range.comparePoint(bracketPos) == 1) {\n                    range.end = bracketPos;\n                } else {\n                    range.start = bracketPos;\n                    range.start.column++;\n                    range.end.column--;\n                }\n            } else if (bracketPos = this.findMatchingBracket({row: cursor.row, column: cursor.column + 1})) {\n                if (range.comparePoint(bracketPos) == 1)\n                    range.end = bracketPos;\n                else\n                    range.start = bracketPos;\n\n                range.start.column++;\n            } else {\n                range = this.getCommentFoldRange(cursor.row, cursor.column) || range;\n            }\n        } else {\n            var folds = this.getFoldsInRange(range);\n            if (tryToUnfold && folds.length) {\n                this.expandFolds(folds);\n                return;\n            } else if (folds.length == 1 ) {\n                fold = folds[0];\n            }\n        }\n\n        if (!fold)\n            fold = this.getFoldAt(range.start.row, range.start.column);\n\n        if (fold && fold.range.toString() == range.toString()) {\n            this.expandFold(fold);\n            return;\n        }\n\n        var placeholder = \"...\";\n        if (!range.isMultiLine()) {\n            placeholder = this.getTextRange(range);\n            if (placeholder.length < 4)\n                return;\n            placeholder = placeholder.trim().substring(0, 2) + \"..\";\n        }\n\n        this.addFold(placeholder, range);\n    };\n\n    this.getCommentFoldRange = function(row, column, dir) {\n        var iterator = new TokenIterator(this, row, column);\n        var token = iterator.getCurrentToken();\n        var type = token && token.type;\n        if (token && /^comment|string/.test(type)) {\n            type = type.match(/comment|string/)[0];\n            if (type == \"comment\")\n                type += \"|doc-start\";\n            var re = new RegExp(type);\n            var range = new Range();\n            if (dir != 1) {\n                do {\n                    token = iterator.stepBackward();\n                } while (token && re.test(token.type));\n                iterator.stepForward();\n            }\n            \n            range.start.row = iterator.getCurrentTokenRow();\n            range.start.column = iterator.getCurrentTokenColumn() + 2;\n\n            iterator = new TokenIterator(this, row, column);\n            \n            if (dir != -1) {\n                var lastRow = -1;\n                do {\n                    token = iterator.stepForward();\n                    if (lastRow == -1) {\n                        var state = this.getState(iterator.$row);\n                        if (!re.test(state))\n                            lastRow = iterator.$row;\n                    } else if (iterator.$row > lastRow) {\n                        break;\n                    }\n                } while (token && re.test(token.type));\n                token = iterator.stepBackward();\n            } else\n                token = iterator.getCurrentToken();\n\n            range.end.row = iterator.getCurrentTokenRow();\n            range.end.column = iterator.getCurrentTokenColumn() + token.value.length - 2;\n            return range;\n        }\n    };\n\n    this.foldAll = function(startRow, endRow, depth, test) {\n        if (depth == undefined)\n            depth = 100000; // JSON.stringify doesn't hanle Infinity\n        var foldWidgets = this.foldWidgets;\n        if (!foldWidgets)\n            return; // mode doesn't support folding\n        endRow = endRow || this.getLength();\n        startRow = startRow || 0;\n        for (var row = startRow; row < endRow; row++) {\n            if (foldWidgets[row] == null)\n                foldWidgets[row] = this.getFoldWidget(row);\n            if (foldWidgets[row] != \"start\")\n                continue;\n            \n            if (test && !test(row)) continue;\n\n            var range = this.getFoldWidgetRange(row);\n            if (range && range.isMultiLine()\n                && range.end.row <= endRow\n                && range.start.row >= startRow\n            ) {\n                row = range.end.row;\n                range.collapseChildren = depth;\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n    \n    this.foldToLevel = function(level) {\n        this.foldAll();\n        while (level-- > 0)\n            this.unfold(null, false);\n    };\n    \n    this.foldAllComments = function() {\n        var session = this;\n        this.foldAll(null, null, null, function(row) {\n            var tokens = session.getTokens(row);\n            for (var i = 0; i < tokens.length; i++) {\n                var token = tokens[i];\n                if (token.type == \"text\" && /^\\s+$/.test(token.value))\n                    continue;\n                if (/comment/.test(token.type))\n                    return true;\n                return false;\n            }\n        });\n    };\n    this.$foldStyles = {\n        \"manual\": 1,\n        \"markbegin\": 1,\n        \"markbeginend\": 1\n    };\n    this.$foldStyle = \"markbegin\";\n    this.setFoldStyle = function(style) {\n        if (!this.$foldStyles[style])\n            throw new Error(\"invalid fold style: \" + style + \"[\" + Object.keys(this.$foldStyles).join(\", \") + \"]\");\n        \n        if (this.$foldStyle == style)\n            return;\n\n        this.$foldStyle = style;\n        \n        if (style == \"manual\")\n            this.unfold();\n        var mode = this.$foldMode;\n        this.$setFolding(null);\n        this.$setFolding(mode);\n    };\n\n    this.$setFolding = function(foldMode) {\n        if (this.$foldMode == foldMode)\n            return;\n            \n        this.$foldMode = foldMode;\n        \n        this.off('change', this.$updateFoldWidgets);\n        this.off('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n        this._signal(\"changeAnnotation\");\n        \n        if (!foldMode || this.$foldStyle == \"manual\") {\n            this.foldWidgets = null;\n            return;\n        }\n        \n        this.foldWidgets = [];\n        this.getFoldWidget = foldMode.getFoldWidget.bind(foldMode, this, this.$foldStyle);\n        this.getFoldWidgetRange = foldMode.getFoldWidgetRange.bind(foldMode, this, this.$foldStyle);\n        \n        this.$updateFoldWidgets = this.updateFoldWidgets.bind(this);\n        this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this);\n        this.on('change', this.$updateFoldWidgets);\n        this.on('tokenizerUpdate', this.$tokenizerUpdateFoldWidgets);\n    };\n\n    this.getParentFoldRangeData = function (row, ignoreCurrent) {\n        var fw = this.foldWidgets;\n        if (!fw || (ignoreCurrent && fw[row]))\n            return {};\n\n        var i = row - 1, firstRange;\n        while (i >= 0) {\n            var c = fw[i];\n            if (c == null)\n                c = fw[i] = this.getFoldWidget(i);\n\n            if (c == \"start\") {\n                var range = this.getFoldWidgetRange(i);\n                if (!firstRange)\n                    firstRange = range;\n                if (range && range.end.row >= row)\n                    break;\n            }\n            i--;\n        }\n\n        return {\n            range: i !== -1 && range,\n            firstRange: firstRange\n        };\n    };\n\n    this.onFoldWidgetClick = function(row, e) {\n        e = e.domEvent;\n        var options = {\n            children: e.shiftKey,\n            all: e.ctrlKey || e.metaKey,\n            siblings: e.altKey\n        };\n        \n        var range = this.$toggleFoldWidget(row, options);\n        if (!range) {\n            var el = (e.target || e.srcElement);\n            if (el && /ace_fold-widget/.test(el.className))\n                el.className += \" ace_invalid\";\n        }\n    };\n    \n    this.$toggleFoldWidget = function(row, options) {\n        if (!this.getFoldWidget)\n            return;\n        var type = this.getFoldWidget(row);\n        var line = this.getLine(row);\n\n        var dir = type === \"end\" ? -1 : 1;\n        var fold = this.getFoldAt(row, dir === -1 ? 0 : line.length, dir);\n\n        if (fold) {\n            if (options.children || options.all)\n                this.removeFold(fold);\n            else\n                this.expandFold(fold);\n            return fold;\n        }\n\n        var range = this.getFoldWidgetRange(row, true);\n        if (range && !range.isMultiLine()) {\n            fold = this.getFoldAt(range.start.row, range.start.column, 1);\n            if (fold && range.isEqual(fold.range)) {\n                this.removeFold(fold);\n                return fold;\n            }\n        }\n        \n        if (options.siblings) {\n            var data = this.getParentFoldRangeData(row);\n            if (data.range) {\n                var startRow = data.range.start.row + 1;\n                var endRow = data.range.end.row;\n            }\n            this.foldAll(startRow, endRow, options.all ? 10000 : 0);\n        } else if (options.children) {\n            endRow = range ? range.end.row : this.getLength();\n            this.foldAll(row + 1, endRow, options.all ? 10000 : 0);\n        } else if (range) {\n            if (options.all) \n                range.collapseChildren = 10000;\n            this.addFold(\"...\", range);\n        }\n        \n        return range;\n    };\n    \n    \n    \n    this.toggleFoldWidget = function(toggleParent) {\n        var row = this.selection.getCursor().row;\n        row = this.getRowFoldStart(row);\n        var range = this.$toggleFoldWidget(row, {});\n        \n        if (range)\n            return;\n        var data = this.getParentFoldRangeData(row, true);\n        range = data.range || data.firstRange;\n        \n        if (range) {\n            row = range.start.row;\n            var fold = this.getFoldAt(row, this.getLine(row).length, 1);\n\n            if (fold) {\n                this.removeFold(fold);\n            } else {\n                this.addFold(\"...\", range);\n            }\n        }\n    };\n\n    this.updateFoldWidgets = function(delta) {\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n\n        if (len === 0) {\n            this.foldWidgets[firstRow] = null;\n        } else if (delta.action == 'remove') {\n            this.foldWidgets.splice(firstRow, len + 1, null);\n        } else {\n            var args = Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.foldWidgets.splice.apply(this.foldWidgets, args);\n        }\n    };\n    this.tokenizerUpdateFoldWidgets = function(e) {\n        var rows = e.data;\n        if (rows.first != rows.last) {\n            if (this.foldWidgets.length > rows.first)\n                this.foldWidgets.splice(rows.first, this.foldWidgets.length);\n        }\n    };\n}\n\nexports.Folding = Folding;\n\n});\n\nace.define(\"ace/edit_session/bracket_match\",[\"require\",\"exports\",\"module\",\"ace/token_iterator\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar TokenIterator = require(\"../token_iterator\").TokenIterator;\nvar Range = require(\"../range\").Range;\n\n\nfunction BracketMatch() {\n\n    this.findMatchingBracket = function(position, chr) {\n        if (position.column == 0) return null;\n\n        var charBeforeCursor = chr || this.getLine(position.row).charAt(position.column-1);\n        if (charBeforeCursor == \"\") return null;\n\n        var match = charBeforeCursor.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match)\n            return null;\n\n        if (match[1])\n            return this.$findClosingBracket(match[1], position);\n        else\n            return this.$findOpeningBracket(match[2], position);\n    };\n    \n    this.getBracketRange = function(pos) {\n        var line = this.getLine(pos.row);\n        var before = true, range;\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n            before = false;\n        }\n        if (!match)\n            return null;\n\n        if (match[1]) {\n            var bracketPos = this.$findClosingBracket(match[1], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(pos, bracketPos);\n            if (!before) {\n                range.end.column++;\n                range.start.column--;\n            }\n            range.cursor = range.end;\n        } else {\n            var bracketPos = this.$findOpeningBracket(match[2], pos);\n            if (!bracketPos)\n                return null;\n            range = Range.fromPoints(bracketPos, pos);\n            if (!before) {\n                range.start.column++;\n                range.end.column--;\n            }\n            range.cursor = range.start;\n        }\n        \n        return range;\n    };\n    this.getMatchingBracketRanges = function(pos) {\n        var line = this.getLine(pos.row);\n\n        var chr = line.charAt(pos.column - 1);\n        var match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        if (!match) {\n            chr = line.charAt(pos.column);\n            pos = {row: pos.row, column: pos.column + 1};\n            match = chr && chr.match(/([\\(\\[\\{])|([\\)\\]\\}])/);\n        }\n\n        if (!match)\n            return null;\n\n        var startRange = new Range(pos.row, pos.column - 1, pos.row, pos.column);\n        var bracketPos = match[1] ? this.$findClosingBracket(match[1], pos)\n            : this.$findOpeningBracket(match[2], pos);\n        if (!bracketPos)\n            return [startRange];\n        var endRange = new Range(bracketPos.row, bracketPos.column, bracketPos.row, bracketPos.column + 1);\n\n        return [startRange, endRange];\n    };\n\n    this.$brackets = {\n        \")\": \"(\",\n        \"(\": \")\",\n        \"]\": \"[\",\n        \"[\": \"]\",\n        \"{\": \"}\",\n        \"}\": \"{\",\n        \"<\": \">\",\n        \">\": \"<\"\n    };\n\n    this.$findOpeningBracket = function(bracket, position, typeRe) {\n        var openBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n        \n         if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"rparen\", \".paren\")\n                    .replace(/\\b(?:end)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn() - 2;\n        var value = token.value;\n        \n        while (true) {\n        \n            while (valueIndex >= 0) {\n                var chr = value.charAt(valueIndex);\n                if (chr == openBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex -= 1;\n            }\n            do {\n                token = iterator.stepBackward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n                \n            value = token.value;\n            valueIndex = value.length - 1;\n        }\n        \n        return null;\n    };\n\n    this.$findClosingBracket = function(bracket, position, typeRe) {\n        var closingBracket = this.$brackets[bracket];\n        var depth = 1;\n\n        var iterator = new TokenIterator(this, position.row, position.column);\n        var token = iterator.getCurrentToken();\n        if (!token)\n            token = iterator.stepForward();\n        if (!token)\n            return;\n\n        if (!typeRe){\n            typeRe = new RegExp(\n                \"(\\\\.?\" +\n                token.type.replace(\".\", \"\\\\.\").replace(\"lparen\", \".paren\")\n                    .replace(/\\b(?:start|begin)\\b/, \"(?:start|begin|end)\")\n                + \")+\"\n            );\n        }\n        var valueIndex = position.column - iterator.getCurrentTokenColumn();\n\n        while (true) {\n\n            var value = token.value;\n            var valueLength = value.length;\n            while (valueIndex < valueLength) {\n                var chr = value.charAt(valueIndex);\n                if (chr == closingBracket) {\n                    depth -= 1;\n                    if (depth == 0) {\n                        return {row: iterator.getCurrentTokenRow(),\n                            column: valueIndex + iterator.getCurrentTokenColumn()};\n                    }\n                }\n                else if (chr == bracket) {\n                    depth += 1;\n                }\n                valueIndex += 1;\n            }\n            do {\n                token = iterator.stepForward();\n            } while (token && !typeRe.test(token.type));\n\n            if (token == null)\n                break;\n\n            valueIndex = 0;\n        }\n        \n        return null;\n    };\n}\nexports.BracketMatch = BracketMatch;\n\n});\n\nace.define(\"ace/edit_session\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/bidihandler\",\"ace/config\",\"ace/lib/event_emitter\",\"ace/selection\",\"ace/mode/text\",\"ace/range\",\"ace/document\",\"ace/background_tokenizer\",\"ace/search_highlight\",\"ace/edit_session/folding\",\"ace/edit_session/bracket_match\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar lang = require(\"./lib/lang\");\nvar BidiHandler = require(\"./bidihandler\").BidiHandler;\nvar config = require(\"./config\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar Selection = require(\"./selection\").Selection;\nvar TextMode = require(\"./mode/text\").Mode;\nvar Range = require(\"./range\").Range;\nvar Document = require(\"./document\").Document;\nvar BackgroundTokenizer = require(\"./background_tokenizer\").BackgroundTokenizer;\nvar SearchHighlight = require(\"./search_highlight\").SearchHighlight;\n\nvar EditSession = function(text, mode) {\n    this.$breakpoints = [];\n    this.$decorations = [];\n    this.$frontMarkers = {};\n    this.$backMarkers = {};\n    this.$markerId = 1;\n    this.$undoSelect = true;\n\n    this.$foldData = [];\n    this.id = \"session\" + (++EditSession.$uid);\n    this.$foldData.toString = function() {\n        return this.join(\"\\n\");\n    };\n    this.on(\"changeFold\", this.onChangeFold.bind(this));\n    this.$onChange = this.onChange.bind(this);\n\n    if (typeof text != \"object\" || !text.getLine)\n        text = new Document(text);\n\n    this.setDocument(text);\n    this.selection = new Selection(this);\n    this.$bidiHandler = new BidiHandler(this);\n\n    config.resetOptions(this);\n    this.setMode(mode);\n    config._signal(\"session\", this);\n};\n\n\nEditSession.$uid = 0;\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setDocument = function(doc) {\n        if (this.doc)\n            this.doc.removeListener(\"change\", this.$onChange);\n\n        this.doc = doc;\n        doc.on(\"change\", this.$onChange);\n\n        if (this.bgTokenizer)\n            this.bgTokenizer.setDocument(this.getDocument());\n\n        this.resetCaches();\n    };\n    this.getDocument = function() {\n        return this.doc;\n    };\n    this.$resetRowCache = function(docRow) {\n        if (!docRow) {\n            this.$docRowCache = [];\n            this.$screenRowCache = [];\n            return;\n        }\n        var l = this.$docRowCache.length;\n        var i = this.$getRowCacheIndex(this.$docRowCache, docRow) + 1;\n        if (l > i) {\n            this.$docRowCache.splice(i, l);\n            this.$screenRowCache.splice(i, l);\n        }\n    };\n\n    this.$getRowCacheIndex = function(cacheArray, val) {\n        var low = 0;\n        var hi = cacheArray.length - 1;\n\n        while (low <= hi) {\n            var mid = (low + hi) >> 1;\n            var c = cacheArray[mid];\n\n            if (val > c)\n                low = mid + 1;\n            else if (val < c)\n                hi = mid - 1;\n            else\n                return mid;\n        }\n\n        return low -1;\n    };\n\n    this.resetCaches = function() {\n        this.$modified = true;\n        this.$wrapData = [];\n        this.$rowLengthCache = [];\n        this.$resetRowCache(0);\n        if (this.bgTokenizer)\n            this.bgTokenizer.start(0);\n    };\n\n    this.onChangeFold = function(e) {\n        var fold = e.data;\n        this.$resetRowCache(fold.start.row);\n    };\n\n    this.onChange = function(delta) {\n        this.$modified = true;\n        this.$bidiHandler.onChange(delta);\n        this.$resetRowCache(delta.start.row);\n\n        var removedFolds = this.$updateInternalDataOnChange(delta);\n        if (!this.$fromUndo && this.$undoManager) {\n            if (removedFolds && removedFolds.length) {\n                this.$undoManager.add({\n                    action: \"removeFolds\",\n                    folds:  removedFolds\n                }, this.mergeUndoDeltas);\n                this.mergeUndoDeltas = true;\n            }\n            this.$undoManager.add(delta, this.mergeUndoDeltas);\n            this.mergeUndoDeltas = true;\n            \n            this.$informUndoManager.schedule();\n        }\n\n        this.bgTokenizer && this.bgTokenizer.$updateOnChange(delta);\n        this._signal(\"change\", delta);\n    };\n    this.setValue = function(text) {\n        this.doc.setValue(text);\n        this.selection.moveTo(0, 0);\n\n        this.$resetRowCache(0);\n        this.setUndoManager(this.$undoManager);\n        this.getUndoManager().reset();\n    };\n    this.getValue =\n    this.toString = function() {\n        return this.doc.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.getState = function(row) {\n        return this.bgTokenizer.getState(row);\n    };\n    this.getTokens = function(row) {\n        return this.bgTokenizer.getTokens(row);\n    };\n    this.getTokenAt = function(row, column) {\n        var tokens = this.bgTokenizer.getTokens(row);\n        var token, c = 0;\n        if (column == null) {\n            var i = tokens.length - 1;\n            c = this.getLine(row).length;\n        } else {\n            for (var i = 0; i < tokens.length; i++) {\n                c += tokens[i].value.length;\n                if (c >= column)\n                    break;\n            }\n        }\n        token = tokens[i];\n        if (!token)\n            return null;\n        token.index = i;\n        token.start = c - token.value.length;\n        return token;\n    };\n    this.setUndoManager = function(undoManager) {\n        this.$undoManager = undoManager;\n        \n        if (this.$informUndoManager)\n            this.$informUndoManager.cancel();\n        \n        if (undoManager) {\n            var self = this;\n            undoManager.addSession(this);\n            this.$syncInformUndoManager = function() {\n                self.$informUndoManager.cancel();\n                self.mergeUndoDeltas = false;\n            };\n            this.$informUndoManager = lang.delayedCall(this.$syncInformUndoManager);\n        } else {\n            this.$syncInformUndoManager = function() {};\n        }\n    };\n    this.markUndoGroup = function() {\n        if (this.$syncInformUndoManager)\n            this.$syncInformUndoManager();\n    };\n    \n    this.$defaultUndoManager = {\n        undo: function() {},\n        redo: function() {},\n        hasUndo: function() {},\n        hasRedo: function() {},\n        reset: function() {},\n        add: function() {},\n        addSelection: function() {},\n        startNewGroup: function() {},\n        addSession: function() {}\n    };\n    this.getUndoManager = function() {\n        return this.$undoManager || this.$defaultUndoManager;\n    };\n    this.getTabString = function() {\n        if (this.getUseSoftTabs()) {\n            return lang.stringRepeat(\" \", this.getTabSize());\n        } else {\n            return \"\\t\";\n        }\n    };\n    this.setUseSoftTabs = function(val) {\n        this.setOption(\"useSoftTabs\", val);\n    };\n    this.getUseSoftTabs = function() {\n        return this.$useSoftTabs && !this.$mode.$indentWithTabs;\n    };\n    this.setTabSize = function(tabSize) {\n        this.setOption(\"tabSize\", tabSize);\n    };\n    this.getTabSize = function() {\n        return this.$tabSize;\n    };\n    this.isTabStop = function(position) {\n        return this.$useSoftTabs && (position.column % this.$tabSize === 0);\n    };\n    this.setNavigateWithinSoftTabs = function (navigateWithinSoftTabs) {\n        this.setOption(\"navigateWithinSoftTabs\", navigateWithinSoftTabs);\n    };\n    this.getNavigateWithinSoftTabs = function() {\n        return this.$navigateWithinSoftTabs;\n    };\n\n    this.$overwrite = false;\n    this.setOverwrite = function(overwrite) {\n        this.setOption(\"overwrite\", overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.$overwrite;\n    };\n    this.toggleOverwrite = function() {\n        this.setOverwrite(!this.$overwrite);\n    };\n    this.addGutterDecoration = function(row, className) {\n        if (!this.$decorations[row])\n            this.$decorations[row] = \"\";\n        this.$decorations[row] += \" \" + className;\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.removeGutterDecoration = function(row, className) {\n        this.$decorations[row] = (this.$decorations[row] || \"\").replace(\" \" + className, \"\");\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.getBreakpoints = function() {\n        return this.$breakpoints;\n    };\n    this.setBreakpoints = function(rows) {\n        this.$breakpoints = [];\n        for (var i=0; i<rows.length; i++) {\n            this.$breakpoints[rows[i]] = \"ace_breakpoint\";\n        }\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoints = function() {\n        this.$breakpoints = [];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.setBreakpoint = function(row, className) {\n        if (className === undefined)\n            className = \"ace_breakpoint\";\n        if (className)\n            this.$breakpoints[row] = className;\n        else\n            delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.clearBreakpoint = function(row) {\n        delete this.$breakpoints[row];\n        this._signal(\"changeBreakpoint\", {});\n    };\n    this.addMarker = function(range, clazz, type, inFront) {\n        var id = this.$markerId++;\n\n        var marker = {\n            range : range,\n            type : type || \"line\",\n            renderer: typeof type == \"function\" ? type : null,\n            clazz : clazz,\n            inFront: !!inFront,\n            id: id\n        };\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return id;\n    };\n    this.addDynamicMarker = function(marker, inFront) {\n        if (!marker.update)\n            return;\n        var id = this.$markerId++;\n        marker.id = id;\n        marker.inFront = !!inFront;\n\n        if (inFront) {\n            this.$frontMarkers[id] = marker;\n            this._signal(\"changeFrontMarker\");\n        } else {\n            this.$backMarkers[id] = marker;\n            this._signal(\"changeBackMarker\");\n        }\n\n        return marker;\n    };\n    this.removeMarker = function(markerId) {\n        var marker = this.$frontMarkers[markerId] || this.$backMarkers[markerId];\n        if (!marker)\n            return;\n\n        var markers = marker.inFront ? this.$frontMarkers : this.$backMarkers;\n        delete (markers[markerId]);\n        this._signal(marker.inFront ? \"changeFrontMarker\" : \"changeBackMarker\");\n    };\n    this.getMarkers = function(inFront) {\n        return inFront ? this.$frontMarkers : this.$backMarkers;\n    };\n\n    this.highlight = function(re) {\n        if (!this.$searchHighlight) {\n            var highlight = new SearchHighlight(null, \"ace_selected-word\", \"text\");\n            this.$searchHighlight = this.addDynamicMarker(highlight);\n        }\n        this.$searchHighlight.setRegexp(re);\n    };\n    this.highlightLines = function(startRow, endRow, clazz, inFront) {\n        if (typeof endRow != \"number\") {\n            clazz = endRow;\n            endRow = startRow;\n        }\n        if (!clazz)\n            clazz = \"ace_step\";\n\n        var range = new Range(startRow, 0, endRow, Infinity);\n        range.id = this.addMarker(range, clazz, \"fullLine\", inFront);\n        return range;\n    };\n    this.setAnnotations = function(annotations) {\n        this.$annotations = annotations;\n        this._signal(\"changeAnnotation\", {});\n    };\n    this.getAnnotations = function() {\n        return this.$annotations || [];\n    };\n    this.clearAnnotations = function() {\n        this.setAnnotations([]);\n    };\n    this.$detectNewLine = function(text) {\n        var match = text.match(/^.*?(\\r?\\n)/m);\n        if (match) {\n            this.$autoNewLine = match[1];\n        } else {\n            this.$autoNewLine = \"\\n\";\n        }\n    };\n    this.getWordRange = function(row, column) {\n        var line = this.getLine(row);\n\n        var inToken = false;\n        if (column > 0)\n            inToken = !!line.charAt(column - 1).match(this.tokenRe);\n\n        if (!inToken)\n            inToken = !!line.charAt(column).match(this.tokenRe);\n\n        if (inToken)\n            var re = this.tokenRe;\n        else if (/^\\s+$/.test(line.slice(column-1, column+1)))\n            var re = /\\s/;\n        else\n            var re = this.nonTokenRe;\n\n        var start = column;\n        if (start > 0) {\n            do {\n                start--;\n            }\n            while (start >= 0 && line.charAt(start).match(re));\n            start++;\n        }\n\n        var end = column;\n        while (end < line.length && line.charAt(end).match(re)) {\n            end++;\n        }\n\n        return new Range(row, start, row, end);\n    };\n    this.getAWordRange = function(row, column) {\n        var wordRange = this.getWordRange(row, column);\n        var line = this.getLine(wordRange.end.row);\n\n        while (line.charAt(wordRange.end.column).match(/[ \\t]/)) {\n            wordRange.end.column += 1;\n        }\n        return wordRange;\n    };\n    this.setNewLineMode = function(newLineMode) {\n        this.doc.setNewLineMode(newLineMode);\n    };\n    this.getNewLineMode = function() {\n        return this.doc.getNewLineMode();\n    };\n    this.setUseWorker = function(useWorker) { this.setOption(\"useWorker\", useWorker); };\n    this.getUseWorker = function() { return this.$useWorker; };\n    this.onReloadTokenizer = function(e) {\n        var rows = e.data;\n        this.bgTokenizer.start(rows.first);\n        this._signal(\"tokenizerUpdate\", e);\n    };\n\n    this.$modes = config.$modes;\n    this.$mode = null;\n    this.$modeId = null;\n    this.setMode = function(mode, cb) {\n        if (mode && typeof mode === \"object\") {\n            if (mode.getTokenizer)\n                return this.$onChangeMode(mode);\n            var options = mode;\n            var path = options.path;\n        } else {\n            path = mode || \"ace/mode/text\";\n        }\n        if (!this.$modes[\"ace/mode/text\"])\n            this.$modes[\"ace/mode/text\"] = new TextMode();\n\n        if (this.$modes[path] && !options) {\n            this.$onChangeMode(this.$modes[path]);\n            cb && cb();\n            return;\n        }\n        this.$modeId = path;\n        config.loadModule([\"mode\", path], function(m) {\n            if (this.$modeId !== path)\n                return cb && cb();\n            if (this.$modes[path] && !options) {\n                this.$onChangeMode(this.$modes[path]);\n            } else if (m && m.Mode) {\n                m = new m.Mode(options);\n                if (!options) {\n                    this.$modes[path] = m;\n                    m.$id = path;\n                }\n                this.$onChangeMode(m);\n            }\n            cb && cb();\n        }.bind(this));\n        if (!this.$mode)\n            this.$onChangeMode(this.$modes[\"ace/mode/text\"], true);\n    };\n\n    this.$onChangeMode = function(mode, $isPlaceholder) {\n        if (!$isPlaceholder)\n            this.$modeId = mode.$id;\n        if (this.$mode === mode) \n            return;\n            \n        var oldMode = this.$mode;\n        this.$mode = mode;\n\n        this.$stopWorker();\n\n        if (this.$useWorker)\n            this.$startWorker();\n\n        var tokenizer = mode.getTokenizer();\n\n        if(tokenizer.on !== undefined) {\n            var onReloadTokenizer = this.onReloadTokenizer.bind(this);\n            tokenizer.on(\"update\", onReloadTokenizer);\n        }\n\n        if (!this.bgTokenizer) {\n            this.bgTokenizer = new BackgroundTokenizer(tokenizer);\n            var _self = this;\n            this.bgTokenizer.on(\"update\", function(e) {\n                _self._signal(\"tokenizerUpdate\", e);\n            });\n        } else {\n            this.bgTokenizer.setTokenizer(tokenizer);\n        }\n\n        this.bgTokenizer.setDocument(this.getDocument());\n\n        this.tokenRe = mode.tokenRe;\n        this.nonTokenRe = mode.nonTokenRe;\n\n        \n        if (!$isPlaceholder) {\n            if (mode.attachToSession)\n                mode.attachToSession(this);\n            this.$options.wrapMethod.set.call(this, this.$wrapMethod);\n            this.$setFolding(mode.foldingRules);\n            this.bgTokenizer.start(0);\n            this._emit(\"changeMode\", {oldMode: oldMode, mode: mode});\n        }\n    };\n\n    this.$stopWorker = function() {\n        if (this.$worker) {\n            this.$worker.terminate();\n            this.$worker = null;\n        }\n    };\n\n    this.$startWorker = function() {\n        try {\n            this.$worker = this.$mode.createWorker(this);\n        } catch (e) {\n            config.warn(\"Could not load worker\", e);\n            this.$worker = null;\n        }\n    };\n    this.getMode = function() {\n        return this.$mode;\n    };\n\n    this.$scrollTop = 0;\n    this.setScrollTop = function(scrollTop) {\n        if (this.$scrollTop === scrollTop || isNaN(scrollTop))\n            return;\n\n        this.$scrollTop = scrollTop;\n        this._signal(\"changeScrollTop\", scrollTop);\n    };\n    this.getScrollTop = function() {\n        return this.$scrollTop;\n    };\n\n    this.$scrollLeft = 0;\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.$scrollLeft === scrollLeft || isNaN(scrollLeft))\n            return;\n\n        this.$scrollLeft = scrollLeft;\n        this._signal(\"changeScrollLeft\", scrollLeft);\n    };\n    this.getScrollLeft = function() {\n        return this.$scrollLeft;\n    };\n    this.getScreenWidth = function() {\n        this.$computeWidth();\n        if (this.lineWidgets) \n            return Math.max(this.getLineWidgetMaxWidth(), this.screenWidth);\n        return this.screenWidth;\n    };\n    \n    this.getLineWidgetMaxWidth = function() {\n        if (this.lineWidgetsWidth != null) return this.lineWidgetsWidth;\n        var width = 0;\n        this.lineWidgets.forEach(function(w) {\n            if (w && w.screenWidth > width)\n                width = w.screenWidth;\n        });\n        return this.lineWidgetWidth = width;\n    };\n\n    this.$computeWidth = function(force) {\n        if (this.$modified || force) {\n            this.$modified = false;\n\n            if (this.$useWrapMode)\n                return this.screenWidth = this.$wrapLimit;\n\n            var lines = this.doc.getAllLines();\n            var cache = this.$rowLengthCache;\n            var longestScreenLine = 0;\n            var foldIndex = 0;\n            var foldLine = this.$foldData[foldIndex];\n            var foldStart = foldLine ? foldLine.start.row : Infinity;\n            var len = lines.length;\n\n            for (var i = 0; i < len; i++) {\n                if (i > foldStart) {\n                    i = foldLine.end.row + 1;\n                    if (i >= len)\n                        break;\n                    foldLine = this.$foldData[foldIndex++];\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n\n                if (cache[i] == null)\n                    cache[i] = this.$getStringScreenWidth(lines[i])[0];\n\n                if (cache[i] > longestScreenLine)\n                    longestScreenLine = cache[i];\n            }\n            this.screenWidth = longestScreenLine;\n        }\n    };\n    this.getLine = function(row) {\n        return this.doc.getLine(row);\n    };\n    this.getLines = function(firstRow, lastRow) {\n        return this.doc.getLines(firstRow, lastRow);\n    };\n    this.getLength = function() {\n        return this.doc.getLength();\n    };\n    this.getTextRange = function(range) {\n        return this.doc.getTextRange(range || this.selection.getRange());\n    };\n    this.insert = function(position, text) {\n        return this.doc.insert(position, text);\n    };\n    this.remove = function(range) {\n        return this.doc.remove(range);\n    };\n    this.removeFullLines = function(firstRow, lastRow){\n        return this.doc.removeFullLines(firstRow, lastRow);\n    };\n    this.undoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = deltas.length - 1; i != -1; i--) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.revertDelta(delta);\n            } else if (delta.folds) {\n                this.addFolds(delta.folds);\n            }\n        }\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionBefore)\n                this.selection.fromJSON(deltas.selectionBefore);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, true));\n        }\n        this.$fromUndo = false;\n    };\n    this.redoChanges = function(deltas, dontSelect) {\n        if (!deltas.length)\n            return;\n\n        this.$fromUndo = true;\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (delta.action == \"insert\" || delta.action == \"remove\") {\n                this.doc.$safeApplyDelta(delta);\n            }\n        }\n\n        if (!dontSelect && this.$undoSelect) {\n            if (deltas.selectionAfter)\n                this.selection.fromJSON(deltas.selectionAfter);\n            else\n                this.selection.setRange(this.$getUndoSelection(deltas, false));\n        }\n        this.$fromUndo = false;\n    };\n    this.setUndoSelect = function(enable) {\n        this.$undoSelect = enable;\n    };\n\n    this.$getUndoSelection = function(deltas, isUndo) {\n        function isInsert(delta) {\n            return isUndo ? delta.action !== \"insert\" : delta.action === \"insert\";\n        }\n\n        var range, point;\n\n        for (var i = 0; i < deltas.length; i++) {\n            var delta = deltas[i];\n            if (!delta.start) continue; // skip folds\n            if (!range) {\n                if (isInsert(delta)) {\n                    range = Range.fromPoints(delta.start, delta.end);\n                } else {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n                continue;\n            }\n            \n            if (isInsert(delta)) {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range.setStart(point);\n                }\n                point = delta.end;\n                if (range.compare(point.row, point.column) == 1) {\n                    range.setEnd(point);\n                }\n            } else {\n                point = delta.start;\n                if (range.compare(point.row, point.column) == -1) {\n                    range = Range.fromPoints(delta.start, delta.start);\n                }\n            }\n        }\n        return range;\n    };\n    this.replace = function(range, text) {\n        return this.doc.replace(range, text);\n    };\n    this.moveText = function(fromRange, toPosition, copy) {\n        var text = this.getTextRange(fromRange);\n        var folds = this.getFoldsInRange(fromRange);\n\n        var toRange = Range.fromPoints(toPosition, toPosition);\n        if (!copy) {\n            this.remove(fromRange);\n            var rowDiff = fromRange.start.row - fromRange.end.row;\n            var collDiff = rowDiff ? -fromRange.end.column : fromRange.start.column - fromRange.end.column;\n            if (collDiff) {\n                if (toRange.start.row == fromRange.end.row && toRange.start.column > fromRange.end.column)\n                    toRange.start.column += collDiff;\n                if (toRange.end.row == fromRange.end.row && toRange.end.column > fromRange.end.column)\n                    toRange.end.column += collDiff;\n            }\n            if (rowDiff && toRange.start.row >= fromRange.end.row) {\n                toRange.start.row += rowDiff;\n                toRange.end.row += rowDiff;\n            }\n        }\n\n        toRange.end = this.insert(toRange.start, text);\n        if (folds.length) {\n            var oldStart = fromRange.start;\n            var newStart = toRange.start;\n            var rowDiff = newStart.row - oldStart.row;\n            var collDiff = newStart.column - oldStart.column;\n            this.addFolds(folds.map(function(x) {\n                x = x.clone();\n                if (x.start.row == oldStart.row)\n                    x.start.column += collDiff;\n                if (x.end.row == oldStart.row)\n                    x.end.column += collDiff;\n                x.start.row += rowDiff;\n                x.end.row += rowDiff;\n                return x;\n            }));\n        }\n\n        return toRange;\n    };\n    this.indentRows = function(startRow, endRow, indentString) {\n        indentString = indentString.replace(/\\t/g, this.getTabString());\n        for (var row=startRow; row<=endRow; row++)\n            this.doc.insertInLine({row: row, column: 0}, indentString);\n    };\n    this.outdentRows = function (range) {\n        var rowRange = range.collapseRows();\n        var deleteRange = new Range(0, 0, 0, 0);\n        var size = this.getTabSize();\n\n        for (var i = rowRange.start.row; i <= rowRange.end.row; ++i) {\n            var line = this.getLine(i);\n\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            for (var j = 0; j < size; ++j)\n                if (line.charAt(j) != ' ')\n                    break;\n            if (j < size && line.charAt(j) == '\\t') {\n                deleteRange.start.column = j;\n                deleteRange.end.column = j + 1;\n            } else {\n                deleteRange.start.column = 0;\n                deleteRange.end.column = j;\n            }\n            this.remove(deleteRange);\n        }\n    };\n\n    this.$moveLines = function(firstRow, lastRow, dir) {\n        firstRow = this.getRowFoldStart(firstRow);\n        lastRow = this.getRowFoldEnd(lastRow);\n        if (dir < 0) {\n            var row = this.getRowFoldStart(firstRow + dir);\n            if (row < 0) return 0;\n            var diff = row-firstRow;\n        } else if (dir > 0) {\n            var row = this.getRowFoldEnd(lastRow + dir);\n            if (row > this.doc.getLength()-1) return 0;\n            var diff = row-lastRow;\n        } else {\n            firstRow = this.$clipRowToDocument(firstRow);\n            lastRow = this.$clipRowToDocument(lastRow);\n            var diff = lastRow - firstRow + 1;\n        }\n\n        var range = new Range(firstRow, 0, lastRow, Number.MAX_VALUE);\n        var folds = this.getFoldsInRange(range).map(function(x){\n            x = x.clone();\n            x.start.row += diff;\n            x.end.row += diff;\n            return x;\n        });\n        \n        var lines = dir == 0\n            ? this.doc.getLines(firstRow, lastRow)\n            : this.doc.removeFullLines(firstRow, lastRow);\n        this.doc.insertFullLines(firstRow+diff, lines);\n        folds.length && this.addFolds(folds);\n        return diff;\n    };\n    this.moveLinesUp = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, -1);\n    };\n    this.moveLinesDown = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 1);\n    };\n    this.duplicateLines = function(firstRow, lastRow) {\n        return this.$moveLines(firstRow, lastRow, 0);\n    };\n\n\n    this.$clipRowToDocument = function(row) {\n        return Math.max(0, Math.min(row, this.doc.getLength()-1));\n    };\n\n    this.$clipColumnToRow = function(row, column) {\n        if (column < 0)\n            return 0;\n        return Math.min(this.doc.getLine(row).length, column);\n    };\n\n\n    this.$clipPositionToDocument = function(row, column) {\n        column = Math.max(0, column);\n\n        if (row < 0) {\n            row = 0;\n            column = 0;\n        } else {\n            var len = this.doc.getLength();\n            if (row >= len) {\n                row = len - 1;\n                column = this.doc.getLine(len-1).length;\n            } else {\n                column = Math.min(this.doc.getLine(row).length, column);\n            }\n        }\n\n        return {\n            row: row,\n            column: column\n        };\n    };\n\n    this.$clipRangeToDocument = function(range) {\n        if (range.start.row < 0) {\n            range.start.row = 0;\n            range.start.column = 0;\n        } else {\n            range.start.column = this.$clipColumnToRow(\n                range.start.row,\n                range.start.column\n            );\n        }\n\n        var len = this.doc.getLength() - 1;\n        if (range.end.row > len) {\n            range.end.row = len;\n            range.end.column = this.doc.getLine(len).length;\n        } else {\n            range.end.column = this.$clipColumnToRow(\n                range.end.row,\n                range.end.column\n            );\n        }\n        return range;\n    };\n    this.$wrapLimit = 80;\n    this.$useWrapMode = false;\n    this.$wrapLimitRange = {\n        min : null,\n        max : null\n    };\n    this.setUseWrapMode = function(useWrapMode) {\n        if (useWrapMode != this.$useWrapMode) {\n            this.$useWrapMode = useWrapMode;\n            this.$modified = true;\n            this.$resetRowCache(0);\n            if (useWrapMode) {\n                var len = this.getLength();\n                this.$wrapData = Array(len);\n                this.$updateWrapData(0, len - 1);\n            }\n\n            this._signal(\"changeWrapMode\");\n        }\n    };\n    this.getUseWrapMode = function() {\n        return this.$useWrapMode;\n    };\n    this.setWrapLimitRange = function(min, max) {\n        if (this.$wrapLimitRange.min !== min || this.$wrapLimitRange.max !== max) {\n            this.$wrapLimitRange = { min: min, max: max };\n            this.$modified = true;\n            this.$bidiHandler.markAsDirty();\n            if (this.$useWrapMode)\n                this._signal(\"changeWrapMode\");\n        }\n    };\n    this.adjustWrapLimit = function(desiredLimit, $printMargin) {\n        var limits = this.$wrapLimitRange;\n        if (limits.max < 0)\n            limits = {min: $printMargin, max: $printMargin};\n        var wrapLimit = this.$constrainWrapLimit(desiredLimit, limits.min, limits.max);\n        if (wrapLimit != this.$wrapLimit && wrapLimit > 1) {\n            this.$wrapLimit = wrapLimit;\n            this.$modified = true;\n            if (this.$useWrapMode) {\n                this.$updateWrapData(0, this.getLength() - 1);\n                this.$resetRowCache(0);\n                this._signal(\"changeWrapLimit\");\n            }\n            return true;\n        }\n        return false;\n    };\n\n    this.$constrainWrapLimit = function(wrapLimit, min, max) {\n        if (min)\n            wrapLimit = Math.max(min, wrapLimit);\n\n        if (max)\n            wrapLimit = Math.min(max, wrapLimit);\n\n        return wrapLimit;\n    };\n    this.getWrapLimit = function() {\n        return this.$wrapLimit;\n    };\n    this.setWrapLimit = function (limit) {\n        this.setWrapLimitRange(limit, limit);\n    };\n    this.getWrapLimitRange = function() {\n        return {\n            min : this.$wrapLimitRange.min,\n            max : this.$wrapLimitRange.max\n        };\n    };\n\n    this.$updateInternalDataOnChange = function(delta) {\n        var useWrapMode = this.$useWrapMode;\n        var action = delta.action;\n        var start = delta.start;\n        var end = delta.end;\n        var firstRow = start.row;\n        var lastRow = end.row;\n        var len = lastRow - firstRow;\n        var removedFolds = null;\n        \n        this.$updating = true;\n        if (len != 0) {\n            if (action === \"remove\") {\n                this[useWrapMode ? \"$wrapData\" : \"$rowLengthCache\"].splice(firstRow, len);\n\n                var foldLines = this.$foldData;\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                var foldLine = this.getFoldLine(end.row);\n                var idx = 0;\n                if (foldLine) {\n                    foldLine.addRemoveChars(end.row, end.column, start.column - end.column);\n                    foldLine.shiftRow(-len);\n\n                    var foldLineBefore = this.getFoldLine(firstRow);\n                    if (foldLineBefore && foldLineBefore !== foldLine) {\n                        foldLineBefore.merge(foldLine);\n                        foldLine = foldLineBefore;\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= end.row) {\n                        foldLine.shiftRow(-len);\n                    }\n                }\n\n                lastRow = firstRow;\n            } else {\n                var args = Array(len);\n                args.unshift(firstRow, 0);\n                var arr = useWrapMode ? this.$wrapData : this.$rowLengthCache;\n                arr.splice.apply(arr, args);\n                var foldLines = this.$foldData;\n                var foldLine = this.getFoldLine(firstRow);\n                var idx = 0;\n                if (foldLine) {\n                    var cmp = foldLine.range.compareInside(start.row, start.column);\n                    if (cmp == 0) {\n                        foldLine = foldLine.split(start.row, start.column);\n                        if (foldLine) {\n                            foldLine.shiftRow(len);\n                            foldLine.addRemoveChars(lastRow, 0, end.column - start.column);\n                        }\n                    } else\n                    if (cmp == -1) {\n                        foldLine.addRemoveChars(firstRow, 0, end.column - start.column);\n                        foldLine.shiftRow(len);\n                    }\n                    idx = foldLines.indexOf(foldLine) + 1;\n                }\n\n                for (idx; idx < foldLines.length; idx++) {\n                    var foldLine = foldLines[idx];\n                    if (foldLine.start.row >= firstRow) {\n                        foldLine.shiftRow(len);\n                    }\n                }\n            }\n        } else {\n            len = Math.abs(delta.start.column - delta.end.column);\n            if (action === \"remove\") {\n                removedFolds = this.getFoldsInRange(delta);\n                this.removeFolds(removedFolds);\n\n                len = -len;\n            }\n            var foldLine = this.getFoldLine(firstRow);\n            if (foldLine) {\n                foldLine.addRemoveChars(firstRow, start.column, len);\n            }\n        }\n\n        if (useWrapMode && this.$wrapData.length != this.doc.getLength()) {\n            console.error(\"doc.getLength() and $wrapData.length have to be the same!\");\n        }\n        this.$updating = false;\n\n        if (useWrapMode)\n            this.$updateWrapData(firstRow, lastRow);\n        else\n            this.$updateRowLengthCache(firstRow, lastRow);\n\n        return removedFolds;\n    };\n\n    this.$updateRowLengthCache = function(firstRow, lastRow, b) {\n        this.$rowLengthCache[firstRow] = null;\n        this.$rowLengthCache[lastRow] = null;\n    };\n\n    this.$updateWrapData = function(firstRow, lastRow) {\n        var lines = this.doc.getAllLines();\n        var tabSize = this.getTabSize();\n        var wrapData = this.$wrapData;\n        var wrapLimit = this.$wrapLimit;\n        var tokens;\n        var foldLine;\n\n        var row = firstRow;\n        lastRow = Math.min(lastRow, lines.length - 1);\n        while (row <= lastRow) {\n            foldLine = this.getFoldLine(row, foldLine);\n            if (!foldLine) {\n                tokens = this.$getDisplayTokens(lines[row]);\n                wrapData[row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row ++;\n            } else {\n                tokens = [];\n                foldLine.walk(function(placeholder, row, column, lastColumn) {\n                        var walkTokens;\n                        if (placeholder != null) {\n                            walkTokens = this.$getDisplayTokens(\n                                            placeholder, tokens.length);\n                            walkTokens[0] = PLACEHOLDER_START;\n                            for (var i = 1; i < walkTokens.length; i++) {\n                                walkTokens[i] = PLACEHOLDER_BODY;\n                            }\n                        } else {\n                            walkTokens = this.$getDisplayTokens(\n                                lines[row].substring(lastColumn, column),\n                                tokens.length);\n                        }\n                        tokens = tokens.concat(walkTokens);\n                    }.bind(this),\n                    foldLine.end.row,\n                    lines[foldLine.end.row].length + 1\n                );\n\n                wrapData[foldLine.start.row] = this.$computeWrapSplits(tokens, wrapLimit, tabSize);\n                row = foldLine.end.row + 1;\n            }\n        }\n    };\n    var CHAR = 1,\n        CHAR_EXT = 2,\n        PLACEHOLDER_START = 3,\n        PLACEHOLDER_BODY =  4,\n        PUNCTUATION = 9,\n        SPACE = 10,\n        TAB = 11,\n        TAB_SPACE = 12;\n\n\n    this.$computeWrapSplits = function(tokens, wrapLimit, tabSize) {\n        if (tokens.length == 0) {\n            return [];\n        }\n\n        var splits = [];\n        var displayLength = tokens.length;\n        var lastSplit = 0, lastDocSplit = 0;\n\n        var isCode = this.$wrapAsCode;\n\n        var indentedSoftWrap = this.$indentedSoftWrap;\n        var maxIndent = wrapLimit <= Math.max(2 * tabSize, 8)\n            || indentedSoftWrap === false ? 0 : Math.floor(wrapLimit / 2);\n\n        function getWrapIndent() {\n            var indentation = 0;\n            if (maxIndent === 0)\n                return indentation;\n            if (indentedSoftWrap) {\n                for (var i = 0; i < tokens.length; i++) {\n                    var token = tokens[i];\n                    if (token == SPACE)\n                        indentation += 1;\n                    else if (token == TAB)\n                        indentation += tabSize;\n                    else if (token == TAB_SPACE)\n                        continue;\n                    else\n                        break;\n                }\n            }\n            if (isCode && indentedSoftWrap !== false)\n                indentation += tabSize;\n            return Math.min(indentation, maxIndent);\n        }\n        function addSplit(screenPos) {\n            var len = screenPos - lastSplit;\n            for (var i = lastSplit; i < screenPos; i++) {\n                var ch = tokens[i];\n                if (ch === 12 || ch === 2) len -= 1;\n            }\n\n            if (!splits.length) {\n                indent = getWrapIndent();\n                splits.indent = indent;\n            }\n            lastDocSplit += len;\n            splits.push(lastDocSplit);\n            lastSplit = screenPos;\n        }\n        var indent = 0;\n        while (displayLength - lastSplit > wrapLimit - indent) {\n            var split = lastSplit + wrapLimit - indent;\n            if (tokens[split - 1] >= SPACE && tokens[split] >= SPACE) {\n                addSplit(split);\n                continue;\n            }\n            if (tokens[split] == PLACEHOLDER_START || tokens[split] == PLACEHOLDER_BODY) {\n                for (split; split != lastSplit - 1; split--) {\n                    if (tokens[split] == PLACEHOLDER_START) {\n                        break;\n                    }\n                }\n                if (split > lastSplit) {\n                    addSplit(split);\n                    continue;\n                }\n                split = lastSplit + wrapLimit;\n                for (split; split < tokens.length; split++) {\n                    if (tokens[split] != PLACEHOLDER_BODY) {\n                        break;\n                    }\n                }\n                if (split == tokens.length) {\n                    break;  // Breaks the while-loop.\n                }\n                addSplit(split);\n                continue;\n            }\n            var minSplit = Math.max(split - (wrapLimit -(wrapLimit>>2)), lastSplit - 1);\n            while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                split --;\n            }\n            if (isCode) {\n                while (split > minSplit && tokens[split] < PLACEHOLDER_START) {\n                    split --;\n                }\n                while (split > minSplit && tokens[split] == PUNCTUATION) {\n                    split --;\n                }\n            } else {\n                while (split > minSplit && tokens[split] < SPACE) {\n                    split --;\n                }\n            }\n            if (split > minSplit) {\n                addSplit(++split);\n                continue;\n            }\n            split = lastSplit + wrapLimit;\n            if (tokens[split] == CHAR_EXT)\n                split--;\n            addSplit(split - indent);\n        }\n        return splits;\n    };\n    this.$getDisplayTokens = function(str, offset) {\n        var arr = [];\n        var tabSize;\n        offset = offset || 0;\n\n        for (var i = 0; i < str.length; i++) {\n            var c = str.charCodeAt(i);\n            if (c == 9) {\n                tabSize = this.getScreenTabSize(arr.length + offset);\n                arr.push(TAB);\n                for (var n = 1; n < tabSize; n++) {\n                    arr.push(TAB_SPACE);\n                }\n            }\n            else if (c == 32) {\n                arr.push(SPACE);\n            } else if((c > 39 && c < 48) || (c > 57 && c < 64)) {\n                arr.push(PUNCTUATION);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                arr.push(CHAR, CHAR_EXT);\n            } else {\n                arr.push(CHAR);\n            }\n        }\n        return arr;\n    };\n    this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n        if (maxScreenColumn == 0)\n            return [0, 0];\n        if (maxScreenColumn == null)\n            maxScreenColumn = Infinity;\n        screenColumn = screenColumn || 0;\n\n        var c, column;\n        for (column = 0; column < str.length; column++) {\n            c = str.charCodeAt(column);\n            if (c == 9) {\n                screenColumn += this.getScreenTabSize(screenColumn);\n            }\n            else if (c >= 0x1100 && isFullWidth(c)) {\n                screenColumn += 2;\n            } else {\n                screenColumn += 1;\n            }\n            if (screenColumn > maxScreenColumn) {\n                break;\n            }\n        }\n\n        return [screenColumn, column];\n    };\n\n    this.lineWidgets = null;\n    this.getRowLength = function(row) {\n        var h = 1;\n        if (this.lineWidgets)\n            h += this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        \n        if (!this.$useWrapMode || !this.$wrapData[row])\n            return h;\n        else\n            return this.$wrapData[row].length + h;\n    };\n    this.getRowLineCount = function(row) {\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1;\n        } else {\n            return this.$wrapData[row].length + 1;\n        }\n    };\n\n    this.getRowWrapIndent = function(screenRow) {\n        if (this.$useWrapMode) {\n            var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n            var splits = this.$wrapData[pos.row];\n            return splits.length && splits[0] < pos.column ? splits.indent : 0;\n        } else {\n            return 0;\n        }\n    };\n    this.getScreenLastRowColumn = function(screenRow) {\n        var pos = this.screenToDocumentPosition(screenRow, Number.MAX_VALUE);\n        return this.documentToScreenColumn(pos.row, pos.column);\n    };\n    this.getDocumentLastRowColumn = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.getScreenLastRowColumn(screenRow);\n    };\n    this.getDocumentLastRowColumnPosition = function(docRow, docColumn) {\n        var screenRow = this.documentToScreenRow(docRow, docColumn);\n        return this.screenToDocumentPosition(screenRow, Number.MAX_VALUE / 10);\n    };\n    this.getRowSplitData = function(row) {\n        if (!this.$useWrapMode) {\n            return undefined;\n        } else {\n            return this.$wrapData[row];\n        }\n    };\n    this.getScreenTabSize = function(screenColumn) {\n        return this.$tabSize - (screenColumn % this.$tabSize | 0);\n    };\n\n\n    this.screenToDocumentRow = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).row;\n    };\n\n\n    this.screenToDocumentColumn = function(screenRow, screenColumn) {\n        return this.screenToDocumentPosition(screenRow, screenColumn).column;\n    };\n    this.screenToDocumentPosition = function(screenRow, screenColumn, offsetX) {\n        if (screenRow < 0)\n            return {row: 0, column: 0};\n\n        var line;\n        var docRow = 0;\n        var docColumn = 0;\n        var column;\n        var row = 0;\n        var rowLength = 0;\n\n        var rowCache = this.$screenRowCache;\n        var i = this.$getRowCacheIndex(rowCache, screenRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var docRow = this.$docRowCache[i];\n            var doCache = screenRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var maxRow = this.getLength() - 1;\n        var foldLine = this.getNextFoldLine(docRow);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (row <= screenRow) {\n            rowLength = this.getRowLength(docRow);\n            if (row + rowLength > screenRow || docRow >= maxRow) {\n                break;\n            } else {\n                row += rowLength;\n                docRow++;\n                if (docRow > foldStart) {\n                    docRow = foldLine.end.row+1;\n                    foldLine = this.getNextFoldLine(docRow, foldLine);\n                    foldStart = foldLine ? foldLine.start.row : Infinity;\n                }\n            }\n\n            if (doCache) {\n                this.$docRowCache.push(docRow);\n                this.$screenRowCache.push(row);\n            }\n        }\n\n        if (foldLine && foldLine.start.row <= docRow) {\n            line = this.getFoldDisplayLine(foldLine);\n            docRow = foldLine.start.row;\n        } else if (row + rowLength <= screenRow || docRow > maxRow) {\n            return {\n                row: maxRow,\n                column: this.getLine(maxRow).length\n            };\n        } else {\n            line = this.getLine(docRow);\n            foldLine = null;\n        }\n        var wrapIndent = 0, splitIndex = Math.floor(screenRow - row);\n        if (this.$useWrapMode) {\n            var splits = this.$wrapData[docRow];\n            if (splits) {\n                column = splits[splitIndex];\n                if(splitIndex > 0 && splits.length) {\n                    wrapIndent = splits.indent;\n                    docColumn = splits[splitIndex - 1] || splits[splits.length - 1];\n                    line = line.substring(docColumn);\n                }\n            }\n        }\n\n        if (offsetX !== undefined && this.$bidiHandler.isBidiRow(row + splitIndex, docRow, splitIndex))\n            screenColumn = this.$bidiHandler.offsetToCol(offsetX);\n\n        docColumn += this.$getStringScreenWidth(line, screenColumn - wrapIndent)[1];\n        if (this.$useWrapMode && docColumn >= column)\n            docColumn = column - 1;\n\n        if (foldLine)\n            return foldLine.idxToPosition(docColumn);\n\n        return {row: docRow, column: docColumn};\n    };\n    this.documentToScreenPosition = function(docRow, docColumn) {\n        if (typeof docColumn === \"undefined\")\n            var pos = this.$clipPositionToDocument(docRow.row, docRow.column);\n        else\n            pos = this.$clipPositionToDocument(docRow, docColumn);\n\n        docRow = pos.row;\n        docColumn = pos.column;\n\n        var screenRow = 0;\n        var foldStartRow = null;\n        var fold = null;\n        fold = this.getFoldAt(docRow, docColumn, 1);\n        if (fold) {\n            docRow = fold.start.row;\n            docColumn = fold.start.column;\n        }\n\n        var rowEnd, row = 0;\n\n\n        var rowCache = this.$docRowCache;\n        var i = this.$getRowCacheIndex(rowCache, docRow);\n        var l = rowCache.length;\n        if (l && i >= 0) {\n            var row = rowCache[i];\n            var screenRow = this.$screenRowCache[i];\n            var doCache = docRow > rowCache[l - 1];\n        } else {\n            var doCache = !l;\n        }\n\n        var foldLine = this.getNextFoldLine(row);\n        var foldStart = foldLine ?foldLine.start.row :Infinity;\n\n        while (row < docRow) {\n            if (row >= foldStart) {\n                rowEnd = foldLine.end.row + 1;\n                if (rowEnd > docRow)\n                    break;\n                foldLine = this.getNextFoldLine(rowEnd, foldLine);\n                foldStart = foldLine ?foldLine.start.row :Infinity;\n            }\n            else {\n                rowEnd = row + 1;\n            }\n\n            screenRow += this.getRowLength(row);\n            row = rowEnd;\n\n            if (doCache) {\n                this.$docRowCache.push(row);\n                this.$screenRowCache.push(screenRow);\n            }\n        }\n        var textLine = \"\";\n        if (foldLine && row >= foldStart) {\n            textLine = this.getFoldDisplayLine(foldLine, docRow, docColumn);\n            foldStartRow = foldLine.start.row;\n        } else {\n            textLine = this.getLine(docRow).substring(0, docColumn);\n            foldStartRow = docRow;\n        }\n        var wrapIndent = 0;\n        if (this.$useWrapMode) {\n            var wrapRow = this.$wrapData[foldStartRow];\n            if (wrapRow) {\n                var screenRowOffset = 0;\n                while (textLine.length >= wrapRow[screenRowOffset]) {\n                    screenRow ++;\n                    screenRowOffset++;\n                }\n                textLine = textLine.substring(\n                    wrapRow[screenRowOffset - 1] || 0, textLine.length\n                );\n                wrapIndent = screenRowOffset > 0 ? wrapRow.indent : 0;\n            }\n        }\n        \n        if (this.lineWidgets && this.lineWidgets[row] && this.lineWidgets[row].rowsAbove)\n            screenRow += this.lineWidgets[row].rowsAbove;\n\n        return {\n            row: screenRow,\n            column: wrapIndent + this.$getStringScreenWidth(textLine)[0]\n        };\n    };\n    this.documentToScreenColumn = function(row, docColumn) {\n        return this.documentToScreenPosition(row, docColumn).column;\n    };\n    this.documentToScreenRow = function(docRow, docColumn) {\n        return this.documentToScreenPosition(docRow, docColumn).row;\n    };\n    this.getScreenLength = function() {\n        var screenRows = 0;\n        var fold = null;\n        if (!this.$useWrapMode) {\n            screenRows = this.getLength();\n            var foldData = this.$foldData;\n            for (var i = 0; i < foldData.length; i++) {\n                fold = foldData[i];\n                screenRows -= fold.end.row - fold.start.row;\n            }\n        } else {\n            var lastRow = this.$wrapData.length;\n            var row = 0, i = 0;\n            var fold = this.$foldData[i++];\n            var foldStart = fold ? fold.start.row :Infinity;\n\n            while (row < lastRow) {\n                var splits = this.$wrapData[row];\n                screenRows += splits ? splits.length + 1 : 1;\n                row ++;\n                if (row > foldStart) {\n                    row = fold.end.row+1;\n                    fold = this.$foldData[i++];\n                    foldStart = fold ?fold.start.row :Infinity;\n                }\n            }\n        }\n        if (this.lineWidgets)\n            screenRows += this.$getWidgetScreenLength();\n\n        return screenRows;\n    };\n    this.$setFontMetrics = function(fm) {\n        if (!this.$enableVarChar) return;\n        this.$getStringScreenWidth = function(str, maxScreenColumn, screenColumn) {\n            if (maxScreenColumn === 0)\n                return [0, 0];\n            if (!maxScreenColumn)\n                maxScreenColumn = Infinity;\n            screenColumn = screenColumn || 0;\n            \n            var c, column;\n            for (column = 0; column < str.length; column++) {\n                c = str.charAt(column);\n                if (c === \"\\t\") {\n                    screenColumn += this.getScreenTabSize(screenColumn);\n                } else {\n                    screenColumn += fm.getCharacterWidth(c);\n                }\n                if (screenColumn > maxScreenColumn) {\n                    break;\n                }\n            }\n            \n            return [screenColumn, column];\n        };\n    };\n    \n    this.destroy = function() {\n        if (this.bgTokenizer) {\n            this.bgTokenizer.setDocument(null);\n            this.bgTokenizer = null;\n        }\n        this.$stopWorker();\n        this.removeAllListeners();\n        this.selection.detach();\n    };\n\n    this.isFullWidth = isFullWidth;\n    function isFullWidth(c) {\n        if (c < 0x1100)\n            return false;\n        return c >= 0x1100 && c <= 0x115F ||\n               c >= 0x11A3 && c <= 0x11A7 ||\n               c >= 0x11FA && c <= 0x11FF ||\n               c >= 0x2329 && c <= 0x232A ||\n               c >= 0x2E80 && c <= 0x2E99 ||\n               c >= 0x2E9B && c <= 0x2EF3 ||\n               c >= 0x2F00 && c <= 0x2FD5 ||\n               c >= 0x2FF0 && c <= 0x2FFB ||\n               c >= 0x3000 && c <= 0x303E ||\n               c >= 0x3041 && c <= 0x3096 ||\n               c >= 0x3099 && c <= 0x30FF ||\n               c >= 0x3105 && c <= 0x312D ||\n               c >= 0x3131 && c <= 0x318E ||\n               c >= 0x3190 && c <= 0x31BA ||\n               c >= 0x31C0 && c <= 0x31E3 ||\n               c >= 0x31F0 && c <= 0x321E ||\n               c >= 0x3220 && c <= 0x3247 ||\n               c >= 0x3250 && c <= 0x32FE ||\n               c >= 0x3300 && c <= 0x4DBF ||\n               c >= 0x4E00 && c <= 0xA48C ||\n               c >= 0xA490 && c <= 0xA4C6 ||\n               c >= 0xA960 && c <= 0xA97C ||\n               c >= 0xAC00 && c <= 0xD7A3 ||\n               c >= 0xD7B0 && c <= 0xD7C6 ||\n               c >= 0xD7CB && c <= 0xD7FB ||\n               c >= 0xF900 && c <= 0xFAFF ||\n               c >= 0xFE10 && c <= 0xFE19 ||\n               c >= 0xFE30 && c <= 0xFE52 ||\n               c >= 0xFE54 && c <= 0xFE66 ||\n               c >= 0xFE68 && c <= 0xFE6B ||\n               c >= 0xFF01 && c <= 0xFF60 ||\n               c >= 0xFFE0 && c <= 0xFFE6;\n    }\n\n}).call(EditSession.prototype);\n\nrequire(\"./edit_session/folding\").Folding.call(EditSession.prototype);\nrequire(\"./edit_session/bracket_match\").BracketMatch.call(EditSession.prototype);\n\n\nconfig.defineOptions(EditSession.prototype, \"session\", {\n    wrap: {\n        set: function(value) {\n            if (!value || value == \"off\")\n                value = false;\n            else if (value == \"free\")\n                value = true;\n            else if (value == \"printMargin\")\n                value = -1;\n            else if (typeof value == \"string\")\n                value = parseInt(value, 10) || false;\n\n            if (this.$wrap == value)\n                return;\n            this.$wrap = value;\n            if (!value) {\n                this.setUseWrapMode(false);\n            } else {\n                var col = typeof value == \"number\" ? value : null;\n                this.setWrapLimitRange(col, col);\n                this.setUseWrapMode(true);\n            }\n        },\n        get: function() {\n            if (this.getUseWrapMode()) {\n                if (this.$wrap == -1)\n                    return \"printMargin\";\n                if (!this.getWrapLimitRange().min)\n                    return \"free\";\n                return this.$wrap;\n            }\n            return \"off\";\n        },\n        handlesSet: true\n    },    \n    wrapMethod: {\n        set: function(val) {\n            val = val == \"auto\"\n                ? this.$mode.type != \"text\"\n                : val != \"text\";\n            if (val != this.$wrapAsCode) {\n                this.$wrapAsCode = val;\n                if (this.$useWrapMode) {\n                    this.$useWrapMode = false;\n                    this.setUseWrapMode(true);\n                }\n            }\n        },\n        initialValue: \"auto\"\n    },\n    indentedSoftWrap: {\n        set: function() {\n            if (this.$useWrapMode) {\n                this.$useWrapMode = false;\n                this.setUseWrapMode(true);\n            }\n        },\n        initialValue: true \n    },\n    firstLineNumber: {\n        set: function() {this._signal(\"changeBreakpoint\");},\n        initialValue: 1\n    },\n    useWorker: {\n        set: function(useWorker) {\n            this.$useWorker = useWorker;\n\n            this.$stopWorker();\n            if (useWorker)\n                this.$startWorker();\n        },\n        initialValue: true\n    },\n    useSoftTabs: {initialValue: true},\n    tabSize: {\n        set: function(tabSize) {\n            tabSize = parseInt(tabSize);\n            if (tabSize > 0 && this.$tabSize !== tabSize) {\n                this.$modified = true;\n                this.$rowLengthCache = [];\n                this.$tabSize = tabSize;\n                this._signal(\"changeTabSize\");\n            }\n        },\n        initialValue: 4,\n        handlesSet: true\n    },\n    navigateWithinSoftTabs: {initialValue: false},\n    foldStyle: {\n        set: function(val) {this.setFoldStyle(val);},\n        handlesSet: true\n    },\n    overwrite: {\n        set: function(val) {this._signal(\"changeOverwrite\");},\n        initialValue: false\n    },\n    newLineMode: {\n        set: function(val) {this.doc.setNewLineMode(val);},\n        get: function() {return this.doc.getNewLineMode();},\n        handlesSet: true\n    },\n    mode: {\n        set: function(val) { this.setMode(val); },\n        get: function() { return this.$modeId; },\n        handlesSet: true\n    }\n});\n\nexports.EditSession = EditSession;\n});\n\nace.define(\"ace/search\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/lib/oop\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"./lib/lang\");\nvar oop = require(\"./lib/oop\");\nvar Range = require(\"./range\").Range;\n\nvar Search = function() {\n    this.$options = {};\n};\n\n(function() {\n    this.set = function(options) {\n        oop.mixin(this.$options, options);\n        return this;\n    };\n    this.getOptions = function() {\n        return lang.copyObject(this.$options);\n    };\n    this.setOptions = function(options) {\n        this.$options = options;\n    };\n    this.find = function(session) {\n        var options = this.$options;\n        var iterator = this.$matchIterator(session, options);\n        if (!iterator)\n            return false;\n\n        var firstRange = null;\n        iterator.forEach(function(sr, sc, er, ec) {\n            firstRange = new Range(sr, sc, er, ec);\n            if (sc == ec && options.start && options.start.start\n                && options.skipCurrent != false && firstRange.isEqual(options.start)\n            ) {\n                firstRange = null;\n                return false;\n            }\n            \n            return true;\n        });\n\n        return firstRange;\n    };\n    this.findAll = function(session) {\n        var options = this.$options;\n        if (!options.needle)\n            return [];\n        this.$assembleRegExp(options);\n\n        var range = options.range;\n        var lines = range\n            ? session.getLines(range.start.row, range.end.row)\n            : session.doc.getAllLines();\n\n        var ranges = [];\n        var re = options.re;\n        if (options.$isMultiLine) {\n            var len = re.length;\n            var maxRow = lines.length - len;\n            var prevRange;\n            outer: for (var row = re.offset || 0; row <= maxRow; row++) {\n                for (var j = 0; j < len; j++)\n                    if (lines[row + j].search(re[j]) == -1)\n                        continue outer;\n                \n                var startLine = lines[row];\n                var line = lines[row + len - 1];\n                var startIndex = startLine.length - startLine.match(re[0])[0].length;\n                var endIndex = line.match(re[len - 1])[0].length;\n                \n                if (prevRange && prevRange.end.row === row &&\n                    prevRange.end.column > startIndex\n                ) {\n                    continue;\n                }\n                ranges.push(prevRange = new Range(\n                    row, startIndex, row + len - 1, endIndex\n                ));\n                if (len > 2)\n                    row = row + len - 2;\n            }\n        } else {\n            for (var i = 0; i < lines.length; i++) {\n                var matches = lang.getMatchOffsets(lines[i], re);\n                for (var j = 0; j < matches.length; j++) {\n                    var match = matches[j];\n                    ranges.push(new Range(i, match.offset, i, match.offset + match.length));\n                }\n            }\n        }\n\n        if (range) {\n            var startColumn = range.start.column;\n            var endColumn = range.start.column;\n            var i = 0, j = ranges.length - 1;\n            while (i < j && ranges[i].start.column < startColumn && ranges[i].start.row == range.start.row)\n                i++;\n\n            while (i < j && ranges[j].end.column > endColumn && ranges[j].end.row == range.end.row)\n                j--;\n            \n            ranges = ranges.slice(i, j + 1);\n            for (i = 0, j = ranges.length; i < j; i++) {\n                ranges[i].start.row += range.start.row;\n                ranges[i].end.row += range.start.row;\n            }\n        }\n\n        return ranges;\n    };\n    this.replace = function(input, replacement) {\n        var options = this.$options;\n\n        var re = this.$assembleRegExp(options);\n        if (options.$isMultiLine)\n            return replacement;\n\n        if (!re)\n            return;\n\n        var match = re.exec(input);\n        if (!match || match[0].length != input.length)\n            return null;\n        \n        replacement = input.replace(re, replacement);\n        if (options.preserveCase) {\n            replacement = replacement.split(\"\");\n            for (var i = Math.min(input.length, input.length); i--; ) {\n                var ch = input[i];\n                if (ch && ch.toLowerCase() != ch)\n                    replacement[i] = replacement[i].toUpperCase();\n                else\n                    replacement[i] = replacement[i].toLowerCase();\n            }\n            replacement = replacement.join(\"\");\n        }\n        \n        return replacement;\n    };\n\n    this.$assembleRegExp = function(options, $disableFakeMultiline) {\n        if (options.needle instanceof RegExp)\n            return options.re = options.needle;\n\n        var needle = options.needle;\n\n        if (!options.needle)\n            return options.re = false;\n\n        if (!options.regExp)\n            needle = lang.escapeRegExp(needle);\n\n        if (options.wholeWord)\n            needle = addWordBoundary(needle, options);\n\n        var modifier = options.caseSensitive ? \"gm\" : \"gmi\";\n\n        options.$isMultiLine = !$disableFakeMultiline && /[\\n\\r]/.test(needle);\n        if (options.$isMultiLine)\n            return options.re = this.$assembleMultilineRegExp(needle, modifier);\n\n        try {\n            var re = new RegExp(needle, modifier);\n        } catch(e) {\n            re = false;\n        }\n        return options.re = re;\n    };\n\n    this.$assembleMultilineRegExp = function(needle, modifier) {\n        var parts = needle.replace(/\\r\\n|\\r|\\n/g, \"$\\n^\").split(\"\\n\");\n        var re = [];\n        for (var i = 0; i < parts.length; i++) try {\n            re.push(new RegExp(parts[i], modifier));\n        } catch(e) {\n            return false;\n        }\n        return re;\n    };\n\n    this.$matchIterator = function(session, options) {\n        var re = this.$assembleRegExp(options);\n        if (!re)\n            return false;\n        var backwards = options.backwards == true;\n        var skipCurrent = options.skipCurrent != false;\n\n        var range = options.range;\n        var start = options.start;\n        if (!start)\n            start = range ? range[backwards ? \"end\" : \"start\"] : session.selection.getRange();\n         \n        if (start.start)\n            start = start[skipCurrent != backwards ? \"end\" : \"start\"];\n\n        var firstRow = range ? range.start.row : 0;\n        var lastRow = range ? range.end.row : session.getLength() - 1;\n        \n        if (backwards) {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row--; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = lastRow, firstRow = start.row; row >= firstRow; row--)\n                    if (forEachInLine(row, Number.MAX_VALUE, callback))\n                        return;\n            };\n        }\n        else {\n            var forEach = function(callback) {\n                var row = start.row;\n                if (forEachInLine(row, start.column, callback))\n                    return;\n                for (row = row + 1; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n                if (options.wrap == false)\n                    return;\n                for (row = firstRow, lastRow = start.row; row <= lastRow; row++)\n                    if (forEachInLine(row, 0, callback))\n                        return;\n            };\n        }\n        \n        if (options.$isMultiLine) {\n            var len = re.length;\n            var forEachInLine = function(row, offset, callback) {\n                var startRow = backwards ? row - len + 1 : row;\n                if (startRow < 0) return;\n                var line = session.getLine(startRow);\n                var startIndex = line.search(re[0]);\n                if (!backwards && startIndex < offset || startIndex === -1) return;\n                for (var i = 1; i < len; i++) {\n                    line = session.getLine(startRow + i);\n                    if (line.search(re[i]) == -1)\n                        return;\n                }\n                var endIndex = line.match(re[len - 1])[0].length;\n                if (backwards && endIndex > offset) return;\n                if (callback(startRow, startIndex, startRow + len - 1, endIndex))\n                    return true;\n            };\n        }\n        else if (backwards) {\n            var forEachInLine = function(row, endIndex, callback) {\n                var line = session.getLine(row);\n                var matches = [];\n                var m, last = 0;\n                re.lastIndex = 0;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (!length) {\n                        if (last >= line.length) break;\n                        re.lastIndex = last += 1;\n                    }\n                    if (m.index + length > endIndex)\n                        break;\n                    matches.push(m.index, length);\n                }\n                for (var i = matches.length - 1; i >= 0; i -= 2) {\n                    var column = matches[i - 1];\n                    var length = matches[i];\n                    if (callback(row, column, row, column + length))\n                        return true;\n                }\n            };\n        }\n        else {\n            var forEachInLine = function(row, startIndex, callback) {\n                var line = session.getLine(row);\n                var last;\n                var m;\n                re.lastIndex = startIndex;\n                while((m = re.exec(line))) {\n                    var length = m[0].length;\n                    last = m.index;\n                    if (callback(row, last, row,last + length))\n                        return true;\n                    if (!length) {\n                        re.lastIndex = last += 1;\n                        if (last >= line.length) return false;\n                    }\n                }\n            };\n        }\n        return {forEach: forEach};\n    };\n\n}).call(Search.prototype);\n\nfunction addWordBoundary(needle, options) {\n    function wordBoundary(c) {\n        if (/\\w/.test(c) || options.regExp) return \"\\\\b\";\n        return \"\";\n    }\n    return wordBoundary(needle[0]) + needle\n        + wordBoundary(needle[needle.length - 1]);\n}\n\nexports.Search = Search;\n});\n\nace.define(\"ace/keyboard/hash_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/keys\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar keyUtil = require(\"../lib/keys\");\nvar useragent = require(\"../lib/useragent\");\nvar KEY_MODS = keyUtil.KEY_MODS;\n\nfunction HashHandler(config, platform) {\n    this.platform = platform || (useragent.isMac ? \"mac\" : \"win\");\n    this.commands = {};\n    this.commandKeyBinding = {};\n    this.addCommands(config);\n    this.$singleCommand = true;\n}\n\nfunction MultiHashHandler(config, platform) {\n    HashHandler.call(this, config, platform);\n    this.$singleCommand = false;\n}\n\nMultiHashHandler.prototype = HashHandler.prototype;\n\n(function() {\n    \n\n    this.addCommand = function(command) {\n        if (this.commands[command.name])\n            this.removeCommand(command);\n\n        this.commands[command.name] = command;\n\n        if (command.bindKey)\n            this._buildKeyHash(command);\n    };\n\n    this.removeCommand = function(command, keepCommand) {\n        var name = command && (typeof command === 'string' ? command : command.name);\n        command = this.commands[name];\n        if (!keepCommand)\n            delete this.commands[name];\n        var ckb = this.commandKeyBinding;\n        for (var keyId in ckb) {\n            var cmdGroup = ckb[keyId];\n            if (cmdGroup == command) {\n                delete ckb[keyId];\n            } else if (Array.isArray(cmdGroup)) {\n                var i = cmdGroup.indexOf(command);\n                if (i != -1) {\n                    cmdGroup.splice(i, 1);\n                    if (cmdGroup.length == 1)\n                        ckb[keyId] = cmdGroup[0];\n                }\n            }\n        }\n    };\n\n    this.bindKey = function(key, command, position) {\n        if (typeof key == \"object\" && key) {\n            if (position == undefined)\n                position = key.position;\n            key = key[this.platform];\n        }\n        if (!key)\n            return;\n        if (typeof command == \"function\")\n            return this.addCommand({exec: command, bindKey: key, name: command.name || key});\n        \n        key.split(\"|\").forEach(function(keyPart) {\n            var chain = \"\";\n            if (keyPart.indexOf(\" \") != -1) {\n                var parts = keyPart.split(/\\s+/);\n                keyPart = parts.pop();\n                parts.forEach(function(keyPart) {\n                    var binding = this.parseKeys(keyPart);\n                    var id = KEY_MODS[binding.hashId] + binding.key;\n                    chain += (chain ? \" \" : \"\") + id;\n                    this._addCommandToBinding(chain, \"chainKeys\");\n                }, this);\n                chain += \" \";\n            }\n            var binding = this.parseKeys(keyPart);\n            var id = KEY_MODS[binding.hashId] + binding.key;\n            this._addCommandToBinding(chain + id, command, position);\n        }, this);\n    };\n    \n    function getPosition(command) {\n        return typeof command == \"object\" && command.bindKey\n            && command.bindKey.position \n            || (command.isDefault ? -100 : 0);\n    }\n    this._addCommandToBinding = function(keyId, command, position) {\n        var ckb = this.commandKeyBinding, i;\n        if (!command) {\n            delete ckb[keyId];\n        } else if (!ckb[keyId] || this.$singleCommand) {\n            ckb[keyId] = command;\n        } else {\n            if (!Array.isArray(ckb[keyId])) {\n                ckb[keyId] = [ckb[keyId]];\n            } else if ((i = ckb[keyId].indexOf(command)) != -1) {\n                ckb[keyId].splice(i, 1);\n            }\n            \n            if (typeof position != \"number\") {\n                position = getPosition(command);\n            }\n\n            var commands = ckb[keyId];\n            for (i = 0; i < commands.length; i++) {\n                var other = commands[i];\n                var otherPos = getPosition(other);\n                if (otherPos > position)\n                    break;\n            }\n            commands.splice(i, 0, command);\n        }\n    };\n\n    this.addCommands = function(commands) {\n        commands && Object.keys(commands).forEach(function(name) {\n            var command = commands[name];\n            if (!command)\n                return;\n            \n            if (typeof command === \"string\")\n                return this.bindKey(command, name);\n\n            if (typeof command === \"function\")\n                command = { exec: command };\n\n            if (typeof command !== \"object\")\n                return;\n\n            if (!command.name)\n                command.name = name;\n\n            this.addCommand(command);\n        }, this);\n    };\n\n    this.removeCommands = function(commands) {\n        Object.keys(commands).forEach(function(name) {\n            this.removeCommand(commands[name]);\n        }, this);\n    };\n\n    this.bindKeys = function(keyList) {\n        Object.keys(keyList).forEach(function(key) {\n            this.bindKey(key, keyList[key]);\n        }, this);\n    };\n\n    this._buildKeyHash = function(command) {\n        this.bindKey(command.bindKey, command);\n    };\n    this.parseKeys = function(keys) {\n        var parts = keys.toLowerCase().split(/[\\-\\+]([\\-\\+])?/).filter(function(x){return x;});\n        var key = parts.pop();\n\n        var keyCode = keyUtil[key];\n        if (keyUtil.FUNCTION_KEYS[keyCode])\n            key = keyUtil.FUNCTION_KEYS[keyCode].toLowerCase();\n        else if (!parts.length)\n            return {key: key, hashId: -1};\n        else if (parts.length == 1 && parts[0] == \"shift\")\n            return {key: key.toUpperCase(), hashId: -1};\n\n        var hashId = 0;\n        for (var i = parts.length; i--;) {\n            var modifier = keyUtil.KEY_MODS[parts[i]];\n            if (modifier == null) {\n                if (typeof console != \"undefined\")\n                    console.error(\"invalid modifier \" + parts[i] + \" in \" + keys);\n                return false;\n            }\n            hashId |= modifier;\n        }\n        return {key: key, hashId: hashId};\n    };\n\n    this.findKeyCommand = function findKeyCommand(hashId, keyString) {\n        var key = KEY_MODS[hashId] + keyString;\n        return this.commandKeyBinding[key];\n    };\n\n    this.handleKeyboard = function(data, hashId, keyString, keyCode) {\n        if (keyCode < 0) return;\n        var key = KEY_MODS[hashId] + keyString;\n        var command = this.commandKeyBinding[key];\n        if (data.$keyChain) {\n            data.$keyChain += \" \" + key;\n            command = this.commandKeyBinding[data.$keyChain] || command;\n        }\n        \n        if (command) {\n            if (command == \"chainKeys\" || command[command.length - 1] == \"chainKeys\") {\n                data.$keyChain = data.$keyChain || key;\n                return {command: \"null\"};\n            }\n        }\n        \n        if (data.$keyChain) {\n            if ((!hashId || hashId == 4) && keyString.length == 1)\n                data.$keyChain = data.$keyChain.slice(0, -key.length - 1); // wait for input\n            else if (hashId == -1 || keyCode > 0)\n                data.$keyChain = \"\"; // reset keyChain\n        }\n        return {command: command};\n    };\n    \n    this.getStatusText = function(editor, data) {\n        return data.$keyChain || \"\";\n    };\n\n}).call(HashHandler.prototype);\n\nexports.HashHandler = HashHandler;\nexports.MultiHashHandler = MultiHashHandler;\n});\n\nace.define(\"ace/commands/command_manager\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/keyboard/hash_handler\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar MultiHashHandler = require(\"../keyboard/hash_handler\").MultiHashHandler;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CommandManager = function(platform, commands) {\n    MultiHashHandler.call(this, commands, platform);\n    this.byName = this.commands;\n    this.setDefaultHandler(\"exec\", function(e) {\n        return e.command.exec(e.editor, e.args || {});\n    });\n};\n\noop.inherits(CommandManager, MultiHashHandler);\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.exec = function(command, editor, args) {\n        if (Array.isArray(command)) {\n            for (var i = command.length; i--; ) {\n                if (this.exec(command[i], editor, args)) return true;\n            }\n            return false;\n        }\n\n        if (typeof command === \"string\")\n            command = this.commands[command];\n\n        if (!command)\n            return false;\n\n        if (editor && editor.$readOnly && !command.readOnly)\n            return false;\n\n        if (this.$checkCommandState != false && command.isAvailable && !command.isAvailable(editor))\n            return false;\n\n        var e = {editor: editor, command: command, args: args};\n        e.returnValue = this._emit(\"exec\", e);\n        this._signal(\"afterExec\", e);\n\n        return e.returnValue === false ? false : true;\n    };\n\n    this.toggleRecording = function(editor) {\n        if (this.$inReplay)\n            return;\n\n        editor && editor._emit(\"changeStatus\");\n        if (this.recording) {\n            this.macro.pop();\n            this.off(\"exec\", this.$addCommandToMacro);\n\n            if (!this.macro.length)\n                this.macro = this.oldMacro;\n\n            return this.recording = false;\n        }\n        if (!this.$addCommandToMacro) {\n            this.$addCommandToMacro = function(e) {\n                this.macro.push([e.command, e.args]);\n            }.bind(this);\n        }\n\n        this.oldMacro = this.macro;\n        this.macro = [];\n        this.on(\"exec\", this.$addCommandToMacro);\n        return this.recording = true;\n    };\n\n    this.replay = function(editor) {\n        if (this.$inReplay || !this.macro)\n            return;\n\n        if (this.recording)\n            return this.toggleRecording(editor);\n\n        try {\n            this.$inReplay = true;\n            this.macro.forEach(function(x) {\n                if (typeof x == \"string\")\n                    this.exec(x, editor);\n                else\n                    this.exec(x[0], editor, x[1]);\n            }, this);\n        } finally {\n            this.$inReplay = false;\n        }\n    };\n\n    this.trimMacro = function(m) {\n        return m.map(function(x){\n            if (typeof x[0] != \"string\")\n                x[0] = x[0].name;\n            if (!x[1])\n                x = x[0];\n            return x;\n        });\n    };\n\n}).call(CommandManager.prototype);\n\nexports.CommandManager = CommandManager;\n\n});\n\nace.define(\"ace/commands/default_commands\",[\"require\",\"exports\",\"module\",\"ace/lib/lang\",\"ace/config\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar lang = require(\"../lib/lang\");\nvar config = require(\"../config\");\nvar Range = require(\"../range\").Range;\n\nfunction bindKey(win, mac) {\n    return {win: win, mac: mac};\n}\nexports.commands = [{\n    name: \"showSettingsMenu\",\n    bindKey: bindKey(\"Ctrl-,\", \"Command-,\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/settings_menu\", function(module) {\n            module.init(editor);\n            editor.showSettingsMenu();\n        });\n    },\n    readOnly: true\n}, {\n    name: \"goToNextError\",\n    bindKey: bindKey(\"Alt-E\", \"F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, 1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"goToPreviousError\",\n    bindKey: bindKey(\"Alt-Shift-E\", \"Shift-F4\"),\n    exec: function(editor) {\n        config.loadModule(\"./ext/error_marker\", function(module) {\n            module.showErrorMarker(editor, -1);\n        });\n    },\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selectall\",\n    description: \"Select all\",\n    bindKey: bindKey(\"Ctrl-A\", \"Command-A\"),\n    exec: function(editor) { editor.selectAll(); },\n    readOnly: true\n}, {\n    name: \"centerselection\",\n    description: \"Center selection\",\n    bindKey: bindKey(null, \"Ctrl-L\"),\n    exec: function(editor) { editor.centerSelection(); },\n    readOnly: true\n}, {\n    name: \"gotoline\",\n    description: \"Go to line...\",\n    bindKey: bindKey(\"Ctrl-L\", \"Command-L\"),\n    exec: function(editor, line) {\n        if (typeof line === \"number\" && !isNaN(line))\n            editor.gotoLine(line);\n        editor.prompt({ $type: \"gotoLine\" });\n    },\n    readOnly: true\n}, {\n    name: \"fold\",\n    bindKey: bindKey(\"Alt-L|Ctrl-F1\", \"Command-Alt-L|Command-F1\"),\n    exec: function(editor) { editor.session.toggleFold(false); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfold\",\n    bindKey: bindKey(\"Alt-Shift-L|Ctrl-Shift-F1\", \"Command-Alt-Shift-L|Command-Shift-F1\"),\n    exec: function(editor) { editor.session.toggleFold(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleFoldWidget\",\n    bindKey: bindKey(\"F2\", \"F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"toggleParentFoldWidget\",\n    bindKey: bindKey(\"Alt-F2\", \"Alt-F2\"),\n    exec: function(editor) { editor.session.toggleFoldWidget(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldall\",\n    description: \"Fold all\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAll(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldAllComments\",\n    description: \"Fold all comments\",\n    bindKey: bindKey(null, \"Ctrl-Command-Option-0\"),\n    exec: function(editor) { editor.session.foldAllComments(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"foldOther\",\n    description: \"Fold other\",\n    bindKey: bindKey(\"Alt-0\", \"Command-Option-0\"),\n    exec: function(editor) { \n        editor.session.foldAll();\n        editor.session.unfold(editor.selection.getAllRanges());\n    },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"unfoldall\",\n    description: \"Unfold all\",\n    bindKey: bindKey(\"Alt-Shift-0\", \"Command-Option-Shift-0\"),\n    exec: function(editor) { editor.session.unfold(); },\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findnext\",\n    description: \"Find next\",\n    bindKey: bindKey(\"Ctrl-K\", \"Command-G\"),\n    exec: function(editor) { editor.findNext(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"findprevious\",\n    description: \"Find previous\",\n    bindKey: bindKey(\"Ctrl-Shift-K\", \"Command-Shift-G\"),\n    exec: function(editor) { editor.findPrevious(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"center\",\n    readOnly: true\n}, {\n    name: \"selectOrFindNext\",\n    description: \"Select or find next\",\n    bindKey: bindKey(\"Alt-K\", \"Ctrl-G\"),\n    exec: function(editor) {\n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findNext(); \n    },\n    readOnly: true\n}, {\n    name: \"selectOrFindPrevious\",\n    description: \"Select or find previous\",\n    bindKey: bindKey(\"Alt-Shift-K\", \"Ctrl-Shift-G\"),\n    exec: function(editor) { \n        if (editor.selection.isEmpty())\n            editor.selection.selectWord();\n        else\n            editor.findPrevious();\n    },\n    readOnly: true\n}, {\n    name: \"find\",\n    description: \"Find\",\n    bindKey: bindKey(\"Ctrl-F\", \"Command-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor);});\n    },\n    readOnly: true\n}, {\n    name: \"overwrite\",\n    description: \"Overwrite\",\n    bindKey: \"Insert\",\n    exec: function(editor) { editor.toggleOverwrite(); },\n    readOnly: true\n}, {\n    name: \"selecttostart\",\n    description: \"Select to start\",\n    bindKey: bindKey(\"Ctrl-Shift-Home\", \"Command-Shift-Home|Command-Shift-Up\"),\n    exec: function(editor) { editor.getSelection().selectFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotostart\",\n    description: \"Go to start\",\n    bindKey: bindKey(\"Ctrl-Home\", \"Command-Home|Command-Up\"),\n    exec: function(editor) { editor.navigateFileStart(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectup\",\n    description: \"Select up\",\n    bindKey: bindKey(\"Shift-Up\", \"Shift-Up|Ctrl-Shift-P\"),\n    exec: function(editor) { editor.getSelection().selectUp(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golineup\",\n    description: \"Go line up\",\n    bindKey: bindKey(\"Up\", \"Up|Ctrl-P\"),\n    exec: function(editor, args) { editor.navigateUp(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttoend\",\n    description: \"Select to end\",\n    bindKey: bindKey(\"Ctrl-Shift-End\", \"Command-Shift-End|Command-Shift-Down\"),\n    exec: function(editor) { editor.getSelection().selectFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"gotoend\",\n    description: \"Go to end\",\n    bindKey: bindKey(\"Ctrl-End\", \"Command-End|Command-Down\"),\n    exec: function(editor) { editor.navigateFileEnd(); },\n    multiSelectAction: \"forEach\",\n    readOnly: true,\n    scrollIntoView: \"animate\",\n    aceCommandGroup: \"fileJump\"\n}, {\n    name: \"selectdown\",\n    description: \"Select down\",\n    bindKey: bindKey(\"Shift-Down\", \"Shift-Down|Ctrl-Shift-N\"),\n    exec: function(editor) { editor.getSelection().selectDown(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"golinedown\",\n    description: \"Go line down\",\n    bindKey: bindKey(\"Down\", \"Down|Ctrl-N\"),\n    exec: function(editor, args) { editor.navigateDown(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordleft\",\n    description: \"Select word left\",\n    bindKey: bindKey(\"Ctrl-Shift-Left\", \"Option-Shift-Left\"),\n    exec: function(editor) { editor.getSelection().selectWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordleft\",\n    description: \"Go to word left\",\n    bindKey: bindKey(\"Ctrl-Left\", \"Option-Left\"),\n    exec: function(editor) { editor.navigateWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolinestart\",\n    description: \"Select to line start\",\n    bindKey: bindKey(\"Alt-Shift-Left\", \"Command-Shift-Left|Ctrl-Shift-A\"),\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolinestart\",\n    description: \"Go to line start\",\n    bindKey: bindKey(\"Alt-Left|Home\", \"Command-Left|Home|Ctrl-A\"),\n    exec: function(editor) { editor.navigateLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectleft\",\n    description: \"Select left\",\n    bindKey: bindKey(\"Shift-Left\", \"Shift-Left|Ctrl-Shift-B\"),\n    exec: function(editor) { editor.getSelection().selectLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoleft\",\n    description: \"Go to left\",\n    bindKey: bindKey(\"Left\", \"Left|Ctrl-B\"),\n    exec: function(editor, args) { editor.navigateLeft(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectwordright\",\n    description: \"Select word right\",\n    bindKey: bindKey(\"Ctrl-Shift-Right\", \"Option-Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotowordright\",\n    description: \"Go to word right\",\n    bindKey: bindKey(\"Ctrl-Right\", \"Option-Right\"),\n    exec: function(editor) { editor.navigateWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selecttolineend\",\n    description: \"Select to line end\",\n    bindKey: bindKey(\"Alt-Shift-Right\", \"Command-Shift-Right|Shift-End|Ctrl-Shift-E\"),\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotolineend\",\n    description: \"Go to line end\",\n    bindKey: bindKey(\"Alt-Right|End\", \"Command-Right|End|Ctrl-E\"),\n    exec: function(editor) { editor.navigateLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectright\",\n    description: \"Select right\",\n    bindKey: bindKey(\"Shift-Right\", \"Shift-Right\"),\n    exec: function(editor) { editor.getSelection().selectRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"gotoright\",\n    description: \"Go to right\",\n    bindKey: bindKey(\"Right\", \"Right|Ctrl-F\"),\n    exec: function(editor, args) { editor.navigateRight(args.times); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectpagedown\",\n    description: \"Select page down\",\n    bindKey: \"Shift-PageDown\",\n    exec: function(editor) { editor.selectPageDown(); },\n    readOnly: true\n}, {\n    name: \"pagedown\",\n    description: \"Page down\",\n    bindKey: bindKey(null, \"Option-PageDown\"),\n    exec: function(editor) { editor.scrollPageDown(); },\n    readOnly: true\n}, {\n    name: \"gotopagedown\",\n    description: \"Go to page down\",\n    bindKey: bindKey(\"PageDown\", \"PageDown|Ctrl-V\"),\n    exec: function(editor) { editor.gotoPageDown(); },\n    readOnly: true\n}, {\n    name: \"selectpageup\",\n    description: \"Select page up\",\n    bindKey: \"Shift-PageUp\",\n    exec: function(editor) { editor.selectPageUp(); },\n    readOnly: true\n}, {\n    name: \"pageup\",\n    description: \"Page up\",\n    bindKey: bindKey(null, \"Option-PageUp\"),\n    exec: function(editor) { editor.scrollPageUp(); },\n    readOnly: true\n}, {\n    name: \"gotopageup\",\n    description: \"Go to page up\",\n    bindKey: \"PageUp\",\n    exec: function(editor) { editor.gotoPageUp(); },\n    readOnly: true\n}, {\n    name: \"scrollup\",\n    description: \"Scroll up\",\n    bindKey: bindKey(\"Ctrl-Up\", null),\n    exec: function(e) { e.renderer.scrollBy(0, -2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"scrolldown\",\n    description: \"Scroll down\",\n    bindKey: bindKey(\"Ctrl-Down\", null),\n    exec: function(e) { e.renderer.scrollBy(0, 2 * e.renderer.layerConfig.lineHeight); },\n    readOnly: true\n}, {\n    name: \"selectlinestart\",\n    description: \"Select line start\",\n    bindKey: \"Shift-Home\",\n    exec: function(editor) { editor.getSelection().selectLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectlineend\",\n    description: \"Select line end\",\n    bindKey: \"Shift-End\",\n    exec: function(editor) { editor.getSelection().selectLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"togglerecording\",\n    description: \"Toggle recording\",\n    bindKey: bindKey(\"Ctrl-Alt-E\", \"Command-Option-E\"),\n    exec: function(editor) { editor.commands.toggleRecording(editor); },\n    readOnly: true\n}, {\n    name: \"replaymacro\",\n    description: \"Replay macro\",\n    bindKey: bindKey(\"Ctrl-Shift-E\", \"Command-Shift-E\"),\n    exec: function(editor) { editor.commands.replay(editor); },\n    readOnly: true\n}, {\n    name: \"jumptomatching\",\n    description: \"Jump to matching\",\n    bindKey: bindKey(\"Ctrl-\\\\|Ctrl-P\", \"Command-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"selecttomatching\",\n    description: \"Select to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-\\\\|Ctrl-Shift-P\", \"Command-Shift-\\\\\"),\n    exec: function(editor) { editor.jumpToMatching(true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"expandToMatching\",\n    description: \"Expand to matching\",\n    bindKey: bindKey(\"Ctrl-Shift-M\", \"Ctrl-Shift-M\"),\n    exec: function(editor) { editor.jumpToMatching(true, true); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"animate\",\n    readOnly: true\n}, {\n    name: \"passKeysToBrowser\",\n    description: \"Pass keys to browser\",\n    bindKey: bindKey(null, null),\n    exec: function() {},\n    passEvent: true,\n    readOnly: true\n}, {\n    name: \"copy\",\n    description: \"Copy\",\n    exec: function(editor) {\n    },\n    readOnly: true\n},\n{\n    name: \"cut\",\n    description: \"Cut\",\n    exec: function(editor) {\n        var cutLine = editor.$copyWithEmptySelection && editor.selection.isEmpty();\n        var range = cutLine ? editor.selection.getLineRange() : editor.selection.getRange();\n        editor._emit(\"cut\", range);\n\n        if (!range.isEmpty())\n            editor.session.remove(range);\n        editor.clearSelection();\n    },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"paste\",\n    description: \"Paste\",\n    exec: function(editor, args) {\n        editor.$handlePaste(args);\n    },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removeline\",\n    description: \"Remove line\",\n    bindKey: bindKey(\"Ctrl-D\", \"Command-D\"),\n    exec: function(editor) { editor.removeLines(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"duplicateSelection\",\n    description: \"Duplicate selection\",\n    bindKey: bindKey(\"Ctrl-Shift-D\", \"Command-Shift-D\"),\n    exec: function(editor) { editor.duplicateSelection(); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"sortlines\",\n    description: \"Sort lines\",\n    bindKey: bindKey(\"Ctrl-Alt-S\", \"Command-Alt-S\"),\n    exec: function(editor) { editor.sortLines(); },\n    scrollIntoView: \"selection\",\n    multiSelectAction: \"forEachLine\"\n}, {\n    name: \"togglecomment\",\n    description: \"Toggle comment\",\n    bindKey: bindKey(\"Ctrl-/\", \"Command-/\"),\n    exec: function(editor) { editor.toggleCommentLines(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"toggleBlockComment\",\n    description: \"Toggle block comment\",\n    bindKey: bindKey(\"Ctrl-Shift-/\", \"Command-Shift-/\"),\n    exec: function(editor) { editor.toggleBlockComment(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"modifyNumberUp\",\n    description: \"Modify number up\",\n    bindKey: bindKey(\"Ctrl-Shift-Up\", \"Alt-Shift-Up\"),\n    exec: function(editor) { editor.modifyNumber(1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"modifyNumberDown\",\n    description: \"Modify number down\",\n    bindKey: bindKey(\"Ctrl-Shift-Down\", \"Alt-Shift-Down\"),\n    exec: function(editor) { editor.modifyNumber(-1); },\n    scrollIntoView: \"cursor\",\n    multiSelectAction: \"forEach\"\n}, {\n    name: \"replace\",\n    description: \"Replace\",\n    bindKey: bindKey(\"Ctrl-H\", \"Command-Option-F\"),\n    exec: function(editor) {\n        config.loadModule(\"ace/ext/searchbox\", function(e) {e.Search(editor, true);});\n    }\n}, {\n    name: \"undo\",\n    description: \"Undo\",\n    bindKey: bindKey(\"Ctrl-Z\", \"Command-Z\"),\n    exec: function(editor) { editor.undo(); }\n}, {\n    name: \"redo\",\n    description: \"Redo\",\n    bindKey: bindKey(\"Ctrl-Shift-Z|Ctrl-Y\", \"Command-Shift-Z|Command-Y\"),\n    exec: function(editor) { editor.redo(); }\n}, {\n    name: \"copylinesup\",\n    description: \"Copy lines up\",\n    bindKey: bindKey(\"Alt-Shift-Up\", \"Command-Option-Up\"),\n    exec: function(editor) { editor.copyLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesup\",\n    description: \"Move lines up\",\n    bindKey: bindKey(\"Alt-Up\", \"Option-Up\"),\n    exec: function(editor) { editor.moveLinesUp(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"copylinesdown\",\n    description: \"Copy lines down\",\n    bindKey: bindKey(\"Alt-Shift-Down\", \"Command-Option-Down\"),\n    exec: function(editor) { editor.copyLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"movelinesdown\",\n    description: \"Move lines down\",\n    bindKey: bindKey(\"Alt-Down\", \"Option-Down\"),\n    exec: function(editor) { editor.moveLinesDown(); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"del\",\n    description: \"Delete\",\n    bindKey: bindKey(\"Delete\", \"Delete|Ctrl-D|Shift-Delete\"),\n    exec: function(editor) { editor.remove(\"right\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"backspace\",\n    description: \"Backspace\",\n    bindKey: bindKey(\n        \"Shift-Backspace|Backspace\",\n        \"Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H\"\n    ),\n    exec: function(editor) { editor.remove(\"left\"); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"cut_or_delete\",\n    description: \"Cut or delete\",\n    bindKey: bindKey(\"Shift-Delete\", null),\n    exec: function(editor) { \n        if (editor.selection.isEmpty()) {\n            editor.remove(\"left\");\n        } else {\n            return false;\n        }\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestart\",\n    description: \"Remove to line start\",\n    bindKey: bindKey(\"Alt-Backspace\", \"Command-Backspace\"),\n    exec: function(editor) { editor.removeToLineStart(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineend\",\n    description: \"Remove to line end\",\n    bindKey: bindKey(\"Alt-Delete\", \"Ctrl-K|Command-Delete\"),\n    exec: function(editor) { editor.removeToLineEnd(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolinestarthard\",\n    description: \"Remove to line start hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Backspace\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.start.column = 0;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removetolineendhard\",\n    description: \"Remove to line end hard\",\n    bindKey: bindKey(\"Ctrl-Shift-Delete\", null),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n        range.end.column = Number.MAX_VALUE;\n        editor.session.remove(range);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordleft\",\n    description: \"Remove word left\",\n    bindKey: bindKey(\"Ctrl-Backspace\", \"Alt-Backspace|Ctrl-Alt-Backspace\"),\n    exec: function(editor) { editor.removeWordLeft(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"removewordright\",\n    description: \"Remove word right\",\n    bindKey: bindKey(\"Ctrl-Delete\", \"Alt-Delete\"),\n    exec: function(editor) { editor.removeWordRight(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"outdent\",\n    description: \"Outdent\",\n    bindKey: bindKey(\"Shift-Tab\", \"Shift-Tab\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"indent\",\n    description: \"Indent\",\n    bindKey: bindKey(\"Tab\", \"Tab\"),\n    exec: function(editor) { editor.indent(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockoutdent\",\n    description: \"Block outdent\",\n    bindKey: bindKey(\"Ctrl-[\", \"Ctrl-[\"),\n    exec: function(editor) { editor.blockOutdent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"blockindent\",\n    description: \"Block indent\",\n    bindKey: bindKey(\"Ctrl-]\", \"Ctrl-]\"),\n    exec: function(editor) { editor.blockIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"selectionPart\"\n}, {\n    name: \"insertstring\",\n    description: \"Insert string\",\n    exec: function(editor, str) { editor.insert(str); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"inserttext\",\n    description: \"Insert text\",\n    exec: function(editor, args) {\n        editor.insert(lang.stringRepeat(args.text  || \"\", args.times || 1));\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"splitline\",\n    description: \"Split line\",\n    bindKey: bindKey(null, \"Ctrl-O\"),\n    exec: function(editor) { editor.splitLine(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"transposeletters\",\n    description: \"Transpose letters\",\n    bindKey: bindKey(\"Alt-Shift-X\", \"Ctrl-T\"),\n    exec: function(editor) { editor.transposeLetters(); },\n    multiSelectAction: function(editor) {editor.transposeSelections(1); },\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"touppercase\",\n    description: \"To uppercase\",\n    bindKey: bindKey(\"Ctrl-U\", \"Ctrl-U\"),\n    exec: function(editor) { editor.toUpperCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"tolowercase\",\n    description: \"To lowercase\",\n    bindKey: bindKey(\"Ctrl-Shift-U\", \"Ctrl-Shift-U\"),\n    exec: function(editor) { editor.toLowerCase(); },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"autoindent\",\n    description: \"Auto Indent\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) { editor.autoIndent(); },\n    multiSelectAction: \"forEachLine\",\n    scrollIntoView: \"animate\"\n}, {\n    name: \"expandtoline\",\n    description: \"Expand to line\",\n    bindKey: bindKey(\"Ctrl-Shift-L\", \"Command-Shift-L\"),\n    exec: function(editor) {\n        var range = editor.selection.getRange();\n\n        range.start.column = range.end.column = 0;\n        range.end.row++;\n        editor.selection.setRange(range, false);\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"joinlines\",\n    description: \"Join lines\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var isBackwards = editor.selection.isBackwards();\n        var selectionStart = isBackwards ? editor.selection.getSelectionLead() : editor.selection.getSelectionAnchor();\n        var selectionEnd = isBackwards ? editor.selection.getSelectionAnchor() : editor.selection.getSelectionLead();\n        var firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length;\n        var selectedText = editor.session.doc.getTextRange(editor.selection.getRange());\n        var selectedCount = selectedText.replace(/\\n\\s*/, \" \").length;\n        var insertLine = editor.session.doc.getLine(selectionStart.row);\n\n        for (var i = selectionStart.row + 1; i <= selectionEnd.row + 1; i++) {\n            var curLine = lang.stringTrimLeft(lang.stringTrimRight(editor.session.doc.getLine(i)));\n            if (curLine.length !== 0) {\n                curLine = \" \" + curLine;\n            }\n            insertLine += curLine;\n        }\n\n        if (selectionEnd.row + 1 < (editor.session.doc.getLength() - 1)) {\n            insertLine += editor.session.doc.getNewLineCharacter();\n        }\n\n        editor.clearSelection();\n        editor.session.doc.replace(new Range(selectionStart.row, 0, selectionEnd.row + 2, 0), insertLine);\n\n        if (selectedCount > 0) {\n            editor.selection.moveCursorTo(selectionStart.row, selectionStart.column);\n            editor.selection.selectTo(selectionStart.row, selectionStart.column + selectedCount);\n        } else {\n            firstLineEndCol = editor.session.doc.getLine(selectionStart.row).length > firstLineEndCol ? (firstLineEndCol + 1) : firstLineEndCol;\n            editor.selection.moveCursorTo(selectionStart.row, firstLineEndCol);\n        }\n    },\n    multiSelectAction: \"forEach\",\n    readOnly: true\n}, {\n    name: \"invertSelection\",\n    description: \"Invert selection\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        var endRow = editor.session.doc.getLength() - 1;\n        var endCol = editor.session.doc.getLine(endRow).length;\n        var ranges = editor.selection.rangeList.ranges;\n        var newRanges = [];\n        if (ranges.length < 1) {\n            ranges = [editor.selection.getRange()];\n        }\n\n        for (var i = 0; i < ranges.length; i++) {\n            if (i == (ranges.length - 1)) {\n                if (!(ranges[i].end.row === endRow && ranges[i].end.column === endCol)) {\n                    newRanges.push(new Range(ranges[i].end.row, ranges[i].end.column, endRow, endCol));\n                }\n            }\n\n            if (i === 0) {\n                if (!(ranges[i].start.row === 0 && ranges[i].start.column === 0)) {\n                    newRanges.push(new Range(0, 0, ranges[i].start.row, ranges[i].start.column));\n                }\n            } else {\n                newRanges.push(new Range(ranges[i-1].end.row, ranges[i-1].end.column, ranges[i].start.row, ranges[i].start.column));\n            }\n        }\n\n        editor.exitMultiSelectMode();\n        editor.clearSelection();\n\n        for(var i = 0; i < newRanges.length; i++) {\n            editor.selection.addRange(newRanges[i], false);\n        }\n    },\n    readOnly: true,\n    scrollIntoView: \"none\"\n}, {\n    name: \"addLineAfter\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        editor.navigateLineEnd();\n        editor.insert(\"\\n\");\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"addLineBefore\",\n    exec: function(editor) {\n        editor.selection.clearSelection();\n        var cursor = editor.getCursorPosition();\n        editor.selection.moveTo(cursor.row - 1, Number.MAX_VALUE);\n        editor.insert(\"\\n\");\n        if (cursor.row === 0) editor.navigateUp();\n    },\n    multiSelectAction: \"forEach\",\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"openCommandPallete\",\n    description: \"Open command pallete\",\n    bindKey: bindKey(\"F1\", \"F1\"),\n    exec: function(editor) {\n        editor.prompt({ $type: \"commands\" });\n    },\n    readOnly: true\n}, {\n    name: \"modeSelect\",\n    description: \"Change language mode...\",\n    bindKey: bindKey(null, null),\n    exec: function(editor) {\n        editor.prompt({ $type: \"modes\" });\n    },\n    readOnly: true\n}];\n\nfor (var i = 1; i < 9; i++) {\n    exports.commands.push({\n        name: \"foldToLevel\" + i,\n        description: \"Fold To Level \" + i,\n        level: i,\n        exec: function(editor) { editor.session.foldToLevel(this.level); },\n        scrollIntoView: \"center\",\n        readOnly: true\n    });\n}\n\n});\n\nace.define(\"ace/editor\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/useragent\",\"ace/keyboard/textinput\",\"ace/mouse/mouse_handler\",\"ace/mouse/fold_handler\",\"ace/keyboard/keybinding\",\"ace/edit_session\",\"ace/search\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/commands/command_manager\",\"ace/commands/default_commands\",\"ace/config\",\"ace/token_iterator\",\"ace/clipboard\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar lang = require(\"./lib/lang\");\nvar useragent = require(\"./lib/useragent\");\nvar TextInput = require(\"./keyboard/textinput\").TextInput;\nvar MouseHandler = require(\"./mouse/mouse_handler\").MouseHandler;\nvar FoldHandler = require(\"./mouse/fold_handler\").FoldHandler;\nvar KeyBinding = require(\"./keyboard/keybinding\").KeyBinding;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar Search = require(\"./search\").Search;\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar CommandManager = require(\"./commands/command_manager\").CommandManager;\nvar defaultCommands = require(\"./commands/default_commands\").commands;\nvar config = require(\"./config\");\nvar TokenIterator = require(\"./token_iterator\").TokenIterator;\n\nvar clipboard = require(\"./clipboard\");\nvar Editor = function(renderer, session, options) {\n    this.$toDestroy = [];\n    var container = renderer.getContainerElement();\n    this.container = container;\n    this.renderer = renderer;\n    this.id = \"editor\" + (++Editor.$uid);\n\n    this.commands = new CommandManager(useragent.isMac ? \"mac\" : \"win\", defaultCommands);\n    if (typeof document == \"object\") {\n        this.textInput = new TextInput(renderer.getTextAreaContainer(), this);\n        this.renderer.textarea = this.textInput.getElement();\n        this.$mouseHandler = new MouseHandler(this);\n        new FoldHandler(this);\n    }\n\n    this.keyBinding = new KeyBinding(this);\n\n    this.$search = new Search().set({\n        wrap: true\n    });\n\n    this.$historyTracker = this.$historyTracker.bind(this);\n    this.commands.on(\"exec\", this.$historyTracker);\n\n    this.$initOperationListeners();\n    \n    this._$emitInputEvent = lang.delayedCall(function() {\n        this._signal(\"input\", {});\n        if (this.session && this.session.bgTokenizer)\n            this.session.bgTokenizer.scheduleStart();\n    }.bind(this));\n    \n    this.on(\"change\", function(_, _self) {\n        _self._$emitInputEvent.schedule(31);\n    });\n\n    this.setSession(session || options && options.session || new EditSession(\"\"));\n    config.resetOptions(this);\n    if (options)\n        this.setOptions(options);\n    config._signal(\"editor\", this);\n};\n\nEditor.$uid = 0;\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$initOperationListeners = function() {\n        this.commands.on(\"exec\", this.startOperation.bind(this), true);\n        this.commands.on(\"afterExec\", this.endOperation.bind(this), true);\n\n        this.$opResetTimer = lang.delayedCall(this.endOperation.bind(this, true));\n        this.on(\"change\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.docChanged = true;\n        }.bind(this), true);\n        \n        this.on(\"changeSelection\", function() {\n            if (!this.curOp) {\n                this.startOperation();\n                this.curOp.selectionBefore = this.$lastSel;\n            }\n            this.curOp.selectionChanged = true;\n        }.bind(this), true);\n    };\n\n    this.curOp = null;\n    this.prevOp = {};\n    this.startOperation = function(commandEvent) {\n        if (this.curOp) {\n            if (!commandEvent || this.curOp.command)\n                return;\n            this.prevOp = this.curOp;\n        }\n        if (!commandEvent) {\n            this.previousCommand = null;\n            commandEvent = {};\n        }\n\n        this.$opResetTimer.schedule();\n        this.curOp = this.session.curOp = {\n            command: commandEvent.command || {},\n            args: commandEvent.args,\n            scrollTop: this.renderer.scrollTop\n        };\n        this.curOp.selectionBefore = this.selection.toJSON();\n    };\n\n    this.endOperation = function(e) {\n        if (this.curOp && this.session) {\n            if (e && e.returnValue === false || !this.session)\n                return (this.curOp = null);\n            if (e == true && this.curOp.command && this.curOp.command.name == \"mouse\")\n                return;\n            this._signal(\"beforeEndOperation\");\n            if (!this.curOp) return;\n            var command = this.curOp.command;\n            var scrollIntoView = command && command.scrollIntoView;\n            if (scrollIntoView) {\n                switch (scrollIntoView) {\n                    case \"center-animate\":\n                        scrollIntoView = \"animate\";\n                    case \"center\":\n                        this.renderer.scrollCursorIntoView(null, 0.5);\n                        break;\n                    case \"animate\":\n                    case \"cursor\":\n                        this.renderer.scrollCursorIntoView();\n                        break;\n                    case \"selectionPart\":\n                        var range = this.selection.getRange();\n                        var config = this.renderer.layerConfig;\n                        if (range.start.row >= config.lastRow || range.end.row <= config.firstRow) {\n                            this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);\n                        }\n                        break;\n                    default:\n                        break;\n                }\n                if (scrollIntoView == \"animate\")\n                    this.renderer.animateScrolling(this.curOp.scrollTop);\n            }\n            var sel = this.selection.toJSON();\n            this.curOp.selectionAfter = sel;\n            this.$lastSel = this.selection.toJSON();\n            this.session.getUndoManager().addSelection(sel);\n            this.prevOp = this.curOp;\n            this.curOp = null;\n        }\n    };\n    this.$mergeableCommands = [\"backspace\", \"del\", \"insertstring\"];\n    this.$historyTracker = function(e) {\n        if (!this.$mergeUndoDeltas)\n            return;\n\n        var prev = this.prevOp;\n        var mergeableCommands = this.$mergeableCommands;\n        var shouldMerge = prev.command && (e.command.name == prev.command.name);\n        if (e.command.name == \"insertstring\") {\n            var text = e.args;\n            if (this.mergeNextCommand === undefined)\n                this.mergeNextCommand = true;\n\n            shouldMerge = shouldMerge\n                && this.mergeNextCommand // previous command allows to coalesce with\n                && (!/\\s/.test(text) || /\\s/.test(prev.args)); // previous insertion was of same type\n\n            this.mergeNextCommand = true;\n        } else {\n            shouldMerge = shouldMerge\n                && mergeableCommands.indexOf(e.command.name) !== -1; // the command is mergeable\n        }\n\n        if (\n            this.$mergeUndoDeltas != \"always\"\n            && Date.now() - this.sequenceStartTime > 2000\n        ) {\n            shouldMerge = false; // the sequence is too long\n        }\n\n        if (shouldMerge)\n            this.session.mergeUndoDeltas = true;\n        else if (mergeableCommands.indexOf(e.command.name) !== -1)\n            this.sequenceStartTime = Date.now();\n    };\n    this.setKeyboardHandler = function(keyboardHandler, cb) {\n        if (keyboardHandler && typeof keyboardHandler === \"string\" && keyboardHandler != \"ace\") {\n            this.$keybindingId = keyboardHandler;\n            var _self = this;\n            config.loadModule([\"keybinding\", keyboardHandler], function(module) {\n                if (_self.$keybindingId == keyboardHandler)\n                    _self.keyBinding.setKeyboardHandler(module && module.handler);\n                cb && cb();\n            });\n        } else {\n            this.$keybindingId = null;\n            this.keyBinding.setKeyboardHandler(keyboardHandler);\n            cb && cb();\n        }\n    };\n    this.getKeyboardHandler = function() {\n        return this.keyBinding.getKeyboardHandler();\n    };\n    this.setSession = function(session) {\n        if (this.session == session)\n            return;\n        if (this.curOp) this.endOperation();\n        this.curOp = {};\n\n        var oldSession = this.session;\n        if (oldSession) {\n            this.session.off(\"change\", this.$onDocumentChange);\n            this.session.off(\"changeMode\", this.$onChangeMode);\n            this.session.off(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n            this.session.off(\"changeTabSize\", this.$onChangeTabSize);\n            this.session.off(\"changeWrapLimit\", this.$onChangeWrapLimit);\n            this.session.off(\"changeWrapMode\", this.$onChangeWrapMode);\n            this.session.off(\"changeFold\", this.$onChangeFold);\n            this.session.off(\"changeFrontMarker\", this.$onChangeFrontMarker);\n            this.session.off(\"changeBackMarker\", this.$onChangeBackMarker);\n            this.session.off(\"changeBreakpoint\", this.$onChangeBreakpoint);\n            this.session.off(\"changeAnnotation\", this.$onChangeAnnotation);\n            this.session.off(\"changeOverwrite\", this.$onCursorChange);\n            this.session.off(\"changeScrollTop\", this.$onScrollTopChange);\n            this.session.off(\"changeScrollLeft\", this.$onScrollLeftChange);\n\n            var selection = this.session.getSelection();\n            selection.off(\"changeCursor\", this.$onCursorChange);\n            selection.off(\"changeSelection\", this.$onSelectionChange);\n        }\n\n        this.session = session;\n        if (session) {\n            this.$onDocumentChange = this.onDocumentChange.bind(this);\n            session.on(\"change\", this.$onDocumentChange);\n            this.renderer.setSession(session);\n    \n            this.$onChangeMode = this.onChangeMode.bind(this);\n            session.on(\"changeMode\", this.$onChangeMode);\n    \n            this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this);\n            session.on(\"tokenizerUpdate\", this.$onTokenizerUpdate);\n    \n            this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer);\n            session.on(\"changeTabSize\", this.$onChangeTabSize);\n    \n            this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this);\n            session.on(\"changeWrapLimit\", this.$onChangeWrapLimit);\n    \n            this.$onChangeWrapMode = this.onChangeWrapMode.bind(this);\n            session.on(\"changeWrapMode\", this.$onChangeWrapMode);\n    \n            this.$onChangeFold = this.onChangeFold.bind(this);\n            session.on(\"changeFold\", this.$onChangeFold);\n    \n            this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this);\n            this.session.on(\"changeFrontMarker\", this.$onChangeFrontMarker);\n    \n            this.$onChangeBackMarker = this.onChangeBackMarker.bind(this);\n            this.session.on(\"changeBackMarker\", this.$onChangeBackMarker);\n    \n            this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this);\n            this.session.on(\"changeBreakpoint\", this.$onChangeBreakpoint);\n    \n            this.$onChangeAnnotation = this.onChangeAnnotation.bind(this);\n            this.session.on(\"changeAnnotation\", this.$onChangeAnnotation);\n    \n            this.$onCursorChange = this.onCursorChange.bind(this);\n            this.session.on(\"changeOverwrite\", this.$onCursorChange);\n    \n            this.$onScrollTopChange = this.onScrollTopChange.bind(this);\n            this.session.on(\"changeScrollTop\", this.$onScrollTopChange);\n    \n            this.$onScrollLeftChange = this.onScrollLeftChange.bind(this);\n            this.session.on(\"changeScrollLeft\", this.$onScrollLeftChange);\n    \n            this.selection = session.getSelection();\n            this.selection.on(\"changeCursor\", this.$onCursorChange);\n    \n            this.$onSelectionChange = this.onSelectionChange.bind(this);\n            this.selection.on(\"changeSelection\", this.$onSelectionChange);\n    \n            this.onChangeMode();\n    \n            this.onCursorChange();\n    \n            this.onScrollTopChange();\n            this.onScrollLeftChange();\n            this.onSelectionChange();\n            this.onChangeFrontMarker();\n            this.onChangeBackMarker();\n            this.onChangeBreakpoint();\n            this.onChangeAnnotation();\n            this.session.getUseWrapMode() && this.renderer.adjustWrapLimit();\n            this.renderer.updateFull();\n        } else {\n            this.selection = null;\n            this.renderer.setSession(session);\n        }\n\n        this._signal(\"changeSession\", {\n            session: session,\n            oldSession: oldSession\n        });\n        \n        this.curOp = null;\n        \n        oldSession && oldSession._signal(\"changeEditor\", {oldEditor: this});\n        session && session._signal(\"changeEditor\", {editor: this});\n        \n        if (session && session.bgTokenizer)\n            session.bgTokenizer.scheduleStart();\n    };\n    this.getSession = function() {\n        return this.session;\n    };\n    this.setValue = function(val, cursorPos) {\n        this.session.doc.setValue(val);\n\n        if (!cursorPos)\n            this.selectAll();\n        else if (cursorPos == 1)\n            this.navigateFileEnd();\n        else if (cursorPos == -1)\n            this.navigateFileStart();\n\n        return val;\n    };\n    this.getValue = function() {\n        return this.session.getValue();\n    };\n    this.getSelection = function() {\n        return this.selection;\n    };\n    this.resize = function(force) {\n        this.renderer.onResize(force);\n    };\n    this.setTheme = function(theme, cb) {\n        this.renderer.setTheme(theme, cb);\n    };\n    this.getTheme = function() {\n        return this.renderer.getTheme();\n    };\n    this.setStyle = function(style) {\n        this.renderer.setStyle(style);\n    };\n    this.unsetStyle = function(style) {\n        this.renderer.unsetStyle(style);\n    };\n    this.getFontSize = function () {\n        return this.getOption(\"fontSize\") ||\n           dom.computedStyle(this.container).fontSize;\n    };\n    this.setFontSize = function(size) {\n        this.setOption(\"fontSize\", size);\n    };\n\n    this.$highlightBrackets = function() {\n        if (this.$highlightPending) {\n            return;\n        }\n        var self = this;\n        this.$highlightPending = true;\n        setTimeout(function () {\n            self.$highlightPending = false;\n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            if (session.$bracketHighlight) {\n                session.$bracketHighlight.markerIds.forEach(function(id) {\n                    session.removeMarker(id);\n                });\n                session.$bracketHighlight = null;\n            }\n            var ranges = session.getMatchingBracketRanges(self.getCursorPosition());\n            if (!ranges && session.$mode.getMatching) \n                ranges = session.$mode.getMatching(self.session);\n            if (!ranges)\n                return;\n\n            var markerType = \"ace_bracket\";\n            if (!Array.isArray(ranges)) {\n                ranges = [ranges];\n            } else if (ranges.length == 1) {\n                markerType = \"ace_error_bracket\";\n            }\n            if (ranges.length == 2) {\n                if (Range.comparePoints(ranges[0].end, ranges[1].start) == 0)\n                    ranges = [Range.fromPoints(ranges[0].start, ranges[1].end)];\n                else if (Range.comparePoints(ranges[0].start, ranges[1].end) == 0)\n                    ranges = [Range.fromPoints(ranges[1].start, ranges[0].end)];\n            }\n\n            session.$bracketHighlight = {\n                ranges: ranges,\n                markerIds: ranges.map(function(range) {\n                    return session.addMarker(range, markerType, \"text\");\n                })\n            };\n        }, 50);\n    };\n    this.$highlightTags = function() {\n        if (this.$highlightTagPending)\n            return;\n        var self = this;\n        this.$highlightTagPending = true;\n        setTimeout(function() {\n            self.$highlightTagPending = false;\n            \n            var session = self.session;\n            if (!session || !session.bgTokenizer) return;\n            \n            var pos = self.getCursorPosition();\n            var iterator = new TokenIterator(self.session, pos.row, pos.column);\n            var token = iterator.getCurrentToken();\n            \n            if (!token || !/\\b(?:tag-open|tag-name)/.test(token.type)) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            if (token.type.indexOf(\"tag-open\") !== -1) {\n                token = iterator.stepForward();\n                if (!token)\n                    return;\n            }\n            \n            var tag = token.value;\n            var currentTag = token.value;\n            var depth = 0;\n            var prevToken = iterator.stepBackward();\n            \n            if (prevToken.value === '<'){\n                do {\n                    prevToken = token;\n                    token = iterator.stepForward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            currentTag = token.value;\n                            if (tag === currentTag) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (tag === currentTag && token.value === '/>') { // self closing tag\n                            depth--;\n                        }\n                    }\n                    \n                } while (token && depth >= 0);\n            } else {\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n\n                    if (token) {\n                        if (token.type.indexOf('tag-name') !== -1) {\n                            if (tag === token.value) {\n                                if (prevToken.value === '<') {\n                                    depth++;\n                                } else if (prevToken.value === '</') {\n                                    depth--;\n                                }\n                            }\n                        } else if (token.value === '/>') { // self closing tag\n                            var stepCount = 0;\n                            var tmpToken = prevToken;\n                            while (tmpToken) {\n                                if (tmpToken.type.indexOf('tag-name') !== -1 && tmpToken.value === tag) {\n                                    depth--;\n                                    break;\n                                } else if (tmpToken.value === '<') {\n                                    break;\n                                }\n                                tmpToken = iterator.stepBackward();\n                                stepCount++;\n                            }\n                            for (var i = 0; i < stepCount; i++) {\n                                iterator.stepForward();\n                            }\n                        }\n                    }\n                } while (prevToken && depth <= 0);\n                iterator.stepForward();\n            }\n            \n            if (!token) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n                return;\n            }\n            \n            var row = iterator.getCurrentTokenRow();\n            var column = iterator.getCurrentTokenColumn();\n            var range = new Range(row, column, row, column+token.value.length);\n            var sbm = session.$backMarkers[session.$tagHighlight];\n            if (session.$tagHighlight && sbm != undefined && range.compareRange(sbm.range) !== 0) {\n                session.removeMarker(session.$tagHighlight);\n                session.$tagHighlight = null;\n            }\n            \n            if (!session.$tagHighlight)\n                session.$tagHighlight = session.addMarker(range, \"ace_bracket\", \"text\");\n        }, 50);\n    };\n    this.focus = function() {\n        var _self = this;\n        setTimeout(function() {\n            if (!_self.isFocused())\n                _self.textInput.focus();\n        });\n        this.textInput.focus();\n    };\n    this.isFocused = function() {\n        return this.textInput.isFocused();\n    };\n    this.blur = function() {\n        this.textInput.blur();\n    };\n    this.onFocus = function(e) {\n        if (this.$isFocused)\n            return;\n        this.$isFocused = true;\n        this.renderer.showCursor();\n        this.renderer.visualizeFocus();\n        this._emit(\"focus\", e);\n    };\n    this.onBlur = function(e) {\n        if (!this.$isFocused)\n            return;\n        this.$isFocused = false;\n        this.renderer.hideCursor();\n        this.renderer.visualizeBlur();\n        this._emit(\"blur\", e);\n    };\n\n    this.$cursorChange = function() {\n        this.renderer.updateCursor();\n        this.$highlightBrackets();\n        this.$highlightTags();\n        this.$updateHighlightActiveLine();\n    };\n    this.onDocumentChange = function(delta) {\n        var wrap = this.session.$useWrapMode;\n        var lastRow = (delta.start.row == delta.end.row ? delta.end.row : Infinity);\n        this.renderer.updateLines(delta.start.row, lastRow, wrap);\n\n        this._signal(\"change\", delta);\n        this.$cursorChange();\n    };\n\n    this.onTokenizerUpdate = function(e) {\n        var rows = e.data;\n        this.renderer.updateLines(rows.first, rows.last);\n    };\n\n\n    this.onScrollTopChange = function() {\n        this.renderer.scrollToY(this.session.getScrollTop());\n    };\n\n    this.onScrollLeftChange = function() {\n        this.renderer.scrollToX(this.session.getScrollLeft());\n    };\n    this.onCursorChange = function() {\n        this.$cursorChange();\n        this._signal(\"changeSelection\");\n    };\n\n    this.$updateHighlightActiveLine = function() {\n        var session = this.getSession();\n\n        var highlight;\n        if (this.$highlightActiveLine) {\n            if (this.$selectionStyle != \"line\" || !this.selection.isMultiLine())\n                highlight = this.getCursorPosition();\n            if (this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty())\n                highlight = false;\n            if (this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1))\n                highlight = false;\n        }\n\n        if (session.$highlightLineMarker && !highlight) {\n            session.removeMarker(session.$highlightLineMarker.id);\n            session.$highlightLineMarker = null;\n        } else if (!session.$highlightLineMarker && highlight) {\n            var range = new Range(highlight.row, highlight.column, highlight.row, Infinity);\n            range.id = session.addMarker(range, \"ace_active-line\", \"screenLine\");\n            session.$highlightLineMarker = range;\n        } else if (highlight) {\n            session.$highlightLineMarker.start.row = highlight.row;\n            session.$highlightLineMarker.end.row = highlight.row;\n            session.$highlightLineMarker.start.column = highlight.column;\n            session._signal(\"changeBackMarker\");\n        }\n    };\n\n    this.onSelectionChange = function(e) {\n        var session = this.session;\n\n        if (session.$selectionMarker) {\n            session.removeMarker(session.$selectionMarker);\n        }\n        session.$selectionMarker = null;\n\n        if (!this.selection.isEmpty()) {\n            var range = this.selection.getRange();\n            var style = this.getSelectionStyle();\n            session.$selectionMarker = session.addMarker(range, \"ace_selection\", style);\n        } else {\n            this.$updateHighlightActiveLine();\n        }\n\n        var re = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();\n        this.session.highlight(re);\n\n        this._signal(\"changeSelection\");\n    };\n\n    this.$getSelectionHighLightRegexp = function() {\n        var session = this.session;\n\n        var selection = this.getSelectionRange();\n        if (selection.isEmpty() || selection.isMultiLine())\n            return;\n\n        var startColumn = selection.start.column;\n        var endColumn = selection.end.column;\n        var line = session.getLine(selection.start.row);\n        \n        var needle = line.substring(startColumn, endColumn);\n        if (needle.length > 5000 || !/[\\w\\d]/.test(needle))\n            return;\n\n        var re = this.$search.$assembleRegExp({\n            wholeWord: true,\n            caseSensitive: true,\n            needle: needle\n        });\n        \n        var wordWithBoundary = line.substring(startColumn - 1, endColumn + 1);\n        if (!re.test(wordWithBoundary))\n            return;\n        \n        return re;\n    };\n\n\n    this.onChangeFrontMarker = function() {\n        this.renderer.updateFrontMarkers();\n    };\n\n    this.onChangeBackMarker = function() {\n        this.renderer.updateBackMarkers();\n    };\n\n\n    this.onChangeBreakpoint = function() {\n        this.renderer.updateBreakpoints();\n    };\n\n    this.onChangeAnnotation = function() {\n        this.renderer.setAnnotations(this.session.getAnnotations());\n    };\n\n\n    this.onChangeMode = function(e) {\n        this.renderer.updateText();\n        this._emit(\"changeMode\", e);\n    };\n\n\n    this.onChangeWrapLimit = function() {\n        this.renderer.updateFull();\n    };\n\n    this.onChangeWrapMode = function() {\n        this.renderer.onResize(true);\n    };\n\n\n    this.onChangeFold = function() {\n        this.$updateHighlightActiveLine();\n        this.renderer.updateFull();\n    };\n    this.getSelectedText = function() {\n        return this.session.getTextRange(this.getSelectionRange());\n    };\n    this.getCopyText = function() {\n        var text = this.getSelectedText();\n        var nl = this.session.doc.getNewLineCharacter();\n        var copyLine= false;\n        if (!text && this.$copyWithEmptySelection) {\n            copyLine = true;\n            var ranges = this.selection.getAllRanges();\n            for (var i = 0; i < ranges.length; i++) {\n                var range = ranges[i];\n                if (i && ranges[i - 1].start.row == range.start.row)\n                    continue;\n                text += this.session.getLine(range.start.row) + nl;\n            }\n        }\n        var e = {text: text};\n        this._signal(\"copy\", e);\n        clipboard.lineMode = copyLine ? e.text : \"\";\n        return e.text;\n    };\n    this.onCopy = function() {\n        this.commands.exec(\"copy\", this);\n    };\n    this.onCut = function() {\n        this.commands.exec(\"cut\", this);\n    };\n    this.onPaste = function(text, event) {\n        var e = {text: text, event: event};\n        this.commands.exec(\"paste\", this, e);\n    };\n    \n    this.$handlePaste = function(e) {\n        if (typeof e == \"string\") \n            e = {text: e};\n        this._signal(\"paste\", e);\n        var text = e.text;\n\n        var lineMode = text == clipboard.lineMode;\n        var session = this.session;\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode) {\n            if (lineMode)\n                session.insert({ row: this.selection.lead.row, column: 0 }, text);\n            else\n                this.insert(text);\n        } else if (lineMode) {\n            this.selection.rangeList.ranges.forEach(function(range) {\n                session.insert({ row: range.start.row, column: 0 }, text);\n            });\n        } else {\n            var lines = text.split(/\\r\\n|\\r|\\n/);\n            var ranges = this.selection.rangeList.ranges;\n    \n            var isFullLine = lines.length == 2 && (!lines[0] || !lines[1]);\n            if (lines.length != ranges.length || isFullLine)\n                return this.commands.exec(\"insertstring\", this, text);\n    \n            for (var i = ranges.length; i--;) {\n                var range = ranges[i];\n                if (!range.isEmpty())\n                    session.remove(range);\n    \n                session.insert(range.start, lines[i]);\n            }\n        }\n    };\n\n    this.execCommand = function(command, args) {\n        return this.commands.exec(command, this, args);\n    };\n    this.insert = function(text, pasted) {\n        var session = this.session;\n        var mode = session.getMode();\n        var cursor = this.getCursorPosition();\n\n        if (this.getBehavioursEnabled() && !pasted) {\n            var transform = mode.transformAction(session.getState(cursor.row), 'insertion', this, session, text);\n            if (transform) {\n                if (text !== transform.text) {\n                    if (!this.inVirtualSelectionMode) {\n                        this.session.mergeUndoDeltas = false;\n                        this.mergeNextCommand = false;\n                    }\n                }\n                text = transform.text;\n\n            }\n        }\n        \n        if (text == \"\\t\")\n            text = this.session.getTabString();\n        if (!this.selection.isEmpty()) {\n            var range = this.getSelectionRange();\n            cursor = this.session.remove(range);\n            this.clearSelection();\n        }\n        else if (this.session.getOverwrite() && text.indexOf(\"\\n\") == -1) {\n            var range = new Range.fromPoints(cursor, cursor);\n            range.end.column += text.length;\n            this.session.remove(range);\n        }\n\n        if (text == \"\\n\" || text == \"\\r\\n\") {\n            var line = session.getLine(cursor.row);\n            if (cursor.column > line.search(/\\S|$/)) {\n                var d = line.substr(cursor.column).search(/\\S|$/);\n                session.doc.removeInLine(cursor.row, cursor.column, cursor.column + d);\n            }\n        }\n        this.clearSelection();\n\n        var start = cursor.column;\n        var lineState = session.getState(cursor.row);\n        var line = session.getLine(cursor.row);\n        var shouldOutdent = mode.checkOutdent(lineState, line, text);\n        session.insert(cursor, text);\n\n        if (transform && transform.selection) {\n            if (transform.selection.length == 2) { // Transform relative to the current column\n                this.selection.setSelectionRange(\n                    new Range(cursor.row, start + transform.selection[0],\n                              cursor.row, start + transform.selection[1]));\n            } else { // Transform relative to the current row.\n                this.selection.setSelectionRange(\n                    new Range(cursor.row + transform.selection[0],\n                              transform.selection[1],\n                              cursor.row + transform.selection[2],\n                              transform.selection[3]));\n            }\n        }\n        if (this.$enableAutoIndent) {\n            if (session.getDocument().isNewLine(text)) {\n                var lineIndent = mode.getNextLineIndent(lineState, line.slice(0, cursor.column), session.getTabString());\n\n                session.insert({row: cursor.row+1, column: 0}, lineIndent);\n            }\n            if (shouldOutdent)\n                mode.autoOutdent(lineState, session, cursor.row);\n        }\n    };\n\n    this.autoIndent = function () {\n        var session = this.session;\n        var mode = session.getMode();\n\n        var startRow, endRow;\n        if (this.selection.isEmpty()) {\n            startRow = 0;\n            endRow = session.doc.getLength() - 1;\n        } else {\n            var selectedRange = this.getSelectionRange();\n\n            startRow = selectedRange.start.row;\n            endRow = selectedRange.end.row;\n        }\n\n        var prevLineState = \"\";\n        var prevLine = \"\";\n        var lineIndent = \"\";\n        var line, currIndent, range;\n        var tab = session.getTabString();\n\n        for (var row = startRow; row <= endRow; row++) {\n            if (row > 0) {\n                prevLineState = session.getState(row - 1);\n                prevLine = session.getLine(row - 1);\n                lineIndent = mode.getNextLineIndent(prevLineState, prevLine, tab);\n            }\n\n            line = session.getLine(row);\n            currIndent = mode.$getIndent(line);\n            if (lineIndent !== currIndent) {\n                if (currIndent.length > 0) {\n                    range = new Range(row, 0, row, currIndent.length);\n                    session.remove(range);\n                }\n                if (lineIndent.length > 0) {\n                    session.insert({row: row, column: 0}, lineIndent);\n                }\n            }\n\n            mode.autoOutdent(prevLineState, session, row);\n        }\n    };\n\n\n    this.onTextInput = function(text, composition) {\n        if (!composition)\n            return this.keyBinding.onTextInput(text);\n        \n        this.startOperation({command: { name: \"insertstring\" }});\n        var applyComposition = this.applyComposition.bind(this, text, composition);\n        if (this.selection.rangeCount)\n            this.forEachSelection(applyComposition);\n        else\n            applyComposition();\n        this.endOperation();\n    };\n    \n    this.applyComposition = function(text, composition) {\n        if (composition.extendLeft || composition.extendRight) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.extendLeft;\n            r.end.column += composition.extendRight;\n            if (r.start.column < 0) {\n                r.start.row--;\n                r.start.column += this.session.getLine(r.start.row).length + 1;\n            }\n            this.selection.setRange(r);\n            if (!text && !r.isEmpty())\n                this.remove();\n        }\n        if (text || !this.selection.isEmpty())\n            this.insert(text, true);\n        if (composition.restoreStart || composition.restoreEnd) {\n            var r = this.selection.getRange();\n            r.start.column -= composition.restoreStart;\n            r.end.column -= composition.restoreEnd;\n            this.selection.setRange(r);\n        }\n    };\n\n    this.onCommandKey = function(e, hashId, keyCode) {\n        return this.keyBinding.onCommandKey(e, hashId, keyCode);\n    };\n    this.setOverwrite = function(overwrite) {\n        this.session.setOverwrite(overwrite);\n    };\n    this.getOverwrite = function() {\n        return this.session.getOverwrite();\n    };\n    this.toggleOverwrite = function() {\n        this.session.toggleOverwrite();\n    };\n    this.setScrollSpeed = function(speed) {\n        this.setOption(\"scrollSpeed\", speed);\n    };\n    this.getScrollSpeed = function() {\n        return this.getOption(\"scrollSpeed\");\n    };\n    this.setDragDelay = function(dragDelay) {\n        this.setOption(\"dragDelay\", dragDelay);\n    };\n    this.getDragDelay = function() {\n        return this.getOption(\"dragDelay\");\n    };\n    this.setSelectionStyle = function(val) {\n        this.setOption(\"selectionStyle\", val);\n    };\n    this.getSelectionStyle = function() {\n        return this.getOption(\"selectionStyle\");\n    };\n    this.setHighlightActiveLine = function(shouldHighlight) {\n        this.setOption(\"highlightActiveLine\", shouldHighlight);\n    };\n    this.getHighlightActiveLine = function() {\n        return this.getOption(\"highlightActiveLine\");\n    };\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n    this.setHighlightSelectedWord = function(shouldHighlight) {\n        this.setOption(\"highlightSelectedWord\", shouldHighlight);\n    };\n    this.getHighlightSelectedWord = function() {\n        return this.$highlightSelectedWord;\n    };\n\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.renderer.setAnimatedScroll(shouldAnimate);\n    };\n\n    this.getAnimatedScroll = function(){\n        return this.renderer.getAnimatedScroll();\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.renderer.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.renderer.getShowInvisibles();\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.renderer.setDisplayIndentGuides(display);\n    };\n\n    this.getDisplayIndentGuides = function() {\n        return this.renderer.getDisplayIndentGuides();\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.renderer.setShowPrintMargin(showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.renderer.getShowPrintMargin();\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.renderer.setPrintMarginColumn(showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.renderer.getPrintMarginColumn();\n    };\n    this.setReadOnly = function(readOnly) {\n        this.setOption(\"readOnly\", readOnly);\n    };\n    this.getReadOnly = function() {\n        return this.getOption(\"readOnly\");\n    };\n    this.setBehavioursEnabled = function (enabled) {\n        this.setOption(\"behavioursEnabled\", enabled);\n    };\n    this.getBehavioursEnabled = function () {\n        return this.getOption(\"behavioursEnabled\");\n    };\n    this.setWrapBehavioursEnabled = function (enabled) {\n        this.setOption(\"wrapBehavioursEnabled\", enabled);\n    };\n    this.getWrapBehavioursEnabled = function () {\n        return this.getOption(\"wrapBehavioursEnabled\");\n    };\n    this.setShowFoldWidgets = function(show) {\n        this.setOption(\"showFoldWidgets\", show);\n\n    };\n    this.getShowFoldWidgets = function() {\n        return this.getOption(\"showFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(fade) {\n        this.setOption(\"fadeFoldWidgets\", fade);\n    };\n\n    this.getFadeFoldWidgets = function() {\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n    this.remove = function(dir) {\n        if (this.selection.isEmpty()){\n            if (dir == \"left\")\n                this.selection.selectLeft();\n            else\n                this.selection.selectRight();\n        }\n\n        var range = this.getSelectionRange();\n        if (this.getBehavioursEnabled()) {\n            var session = this.session;\n            var state = session.getState(range.start.row);\n            var new_range = session.getMode().transformAction(state, 'deletion', this, session, range);\n\n            if (range.end.column === 0) {\n                var text = session.getTextRange(range);\n                if (text[text.length - 1] == \"\\n\") {\n                    var line = session.getLine(range.end.row);\n                    if (/^\\s+$/.test(line)) {\n                        range.end.column = line.length;\n                    }\n                }\n            }\n            if (new_range)\n                range = new_range;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.removeWordRight = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordRight();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeWordLeft = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectWordLeft();\n\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineStart = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineStart();\n        if (this.selection.isEmpty())\n            this.selection.selectLeft();\n        this.session.remove(this.getSelectionRange());\n        this.clearSelection();\n    };\n    this.removeToLineEnd = function() {\n        if (this.selection.isEmpty())\n            this.selection.selectLineEnd();\n\n        var range = this.getSelectionRange();\n        if (range.start.column == range.end.column && range.start.row == range.end.row) {\n            range.end.column = 0;\n            range.end.row++;\n        }\n\n        this.session.remove(range);\n        this.clearSelection();\n    };\n    this.splitLine = function() {\n        if (!this.selection.isEmpty()) {\n            this.session.remove(this.getSelectionRange());\n            this.clearSelection();\n        }\n\n        var cursor = this.getCursorPosition();\n        this.insert(\"\\n\");\n        this.moveCursorToPosition(cursor);\n    };\n    this.transposeLetters = function() {\n        if (!this.selection.isEmpty()) {\n            return;\n        }\n\n        var cursor = this.getCursorPosition();\n        var column = cursor.column;\n        if (column === 0)\n            return;\n\n        var line = this.session.getLine(cursor.row);\n        var swap, range;\n        if (column < line.length) {\n            swap = line.charAt(column) + line.charAt(column-1);\n            range = new Range(cursor.row, column-1, cursor.row, column+1);\n        }\n        else {\n            swap = line.charAt(column-1) + line.charAt(column-2);\n            range = new Range(cursor.row, column-2, cursor.row, column);\n        }\n        this.session.replace(range, swap);\n        this.session.selection.moveToPosition(range.end);\n    };\n    this.toLowerCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toLowerCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.toUpperCase = function() {\n        var originalRange = this.getSelectionRange();\n        if (this.selection.isEmpty()) {\n            this.selection.selectWord();\n        }\n\n        var range = this.getSelectionRange();\n        var text = this.session.getTextRange(range);\n        this.session.replace(range, text.toUpperCase());\n        this.selection.setSelectionRange(originalRange);\n    };\n    this.indent = function() {\n        var session = this.session;\n        var range = this.getSelectionRange();\n\n        if (range.start.row < range.end.row) {\n            var rows = this.$getSelectedRows();\n            session.indentRows(rows.first, rows.last, \"\\t\");\n            return;\n        } else if (range.start.column < range.end.column) {\n            var text = session.getTextRange(range);\n            if (!/^\\s+$/.test(text)) {\n                var rows = this.$getSelectedRows();\n                session.indentRows(rows.first, rows.last, \"\\t\");\n                return;\n            }\n        }\n        \n        var line = session.getLine(range.start.row);\n        var position = range.start;\n        var size = session.getTabSize();\n        var column = session.documentToScreenColumn(position.row, position.column);\n\n        if (this.session.getUseSoftTabs()) {\n            var count = (size - column % size);\n            var indentString = lang.stringRepeat(\" \", count);\n        } else {\n            var count = column % size;\n            while (line[range.start.column - 1] == \" \" && count) {\n                range.start.column--;\n                count--;\n            }\n            this.selection.setSelectionRange(range);\n            indentString = \"\\t\";\n        }\n        return this.insert(indentString);\n    };\n    this.blockIndent = function() {\n        var rows = this.$getSelectedRows();\n        this.session.indentRows(rows.first, rows.last, \"\\t\");\n    };\n    this.blockOutdent = function() {\n        var selection = this.session.getSelection();\n        this.session.outdentRows(selection.getRange());\n    };\n    this.sortLines = function() {\n        var rows = this.$getSelectedRows();\n        var session = this.session;\n\n        var lines = [];\n        for (var i = rows.first; i <= rows.last; i++)\n            lines.push(session.getLine(i));\n\n        lines.sort(function(a, b) {\n            if (a.toLowerCase() < b.toLowerCase()) return -1;\n            if (a.toLowerCase() > b.toLowerCase()) return 1;\n            return 0;\n        });\n\n        var deleteRange = new Range(0, 0, 0, 0);\n        for (var i = rows.first; i <= rows.last; i++) {\n            var line = session.getLine(i);\n            deleteRange.start.row = i;\n            deleteRange.end.row = i;\n            deleteRange.end.column = line.length;\n            session.replace(deleteRange, lines[i-rows.first]);\n        }\n    };\n    this.toggleCommentLines = function() {\n        var state = this.session.getState(this.getCursorPosition().row);\n        var rows = this.$getSelectedRows();\n        this.session.getMode().toggleCommentLines(state, this.session, rows.first, rows.last);\n    };\n\n    this.toggleBlockComment = function() {\n        var cursor = this.getCursorPosition();\n        var state = this.session.getState(cursor.row);\n        var range = this.getSelectionRange();\n        this.session.getMode().toggleBlockComment(state, this.session, range, cursor);\n    };\n    this.getNumberAt = function(row, column) {\n        var _numberRx = /[\\-]?[0-9]+(?:\\.[0-9]+)?/g;\n        _numberRx.lastIndex = 0;\n\n        var s = this.session.getLine(row);\n        while (_numberRx.lastIndex < column) {\n            var m = _numberRx.exec(s);\n            if(m.index <= column && m.index+m[0].length >= column){\n                var number = {\n                    value: m[0],\n                    start: m.index,\n                    end: m.index+m[0].length\n                };\n                return number;\n            }\n        }\n        return null;\n    };\n    this.modifyNumber = function(amount) {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        var charRange = new Range(row, column-1, row, column);\n\n        var c = this.session.getTextRange(charRange);\n        if (!isNaN(parseFloat(c)) && isFinite(c)) {\n            var nr = this.getNumberAt(row, column);\n            if (nr) {\n                var fp = nr.value.indexOf(\".\") >= 0 ? nr.start + nr.value.indexOf(\".\") + 1 : nr.end;\n                var decimals = nr.start + nr.value.length - fp;\n\n                var t = parseFloat(nr.value);\n                t *= Math.pow(10, decimals);\n\n\n                if(fp !== nr.end && column < fp){\n                    amount *= Math.pow(10, nr.end - column - 1);\n                } else {\n                    amount *= Math.pow(10, nr.end - column);\n                }\n\n                t += amount;\n                t /= Math.pow(10, decimals);\n                var nnr = t.toFixed(decimals);\n                var replaceRange = new Range(row, nr.start, row, nr.end);\n                this.session.replace(replaceRange, nnr);\n                this.moveCursorTo(row, Math.max(nr.start +1, column + nnr.length - nr.value.length));\n\n            }\n        } else {\n            this.toggleWord();\n        }\n    };\n\n    this.$toggleWordPairs = [\n        [\"first\", \"last\"],\n        [\"true\", \"false\"],\n        [\"yes\", \"no\"],\n        [\"width\", \"height\"],\n        [\"top\", \"bottom\"],\n        [\"right\", \"left\"],\n        [\"on\", \"off\"],\n        [\"x\", \"y\"],\n        [\"get\", \"set\"],\n        [\"max\", \"min\"],\n        [\"horizontal\", \"vertical\"],\n        [\"show\", \"hide\"],\n        [\"add\", \"remove\"],\n        [\"up\", \"down\"],\n        [\"before\", \"after\"],\n        [\"even\", \"odd\"],\n        [\"in\", \"out\"],\n        [\"inside\", \"outside\"],\n        [\"next\", \"previous\"],\n        [\"increase\", \"decrease\"],\n        [\"attach\", \"detach\"],\n        [\"&&\", \"||\"],\n        [\"==\", \"!=\"]\n    ];\n\n    this.toggleWord = function () {\n        var row = this.selection.getCursor().row;\n        var column = this.selection.getCursor().column;\n        this.selection.selectWord();\n        var currentState = this.getSelectedText();\n        var currWordStart = this.selection.getWordRange().start.column;\n        var wordParts = currentState.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, '$1 ').split(/\\s/);\n        var delta = column - currWordStart - 1;\n        if (delta < 0) delta = 0;\n        var curLength = 0, itLength = 0;\n        var that = this;\n        if (currentState.match(/[A-Za-z0-9_]+/)) {\n            wordParts.forEach(function (item, i) {\n                itLength = curLength + item.length;\n                if (delta >= curLength && delta <= itLength) {\n                    currentState = item;\n                    that.selection.clearSelection();\n                    that.moveCursorTo(row, curLength + currWordStart);\n                    that.selection.selectTo(row, itLength + currWordStart);\n                }\n                curLength = itLength;\n            });\n        }\n\n        var wordPairs = this.$toggleWordPairs;\n        var reg;\n        for (var i = 0; i < wordPairs.length; i++) {\n            var item = wordPairs[i];\n            for (var j = 0; j <= 1; j++) {\n                var negate = +!j;\n                var firstCondition = currentState.match(new RegExp('^\\\\s?_?(' + lang.escapeRegExp(item[j]) + ')\\\\s?$', 'i'));\n                if (firstCondition) {\n                    var secondCondition = currentState.match(new RegExp('([_]|^|\\\\s)(' + lang.escapeRegExp(firstCondition[1]) + ')($|\\\\s)', 'g'));\n                    if (secondCondition) {\n                        reg = currentState.replace(new RegExp(lang.escapeRegExp(item[j]), 'i'), function (result) {\n                            var res = item[negate];\n                            if (result.toUpperCase() == result) {\n                                res = res.toUpperCase();\n                            } else if (result.charAt(0).toUpperCase() == result.charAt(0)) {\n                                res = res.substr(0, 0) + item[negate].charAt(0).toUpperCase() + res.substr(1);\n                            }\n                            return res;\n                        });\n                        this.insert(reg);\n                        reg = \"\";\n                    }\n                }\n            }\n        }\n    };\n    this.removeLines = function() {\n        var rows = this.$getSelectedRows();\n        this.session.removeFullLines(rows.first, rows.last);\n        this.clearSelection();\n    };\n\n    this.duplicateSelection = function() {\n        var sel = this.selection;\n        var doc = this.session;\n        var range = sel.getRange();\n        var reverse = sel.isBackwards();\n        if (range.isEmpty()) {\n            var row = range.start.row;\n            doc.duplicateLines(row, row);\n        } else {\n            var point = reverse ? range.start : range.end;\n            var endPoint = doc.insert(point, doc.getTextRange(range), false);\n            range.start = point;\n            range.end = endPoint;\n\n            sel.setSelectionRange(range, reverse);\n        }\n    };\n    this.moveLinesDown = function() {\n        this.$moveLines(1, false);\n    };\n    this.moveLinesUp = function() {\n        this.$moveLines(-1, false);\n    };\n    this.moveText = function(range, toPosition, copy) {\n        return this.session.moveText(range, toPosition, copy);\n    };\n    this.copyLinesUp = function() {\n        this.$moveLines(-1, true);\n    };\n    this.copyLinesDown = function() {\n        this.$moveLines(1, true);\n    };\n    this.$moveLines = function(dir, copy) {\n        var rows, moved;\n        var selection = this.selection;\n        if (!selection.inMultiSelectMode || this.inVirtualSelectionMode) {\n            var range = selection.toOrientedRange();\n            rows = this.$getSelectedRows(range);\n            moved = this.session.$moveLines(rows.first, rows.last, copy ? 0 : dir);\n            if (copy && dir == -1) moved = 0;\n            range.moveBy(moved, 0);\n            selection.fromOrientedRange(range);\n        } else {\n            var ranges = selection.rangeList.ranges;\n            selection.rangeList.detach(this.session);\n            this.inVirtualSelectionMode = true;\n            \n            var diff = 0;\n            var totalDiff = 0;\n            var l = ranges.length;\n            for (var i = 0; i < l; i++) {\n                var rangeIndex = i;\n                ranges[i].moveBy(diff, 0);\n                rows = this.$getSelectedRows(ranges[i]);\n                var first = rows.first;\n                var last = rows.last;\n                while (++i < l) {\n                    if (totalDiff) ranges[i].moveBy(totalDiff, 0);\n                    var subRows = this.$getSelectedRows(ranges[i]);\n                    if (copy && subRows.first != last)\n                        break;\n                    else if (!copy && subRows.first > last + 1)\n                        break;\n                    last = subRows.last;\n                }\n                i--;\n                diff = this.session.$moveLines(first, last, copy ? 0 : dir);\n                if (copy && dir == -1) rangeIndex = i + 1;\n                while (rangeIndex <= i) {\n                    ranges[rangeIndex].moveBy(diff, 0);\n                    rangeIndex++;\n                }\n                if (!copy) diff = 0;\n                totalDiff += diff;\n            }\n            \n            selection.fromOrientedRange(selection.ranges[0]);\n            selection.rangeList.attach(this.session);\n            this.inVirtualSelectionMode = false;\n        }\n    };\n    this.$getSelectedRows = function(range) {\n        range = (range || this.getSelectionRange()).collapseRows();\n\n        return {\n            first: this.session.getRowFoldStart(range.start.row),\n            last: this.session.getRowFoldEnd(range.end.row)\n        };\n    };\n\n    this.onCompositionStart = function(compositionState) {\n        this.renderer.showComposition(compositionState);\n    };\n\n    this.onCompositionUpdate = function(text) {\n        this.renderer.setCompositionText(text);\n    };\n\n    this.onCompositionEnd = function() {\n        this.renderer.hideComposition();\n    };\n    this.getFirstVisibleRow = function() {\n        return this.renderer.getFirstVisibleRow();\n    };\n    this.getLastVisibleRow = function() {\n        return this.renderer.getLastVisibleRow();\n    };\n    this.isRowVisible = function(row) {\n        return (row >= this.getFirstVisibleRow() && row <= this.getLastVisibleRow());\n    };\n    this.isRowFullyVisible = function(row) {\n        return (row >= this.renderer.getFirstFullyVisibleRow() && row <= this.renderer.getLastFullyVisibleRow());\n    };\n    this.$getVisibleRowCount = function() {\n        return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;\n    };\n\n    this.$moveByPage = function(dir, select) {\n        var renderer = this.renderer;\n        var config = this.renderer.layerConfig;\n        var rows = dir * Math.floor(config.height / config.lineHeight);\n\n        if (select === true) {\n            this.selection.$moveSelection(function(){\n                this.moveCursorBy(rows, 0);\n            });\n        } else if (select === false) {\n            this.selection.moveCursorBy(rows, 0);\n            this.selection.clearSelection();\n        }\n\n        var scrollTop = renderer.scrollTop;\n\n        renderer.scrollBy(0, rows * config.lineHeight);\n        if (select != null)\n            renderer.scrollCursorIntoView(null, 0.5);\n\n        renderer.animateScrolling(scrollTop);\n    };\n    this.selectPageDown = function() {\n        this.$moveByPage(1, true);\n    };\n    this.selectPageUp = function() {\n        this.$moveByPage(-1, true);\n    };\n    this.gotoPageDown = function() {\n       this.$moveByPage(1, false);\n    };\n    this.gotoPageUp = function() {\n        this.$moveByPage(-1, false);\n    };\n    this.scrollPageDown = function() {\n        this.$moveByPage(1);\n    };\n    this.scrollPageUp = function() {\n        this.$moveByPage(-1);\n    };\n    this.scrollToRow = function(row) {\n        this.renderer.scrollToRow(row);\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        this.renderer.scrollToLine(line, center, animate, callback);\n    };\n    this.centerSelection = function() {\n        var range = this.getSelectionRange();\n        var pos = {\n            row: Math.floor(range.start.row + (range.end.row - range.start.row) / 2),\n            column: Math.floor(range.start.column + (range.end.column - range.start.column) / 2)\n        };\n        this.renderer.alignCursor(pos, 0.5);\n    };\n    this.getCursorPosition = function() {\n        return this.selection.getCursor();\n    };\n    this.getCursorPositionScreen = function() {\n        return this.session.documentToScreenPosition(this.getCursorPosition());\n    };\n    this.getSelectionRange = function() {\n        return this.selection.getRange();\n    };\n    this.selectAll = function() {\n        this.selection.selectAll();\n    };\n    this.clearSelection = function() {\n        this.selection.clearSelection();\n    };\n    this.moveCursorTo = function(row, column) {\n        this.selection.moveCursorTo(row, column);\n    };\n    this.moveCursorToPosition = function(pos) {\n        this.selection.moveCursorToPosition(pos);\n    };\n    this.jumpToMatching = function(select, expand) {\n        var cursor = this.getCursorPosition();\n        var iterator = new TokenIterator(this.session, cursor.row, cursor.column);\n        var prevToken = iterator.getCurrentToken();\n        var token = prevToken || iterator.stepForward();\n\n        if (!token) return;\n        var matchType;\n        var found = false;\n        var depth = {};\n        var i = cursor.column - token.start;\n        var bracketType;\n        var brackets = {\n            \")\": \"(\",\n            \"(\": \"(\",\n            \"]\": \"[\",\n            \"[\": \"[\",\n            \"{\": \"{\",\n            \"}\": \"{\"\n        };\n        \n        do {\n            if (token.value.match(/[{}()\\[\\]]/g)) {\n                for (; i < token.value.length && !found; i++) {\n                    if (!brackets[token.value[i]]) {\n                        continue;\n                    }\n\n                    bracketType = brackets[token.value[i]] + '.' + token.type.replace(\"rparen\", \"lparen\");\n\n                    if (isNaN(depth[bracketType])) {\n                        depth[bracketType] = 0;\n                    }\n\n                    switch (token.value[i]) {\n                        case '(':\n                        case '[':\n                        case '{':\n                            depth[bracketType]++;\n                            break;\n                        case ')':\n                        case ']':\n                        case '}':\n                            depth[bracketType]--;\n\n                            if (depth[bracketType] === -1) {\n                                matchType = 'bracket';\n                                found = true;\n                            }\n                        break;\n                    }\n                }\n            }\n            else if (token.type.indexOf('tag-name') !== -1) {\n                if (isNaN(depth[token.value])) {\n                    depth[token.value] = 0;\n                }\n                \n                if (prevToken.value === '<') {\n                    depth[token.value]++;\n                }\n                else if (prevToken.value === '</') {\n                    depth[token.value]--;\n                }\n                \n                if (depth[token.value] === -1) {\n                    matchType = 'tag';\n                    found = true;\n                }\n            }\n\n            if (!found) {\n                prevToken = token;\n                token = iterator.stepForward();\n                i = 0;\n            }\n        } while (token && !found);\n        if (!matchType)\n            return;\n\n        var range, pos;\n        if (matchType === 'bracket') {\n            range = this.session.getBracketRange(cursor);\n            if (!range) {\n                range = new Range(\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1,\n                    iterator.getCurrentTokenRow(),\n                    iterator.getCurrentTokenColumn() + i - 1\n                );\n                pos = range.start;\n                if (expand || pos.row === cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    range = this.session.getBracketRange(pos);\n            }\n        }\n        else if (matchType === 'tag') {\n            if (token && token.type.indexOf('tag-name') !== -1) \n                var tag = token.value;\n            else\n                return;\n\n            range = new Range(\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2,\n                iterator.getCurrentTokenRow(),\n                iterator.getCurrentTokenColumn() - 2\n            );\n            if (range.compare(cursor.row, cursor.column) === 0) {\n                found = false;\n                do {\n                    token = prevToken;\n                    prevToken = iterator.stepBackward();\n                    \n                    if (prevToken) {\n                        if (prevToken.type.indexOf('tag-close') !== -1) {\n                            range.setEnd(iterator.getCurrentTokenRow(), iterator.getCurrentTokenColumn() + 1);\n                        }\n\n                        if (token.value === tag && token.type.indexOf('tag-name') !== -1) {\n                            if (prevToken.value === '<') {\n                                depth[tag]++;\n                            }\n                            else if (prevToken.value === '</') {\n                                depth[tag]--;\n                            }\n                            \n                            if (depth[tag] === 0)\n                                found = true;\n                        }\n                    }\n                } while (prevToken && !found);\n            }\n            if (token && token.type.indexOf('tag-name')) {\n                pos = range.start;\n                if (pos.row == cursor.row && Math.abs(pos.column - cursor.column) < 2)\n                    pos = range.end;\n            }\n        }\n\n        pos = range && range.cursor || pos;\n        if (pos) {\n            if (select) {\n                if (range && expand) {\n                    this.selection.setRange(range);\n                } else if (range && range.isEqual(this.getSelectionRange())) {\n                    this.clearSelection();\n                } else {\n                    this.selection.selectTo(pos.row, pos.column);\n                }\n            } else {\n                this.selection.moveTo(pos.row, pos.column);\n            }\n        }\n    };\n    this.gotoLine = function(lineNumber, column, animate) {\n        this.selection.clearSelection();\n        this.session.unfold({row: lineNumber - 1, column: column || 0});\n        this.exitMultiSelectMode && this.exitMultiSelectMode();\n        this.moveCursorTo(lineNumber - 1, column || 0);\n\n        if (!this.isRowFullyVisible(lineNumber - 1))\n            this.scrollToLine(lineNumber - 1, true, animate);\n    };\n    this.navigateTo = function(row, column) {\n        this.selection.moveTo(row, column);\n    };\n    this.navigateUp = function(times) {\n        if (this.selection.isMultiLine() && !this.selection.isBackwards()) {\n            var selectionStart = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionStart);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(-times || -1, 0);\n    };\n    this.navigateDown = function(times) {\n        if (this.selection.isMultiLine() && this.selection.isBackwards()) {\n            var selectionEnd = this.selection.anchor.getPosition();\n            return this.moveCursorToPosition(selectionEnd);\n        }\n        this.selection.clearSelection();\n        this.selection.moveCursorBy(times || 1, 0);\n    };\n    this.navigateLeft = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionStart = this.getSelectionRange().start;\n            this.moveCursorToPosition(selectionStart);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorLeft();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateRight = function(times) {\n        if (!this.selection.isEmpty()) {\n            var selectionEnd = this.getSelectionRange().end;\n            this.moveCursorToPosition(selectionEnd);\n        }\n        else {\n            times = times || 1;\n            while (times--) {\n                this.selection.moveCursorRight();\n            }\n        }\n        this.clearSelection();\n    };\n    this.navigateLineStart = function() {\n        this.selection.moveCursorLineStart();\n        this.clearSelection();\n    };\n    this.navigateLineEnd = function() {\n        this.selection.moveCursorLineEnd();\n        this.clearSelection();\n    };\n    this.navigateFileEnd = function() {\n        this.selection.moveCursorFileEnd();\n        this.clearSelection();\n    };\n    this.navigateFileStart = function() {\n        this.selection.moveCursorFileStart();\n        this.clearSelection();\n    };\n    this.navigateWordRight = function() {\n        this.selection.moveCursorWordRight();\n        this.clearSelection();\n    };\n    this.navigateWordLeft = function() {\n        this.selection.moveCursorWordLeft();\n        this.clearSelection();\n    };\n    this.replace = function(replacement, options) {\n        if (options)\n            this.$search.set(options);\n\n        var range = this.$search.find(this.session);\n        var replaced = 0;\n        if (!range)\n            return replaced;\n\n        if (this.$tryReplace(range, replacement)) {\n            replaced = 1;\n        }\n\n        this.selection.setSelectionRange(range);\n        this.renderer.scrollSelectionIntoView(range.start, range.end);\n\n        return replaced;\n    };\n    this.replaceAll = function(replacement, options) {\n        if (options) {\n            this.$search.set(options);\n        }\n\n        var ranges = this.$search.findAll(this.session);\n        var replaced = 0;\n        if (!ranges.length)\n            return replaced;\n\n        var selection = this.getSelectionRange();\n        this.selection.moveTo(0, 0);\n\n        for (var i = ranges.length - 1; i >= 0; --i) {\n            if(this.$tryReplace(ranges[i], replacement)) {\n                replaced++;\n            }\n        }\n\n        this.selection.setSelectionRange(selection);\n\n        return replaced;\n    };\n\n    this.$tryReplace = function(range, replacement) {\n        var input = this.session.getTextRange(range);\n        replacement = this.$search.replace(input, replacement);\n        if (replacement !== null) {\n            range.end = this.session.replace(range, replacement);\n            return range;\n        } else {\n            return null;\n        }\n    };\n    this.getLastSearchOptions = function() {\n        return this.$search.getOptions();\n    };\n    this.find = function(needle, options, animate) {\n        if (!options)\n            options = {};\n\n        if (typeof needle == \"string\" || needle instanceof RegExp)\n            options.needle = needle;\n        else if (typeof needle == \"object\")\n            oop.mixin(options, needle);\n\n        var range = this.selection.getRange();\n        if (options.needle == null) {\n            needle = this.session.getTextRange(range)\n                || this.$search.$options.needle;\n            if (!needle) {\n                range = this.session.getWordRange(range.start.row, range.start.column);\n                needle = this.session.getTextRange(range);\n            }\n            this.$search.set({needle: needle});\n        }\n\n        this.$search.set(options);\n        if (!options.start)\n            this.$search.set({start: range});\n\n        var newRange = this.$search.find(this.session);\n        if (options.preventScroll)\n            return newRange;\n        if (newRange) {\n            this.revealRange(newRange, animate);\n            return newRange;\n        }\n        if (options.backwards)\n            range.start = range.end;\n        else\n            range.end = range.start;\n        this.selection.setRange(range);\n    };\n    this.findNext = function(options, animate) {\n        this.find({skipCurrent: true, backwards: false}, options, animate);\n    };\n    this.findPrevious = function(options, animate) {\n        this.find(options, {skipCurrent: true, backwards: true}, animate);\n    };\n\n    this.revealRange = function(range, animate) {\n        this.session.unfold(range);\n        this.selection.setSelectionRange(range);\n\n        var scrollTop = this.renderer.scrollTop;\n        this.renderer.scrollSelectionIntoView(range.start, range.end, 0.5);\n        if (animate !== false)\n            this.renderer.animateScrolling(scrollTop);\n    };\n    this.undo = function() {\n        this.session.getUndoManager().undo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.redo = function() {\n        this.session.getUndoManager().redo(this.session);\n        this.renderer.scrollCursorIntoView(null, 0.5);\n    };\n    this.destroy = function() {\n        if (this.$toDestroy) {\n            this.$toDestroy.forEach(function(el) {\n                el.destroy();\n            });\n            this.$toDestroy = null;\n        }\n        if (this.$mouseHandler)\n            this.$mouseHandler.destroy();\n        this.renderer.destroy();\n        this._signal(\"destroy\", this);\n        if (this.session)\n            this.session.destroy();\n        if (this._$emitInputEvent)\n            this._$emitInputEvent.cancel();\n        this.removeAllListeners();\n    };\n    this.setAutoScrollEditorIntoView = function(enable) {\n        if (!enable)\n            return;\n        var rect;\n        var self = this;\n        var shouldScroll = false;\n        if (!this.$scrollAnchor)\n            this.$scrollAnchor = document.createElement(\"div\");\n        var scrollAnchor = this.$scrollAnchor;\n        scrollAnchor.style.cssText = \"position:absolute\";\n        this.container.insertBefore(scrollAnchor, this.container.firstChild);\n        var onChangeSelection = this.on(\"changeSelection\", function() {\n            shouldScroll = true;\n        });\n        var onBeforeRender = this.renderer.on(\"beforeRender\", function() {\n            if (shouldScroll)\n                rect = self.renderer.container.getBoundingClientRect();\n        });\n        var onAfterRender = this.renderer.on(\"afterRender\", function() {\n            if (shouldScroll && rect && (self.isFocused()\n                || self.searchBox && self.searchBox.isFocused())\n            ) {\n                var renderer = self.renderer;\n                var pos = renderer.$cursorLayer.$pixelPos;\n                var config = renderer.layerConfig;\n                var top = pos.top - config.offset;\n                if (pos.top >= 0 && top + rect.top < 0) {\n                    shouldScroll = true;\n                } else if (pos.top < config.height &&\n                    pos.top + rect.top + config.lineHeight > window.innerHeight) {\n                    shouldScroll = false;\n                } else {\n                    shouldScroll = null;\n                }\n                if (shouldScroll != null) {\n                    scrollAnchor.style.top = top + \"px\";\n                    scrollAnchor.style.left = pos.left + \"px\";\n                    scrollAnchor.style.height = config.lineHeight + \"px\";\n                    scrollAnchor.scrollIntoView(shouldScroll);\n                }\n                shouldScroll = rect = null;\n            }\n        });\n        this.setAutoScrollEditorIntoView = function(enable) {\n            if (enable)\n                return;\n            delete this.setAutoScrollEditorIntoView;\n            this.off(\"changeSelection\", onChangeSelection);\n            this.renderer.off(\"afterRender\", onAfterRender);\n            this.renderer.off(\"beforeRender\", onBeforeRender);\n        };\n    };\n\n\n    this.$resetCursorStyle = function() {\n        var style = this.$cursorStyle || \"ace\";\n        var cursorLayer = this.renderer.$cursorLayer;\n        if (!cursorLayer)\n            return;\n        cursorLayer.setSmoothBlinking(/smooth/.test(style));\n        cursorLayer.isBlinking = !this.$readOnly && style != \"wide\";\n        dom.setCssClass(cursorLayer.element, \"ace_slim-cursors\", /slim/.test(style));\n    };\n    this.prompt = function(message, options, callback) {\n        var editor = this;\n        config.loadModule(\"./ext/prompt\", function (module) {\n            module.prompt(editor, message, options, callback);\n        });\n    };\n\n}).call(Editor.prototype);\n\n\n\nconfig.defineOptions(Editor.prototype, \"editor\", {\n    selectionStyle: {\n        set: function(style) {\n            this.onSelectionChange();\n            this._signal(\"changeSelectionStyle\", {data: style});\n        },\n        initialValue: \"line\"\n    },\n    highlightActiveLine: {\n        set: function() {this.$updateHighlightActiveLine();},\n        initialValue: true\n    },\n    highlightSelectedWord: {\n        set: function(shouldHighlight) {this.$onSelectionChange();},\n        initialValue: true\n    },\n    readOnly: {\n        set: function(readOnly) {\n            this.textInput.setReadOnly(readOnly);\n            this.$resetCursorStyle(); \n        },\n        initialValue: false\n    },\n    copyWithEmptySelection: {\n        set: function(value) {\n            this.textInput.setCopyWithEmptySelection(value);\n        },\n        initialValue: false\n    },\n    cursorStyle: {\n        set: function(val) { this.$resetCursorStyle(); },\n        values: [\"ace\", \"slim\", \"smooth\", \"wide\"],\n        initialValue: \"ace\"\n    },\n    mergeUndoDeltas: {\n        values: [false, true, \"always\"],\n        initialValue: true\n    },\n    behavioursEnabled: {initialValue: true},\n    wrapBehavioursEnabled: {initialValue: true},\n    enableAutoIndent: {initialValue: true},\n    autoScrollEditorIntoView: {\n        set: function(val) {this.setAutoScrollEditorIntoView(val);}\n    },\n    keyboardHandler: {\n        set: function(val) { this.setKeyboardHandler(val); },\n        get: function() { return this.$keybindingId; },\n        handlesSet: true\n    },\n    value: {\n        set: function(val) { this.session.setValue(val); },\n        get: function() { return this.getValue(); },\n        handlesSet: true,\n        hidden: true\n    },\n    session: {\n        set: function(val) { this.setSession(val); },\n        get: function() { return this.session; },\n        handlesSet: true,\n        hidden: true\n    },\n    \n    showLineNumbers: {\n        set: function(show) {\n            this.renderer.$gutterLayer.setShowLineNumbers(show);\n            this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER);\n            if (show && this.$relativeLineNumbers)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        },\n        initialValue: true\n    },\n    relativeLineNumbers: {\n        set: function(value) {\n            if (this.$showLineNumbers && value)\n                relativeNumberRenderer.attach(this);\n            else\n                relativeNumberRenderer.detach(this);\n        }\n    },\n    placeholder: {\n        set: function(message) {\n            if (!this.$updatePlaceholder) {\n                this.$updatePlaceholder = function() {\n                    var value = this.session && (this.renderer.$composition || this.getValue());\n                    if (value && this.renderer.placeholderNode) {\n                        this.renderer.off(\"afterRender\", this.$updatePlaceholder);\n                        dom.removeCssClass(this.container, \"ace_hasPlaceholder\");\n                        this.renderer.placeholderNode.remove();\n                        this.renderer.placeholderNode = null;\n                    } else if (!value && !this.renderer.placeholderNode) {\n                        this.renderer.on(\"afterRender\", this.$updatePlaceholder);\n                        dom.addCssClass(this.container, \"ace_hasPlaceholder\");\n                        var el = dom.createElement(\"div\");\n                        el.className = \"ace_placeholder\";\n                        el.textContent = this.$placeholder || \"\";\n                        this.renderer.placeholderNode = el;\n                        this.renderer.content.appendChild(this.renderer.placeholderNode);\n                    } else if (!value && this.renderer.placeholderNode) {\n                        this.renderer.placeholderNode.textContent = this.$placeholder || \"\";\n                    }\n                }.bind(this);\n                this.on(\"input\", this.$updatePlaceholder);\n            }\n            this.$updatePlaceholder();\n        }\n    },\n\n    hScrollBarAlwaysVisible: \"renderer\",\n    vScrollBarAlwaysVisible: \"renderer\",\n    highlightGutterLine: \"renderer\",\n    animatedScroll: \"renderer\",\n    showInvisibles: \"renderer\",\n    showPrintMargin: \"renderer\",\n    printMarginColumn: \"renderer\",\n    printMargin: \"renderer\",\n    fadeFoldWidgets: \"renderer\",\n    showFoldWidgets: \"renderer\",\n    displayIndentGuides: \"renderer\",\n    showGutter: \"renderer\",\n    fontSize: \"renderer\",\n    fontFamily: \"renderer\",\n    maxLines: \"renderer\",\n    minLines: \"renderer\",\n    scrollPastEnd: \"renderer\",\n    fixedWidthGutter: \"renderer\",\n    theme: \"renderer\",\n    hasCssTransforms: \"renderer\",\n    maxPixelHeight: \"renderer\",\n    useTextareaForIME: \"renderer\",\n\n    scrollSpeed: \"$mouseHandler\",\n    dragDelay: \"$mouseHandler\",\n    dragEnabled: \"$mouseHandler\",\n    focusTimeout: \"$mouseHandler\",\n    tooltipFollowsMouse: \"$mouseHandler\",\n\n    firstLineNumber: \"session\",\n    overwrite: \"session\",\n    newLineMode: \"session\",\n    useWorker: \"session\",\n    useSoftTabs: \"session\",\n    navigateWithinSoftTabs: \"session\",\n    tabSize: \"session\",\n    wrap: \"session\",\n    indentedSoftWrap: \"session\",\n    foldStyle: \"session\",\n    mode: \"session\"\n});\n\n\nvar relativeNumberRenderer = {\n    getText: function(session, row) {\n        return (Math.abs(session.selection.lead.row - row) || (row + 1 + (row < 9 ? \"\\xb7\" : \"\"))) + \"\";\n    },\n    getWidth: function(session, lastLineNumber, config) {\n        return Math.max(\n            lastLineNumber.toString().length,\n            (config.lastRow + 1).toString().length,\n            2\n        ) * config.characterWidth;\n    },\n    update: function(e, editor) {\n        editor.renderer.$loop.schedule(editor.renderer.CHANGE_GUTTER);\n    },\n    attach: function(editor) {\n        editor.renderer.$gutterLayer.$renderer = this;\n        editor.on(\"changeSelection\", this.update);\n        this.update(null, editor);\n    },\n    detach: function(editor) {\n        if (editor.renderer.$gutterLayer.$renderer == this)\n            editor.renderer.$gutterLayer.$renderer = null;\n        editor.off(\"changeSelection\", this.update);\n        this.update(null, editor);\n    }\n};\n\nexports.Editor = Editor;\n});\n\nace.define(\"ace/undomanager\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar UndoManager = function() {\n    this.$maxRev = 0;\n    this.$fromUndo = false;\n    this.reset();\n};\n\n(function() {\n    \n    this.addSession = function(session) {\n        this.$session = session;\n    };\n    this.add = function(delta, allowMerge, session) {\n        if (this.$fromUndo) return;\n        if (delta == this.$lastDelta) return;\n        if (!this.$keepRedoStack) this.$redoStack.length = 0;\n        if (allowMerge === false || !this.lastDeltas) {\n            this.lastDeltas = [];\n            this.$undoStack.push(this.lastDeltas);\n            delta.id = this.$rev = ++this.$maxRev;\n        }\n        if (delta.action == \"remove\" || delta.action == \"insert\")\n            this.$lastDelta = delta;\n        this.lastDeltas.push(delta);\n    };\n    \n    this.addSelection = function(selection, rev) {\n        this.selections.push({\n            value: selection,\n            rev: rev || this.$rev\n        });\n    };\n    \n    this.startNewGroup = function() {\n        this.lastDeltas = null;\n        return this.$rev;\n    };\n    \n    this.markIgnored = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id <= from)\n                break;\n            if (delta.id < to)\n                delta.ignore = true;\n        }\n        this.lastDeltas = null;\n    };\n    \n    this.getSelection = function(rev, after) {\n        var stack = this.selections;\n        for (var i = stack.length; i--;) {\n            var selection = stack[i];\n            if (selection.rev < rev) {\n                if (after)\n                    selection = stack[i + 1];\n                return selection;\n            }\n        }\n    };\n    \n    this.getRevision = function() {\n        return this.$rev;\n    };\n    \n    this.getDeltas = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        var stack = this.$undoStack;\n        var end = null, start = 0;\n        for (var i = stack.length; i--;) {\n            var delta = stack[i][0];\n            if (delta.id < to && !end)\n                end = i+1;\n            if (delta.id <= from) {\n                start = i + 1;\n                break;\n            }\n        }\n        return stack.slice(start, end);\n    };\n    \n    this.getChangedRanges = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    \n    this.getChangedLines = function(from, to) {\n        if (to == null) to = this.$rev + 1;\n        \n    };\n    this.undo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        var stack = this.$undoStack;\n        \n        if (!rearrangeUndoStack(stack, stack.length))\n            return;\n        \n        if (!session)\n            session = this.$session;\n        \n        if (this.$redoStackBaseRev !== this.$rev && this.$redoStack.length)\n            this.$redoStack = [];\n        \n        this.$fromUndo = true;\n        \n        var deltaSet = stack.pop();\n        var undoSelectionRange = null;\n        if (deltaSet) {\n            undoSelectionRange = session.undoChanges(deltaSet, dontSelect);\n            this.$redoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        \n        this.$fromUndo = false;\n\n        return undoSelectionRange;\n    };\n    this.redo = function(session, dontSelect) {\n        this.lastDeltas = null;\n        \n        if (!session)\n            session = this.$session;\n        \n        this.$fromUndo = true;\n        if (this.$redoStackBaseRev != this.$rev) {\n            var diff = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);\n            rebaseRedoStack(this.$redoStack, diff);\n            this.$redoStackBaseRev = this.$rev;\n            this.$redoStack.forEach(function(x) {\n                x[0].id = ++this.$maxRev;\n            }, this);\n        }\n        var deltaSet = this.$redoStack.pop();\n        var redoSelectionRange = null;\n        \n        if (deltaSet) {\n            redoSelectionRange = session.redoChanges(deltaSet, dontSelect);\n            this.$undoStack.push(deltaSet);\n            this.$syncRev();\n        }\n        this.$fromUndo = false;\n        \n        return redoSelectionRange;\n    };\n    \n    this.$syncRev = function() {\n        var stack = this.$undoStack;\n        var nextDelta = stack[stack.length - 1];\n        var id = nextDelta && nextDelta[0].id || 0;\n        this.$redoStackBaseRev = id;\n        this.$rev = id;\n    };\n    this.reset = function() {\n        this.lastDeltas = null;\n        this.$lastDelta = null;\n        this.$undoStack = [];\n        this.$redoStack = [];\n        this.$rev = 0;\n        this.mark = 0;\n        this.$redoStackBaseRev = this.$rev;\n        this.selections = [];\n    };\n    this.canUndo = function() {\n        return this.$undoStack.length > 0;\n    };\n    this.canRedo = function() {\n        return this.$redoStack.length > 0;\n    };\n    this.bookmark = function(rev) {\n        if (rev == undefined)\n            rev = this.$rev;\n        this.mark = rev;\n    };\n    this.isAtBookmark = function() {\n        return this.$rev === this.mark;\n    };\n    \n    this.toJSON = function() {\n        \n    };\n    \n    this.fromJSON = function() {\n        \n    };\n    \n    this.hasUndo = this.canUndo;\n    this.hasRedo = this.canRedo;\n    this.isClean = this.isAtBookmark;\n    this.markClean = this.bookmark;\n    \n    this.$prettyPrint = function(delta) {\n        if (delta) return stringifyDelta(delta);\n        return stringifyDelta(this.$undoStack) + \"\\n---\\n\" + stringifyDelta(this.$redoStack);\n    };\n}).call(UndoManager.prototype);\n\nfunction rearrangeUndoStack(stack, pos) {\n    for (var i = pos; i--; ) {\n        var deltaSet = stack[i];\n        if (deltaSet && !deltaSet[0].ignore) {\n            while(i < pos - 1) {\n                var swapped = swapGroups(stack[i], stack[i + 1]);\n                stack[i] = swapped[0];\n                stack[i + 1] = swapped[1];\n                i++;\n            }\n            return true;\n        }\n    }\n}\n\nvar Range = require(\"./range\").Range;\nvar cmp = Range.comparePoints;\nvar comparePoints = Range.comparePoints;\n\nfunction $updateMarkers(delta) {\n    var isInsert = delta.action == \"insert\";\n    var start = delta.start;\n    var end = delta.end;\n    var rowShift = (end.row - start.row) * (isInsert ? 1 : -1);\n    var colShift = (end.column - start.column) * (isInsert ? 1 : -1);\n    if (isInsert) end = start;\n\n    for (var i in this.marks) {\n        var point = this.marks[i];\n        var cmp = comparePoints(point, start);\n        if (cmp < 0) {\n            continue; // delta starts after the range\n        }\n        if (cmp === 0) {\n            if (isInsert) {\n                if (point.bias == 1) {\n                    cmp = 1;\n                }\n                else {\n                    point.bias == -1;\n                    continue;\n                }\n            }\n        }\n        var cmp2 = isInsert ? cmp : comparePoints(point, end);\n        if (cmp2 > 0) {\n            point.row += rowShift;\n            point.column += point.row == end.row ? colShift : 0;\n            continue;\n        }\n        if (!isInsert && cmp2 <= 0) {\n            point.row = start.row;\n            point.column = start.column;\n            if (cmp2 === 0)\n                point.bias = 1;\n        }\n    }\n}\n\n\n\nfunction clonePos(pos) {\n    return {row: pos.row,column: pos.column};\n}\nfunction cloneDelta(d) {\n    return {\n        start: clonePos(d.start),\n        end: clonePos(d.end),\n        action: d.action,\n        lines: d.lines.slice()\n    };\n}\nfunction stringifyDelta(d) {\n    d = d || this;\n    if (Array.isArray(d)) {\n        return d.map(stringifyDelta).join(\"\\n\");\n    }\n    var type = \"\";\n    if (d.action) {\n        type = d.action == \"insert\" ? \"+\" : \"-\";\n        type += \"[\" + d.lines + \"]\";\n    } else if (d.value) {\n        if (Array.isArray(d.value)) {\n            type = d.value.map(stringifyRange).join(\"\\n\");\n        } else {\n            type = stringifyRange(d.value);\n        }\n    }\n    if (d.start) {\n        type += stringifyRange(d);\n    }\n    if (d.id || d.rev) {\n        type += \"\\t(\" + (d.id || d.rev) + \")\";\n    }\n    return type;\n}\nfunction stringifyRange(r) {\n    return r.start.row + \":\" + r.start.column \n        + \"=>\" + r.end.row + \":\" + r.end.column;\n}\n\nfunction swap(d1, d2) {\n    var i1 = d1.action == \"insert\";\n    var i2 = d2.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d2.start, d1.end) >= 0) {\n            shift(d2, d1, -1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.start, d1.start) <= 0) {\n            shift(d1, d2, +1);\n        } else {\n            return null;\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(d2.start, d1.start) >= 0) {\n            shift(d2, d1, +1);\n        } else if (cmp(d2.end, d1.start) <= 0) {\n            shift(d1, d2, -1);\n        } else {\n            return null;\n        }\n    }\n    return [d2, d1];\n}\nfunction swapGroups(ds1, ds2) {\n    for (var i = ds1.length; i--; ) {\n        for (var j = 0; j < ds2.length; j++) {\n            if (!swap(ds1[i], ds2[j])) {\n                while (i < ds1.length) {\n                    while (j--) {\n                        swap(ds2[j], ds1[i]);\n                    }\n                    j = ds2.length;\n                    i++;\n                }                \n                return [ds1, ds2];\n            }\n        }\n    }\n    ds1.selectionBefore = ds2.selectionBefore = \n    ds1.selectionAfter = ds2.selectionAfter = null;\n    return [ds2, ds1];\n}\nfunction xform(d1, c1) {\n    var i1 = d1.action == \"insert\";\n    var i2 = c1.action == \"insert\";\n    \n    if (i1 && i2) {\n        if (cmp(d1.start, c1.start) < 0) {\n            shift(c1, d1, 1);\n        } else {\n            shift(d1, c1, 1);\n        }\n    } else if (i1 && !i2) {\n        if (cmp(d1.start, c1.end) >= 0) {\n            shift(d1, c1, -1);\n        } else if (cmp(d1.start, c1.start) <= 0) {\n            shift(c1, d1, +1);\n        } else {\n            shift(d1, Range.fromPoints(c1.start, d1.start), -1);\n            shift(c1, d1, +1);\n        }\n    } else if (!i1 && i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.start, d1.start) <= 0) {\n            shift(d1, c1, +1);\n        } else {\n            shift(c1, Range.fromPoints(d1.start, c1.start), -1);\n            shift(d1, c1, +1);\n        }\n    } else if (!i1 && !i2) {\n        if (cmp(c1.start, d1.end) >= 0) {\n            shift(c1, d1, -1);\n        } else if (cmp(c1.end, d1.start) <= 0) {\n            shift(d1, c1, -1);\n        } else {\n            var before, after;\n            if (cmp(d1.start, c1.start) < 0) {\n                before = d1;\n                d1 = splitDelta(d1, c1.start);\n            }\n            if (cmp(d1.end, c1.end) > 0) {\n                after = splitDelta(d1, c1.end);\n            }\n\n            shiftPos(c1.end, d1.start, d1.end, -1);\n            if (after && !before) {\n                d1.lines = after.lines;\n                d1.start = after.start;\n                d1.end = after.end;\n                after = d1;\n            }\n\n            return [c1, before, after].filter(Boolean);\n        }\n    }\n    return [c1, d1];\n}\n    \nfunction shift(d1, d2, dir) {\n    shiftPos(d1.start, d2.start, d2.end, dir);\n    shiftPos(d1.end, d2.start, d2.end, dir);\n}\nfunction shiftPos(pos, start, end, dir) {\n    if (pos.row == (dir == 1 ? start : end).row) {\n        pos.column += dir * (end.column - start.column);\n    }\n    pos.row += dir * (end.row - start.row);\n}\nfunction splitDelta(c, pos) {\n    var lines = c.lines;\n    var end = c.end;\n    c.end = clonePos(pos);    \n    var rowsBefore = c.end.row - c.start.row;\n    var otherLines = lines.splice(rowsBefore, lines.length);\n    \n    var col = rowsBefore ? pos.column : pos.column - c.start.column;\n    lines.push(otherLines[0].substring(0, col));\n    otherLines[0] = otherLines[0].substr(col)   ; \n    var rest = {\n        start: clonePos(pos),\n        end: end,\n        lines: otherLines,\n        action: c.action\n    };\n    return rest;\n}\n\nfunction moveDeltasByOne(redoStack, d) {\n    d = cloneDelta(d);\n    for (var j = redoStack.length; j--;) {\n        var deltaSet = redoStack[j];\n        for (var i = 0; i < deltaSet.length; i++) {\n            var x = deltaSet[i];\n            var xformed = xform(x, d);\n            d = xformed[0];\n            if (xformed.length != 2) {\n                if (xformed[2]) {\n                    deltaSet.splice(i + 1, 1, xformed[1], xformed[2]);\n                    i++;\n                } else if (!xformed[1]) {\n                    deltaSet.splice(i, 1);\n                    i--;\n                }\n            }\n        }\n        if (!deltaSet.length) {\n            redoStack.splice(j, 1); \n        }\n    }\n    return redoStack;\n}\nfunction rebaseRedoStack(redoStack, deltaSets) {\n    for (var i = 0; i < deltaSets.length; i++) {\n        var deltas = deltaSets[i];\n        for (var j = 0; j < deltas.length; j++) {\n            moveDeltasByOne(redoStack, deltas[j]);\n        }\n    }\n}\n\nexports.UndoManager = UndoManager;\n\n});\n\nace.define(\"ace/layer/lines\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Lines = function(element, canvasHeight) {\n    this.element = element;\n    this.canvasHeight = canvasHeight || 500000;\n    this.element.style.height = (this.canvasHeight * 2) + \"px\";\n    \n    this.cells = [];\n    this.cellCache = [];\n    this.$offsetCoefficient = 0;\n};\n\n(function() {\n    \n    this.moveContainer = function(config) {\n        dom.translate(this.element, 0, -((config.firstRowScreen * config.lineHeight) % this.canvasHeight) - config.offset * this.$offsetCoefficient);\n    };    \n    \n    this.pageChanged = function(oldConfig, newConfig) {\n        return (\n            Math.floor((oldConfig.firstRowScreen * oldConfig.lineHeight) / this.canvasHeight) !==\n            Math.floor((newConfig.firstRowScreen * newConfig.lineHeight) / this.canvasHeight)\n        );\n    };\n    \n    this.computeLineTop = function(row, config, session) {\n        var screenTop = config.firstRowScreen * config.lineHeight;\n        var screenPage = Math.floor(screenTop / this.canvasHeight);\n        var lineTop = session.documentToScreenRow(row, 0) * config.lineHeight;\n        return lineTop - (screenPage * this.canvasHeight);\n    };\n    \n    this.computeLineHeight = function(row, config, session) {\n        return config.lineHeight * session.getRowLineCount(row);\n    };\n    \n    this.getLength = function() {\n        return this.cells.length;\n    };\n    \n    this.get = function(index) {\n        return this.cells[index];\n    };\n    \n    this.shift = function() {\n        this.$cacheCell(this.cells.shift());\n    };\n    \n    this.pop = function() {\n        this.$cacheCell(this.cells.pop());\n    };\n    \n    this.push = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.push.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            this.element.appendChild(fragment);\n        } else {\n            this.cells.push(cell);\n            this.element.appendChild(cell.element);\n        }\n    };\n    \n    this.unshift = function(cell) {\n        if (Array.isArray(cell)) {\n            this.cells.unshift.apply(this.cells, cell);\n            var fragment = dom.createFragment(this.element);\n            for (var i=0; i<cell.length; i++) {\n                fragment.appendChild(cell[i].element);\n            }\n            if (this.element.firstChild)\n                this.element.insertBefore(fragment, this.element.firstChild);\n            else\n                this.element.appendChild(fragment);\n        } else {\n            this.cells.unshift(cell);\n            this.element.insertAdjacentElement(\"afterbegin\", cell.element);\n        }\n    };\n    \n    this.last = function() {\n        if (this.cells.length)\n            return this.cells[this.cells.length-1];\n        else\n            return null;\n    };\n    \n    this.$cacheCell = function(cell) {\n        if (!cell)\n            return;\n            \n        cell.element.remove();\n        this.cellCache.push(cell);\n    };\n    \n    this.createCell = function(row, config, session, initElement) {\n        var cell = this.cellCache.pop();\n        if (!cell) {\n            var element = dom.createElement(\"div\");\n            if (initElement)\n                initElement(element);\n            \n            this.element.appendChild(element);\n            \n            cell = {\n                element: element,\n                text: \"\",\n                row: row\n            };\n        }\n        cell.row = row;\n        \n        return cell;\n    };\n    \n}).call(Lines.prototype);\n\nexports.Lines = Lines;\n\n});\n\nace.define(\"ace/layer/gutter\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\",\"ace/lib/oop\",\"ace/lib/lang\",\"ace/lib/event_emitter\",\"ace/layer/lines\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\nvar oop = require(\"../lib/oop\");\nvar lang = require(\"../lib/lang\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar Lines = require(\"./lines\").Lines;\n\nvar Gutter = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_gutter-layer\";\n    parentEl.appendChild(this.element);\n    this.setShowFoldWidgets(this.$showFoldWidgets);\n    \n    this.gutterWidth = 0;\n\n    this.$annotations = [];\n    this.$updateAnnotations = this.$updateAnnotations.bind(this);\n    \n    this.$lines = new Lines(this.element);\n    this.$lines.$offsetCoefficient = 1;\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.off(\"change\", this.$updateAnnotations);\n        this.session = session;\n        if (session)\n            session.on(\"change\", this.$updateAnnotations);\n    };\n\n    this.addGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.addGutterDecoration\");\n        this.session.addGutterDecoration(row, className);\n    };\n\n    this.removeGutterDecoration = function(row, className) {\n        if (window.console)\n            console.warn && console.warn(\"deprecated use session.removeGutterDecoration\");\n        this.session.removeGutterDecoration(row, className);\n    };\n\n    this.setAnnotations = function(annotations) {\n        this.$annotations = [];\n        for (var i = 0; i < annotations.length; i++) {\n            var annotation = annotations[i];\n            var row = annotation.row;\n            var rowInfo = this.$annotations[row];\n            if (!rowInfo)\n                rowInfo = this.$annotations[row] = {text: []};\n           \n            var annoText = annotation.text;\n            annoText = annoText ? lang.escapeHTML(annoText) : annotation.html || \"\";\n\n            if (rowInfo.text.indexOf(annoText) === -1)\n                rowInfo.text.push(annoText);\n\n            var type = annotation.type;\n            if (type == \"error\")\n                rowInfo.className = \" ace_error\";\n            else if (type == \"warning\" && rowInfo.className != \" ace_error\")\n                rowInfo.className = \" ace_warning\";\n            else if (type == \"info\" && (!rowInfo.className))\n                rowInfo.className = \" ace_info\";\n        }\n    };\n\n    this.$updateAnnotations = function (delta) {\n        if (!this.$annotations.length)\n            return;\n        var firstRow = delta.start.row;\n        var len = delta.end.row - firstRow;\n        if (len === 0) {\n        } else if (delta.action == 'remove') {\n            this.$annotations.splice(firstRow, len + 1, null);\n        } else {\n            var args = new Array(len + 1);\n            args.unshift(firstRow, 1);\n            this.$annotations.splice.apply(this.$annotations, args);\n        }\n    };\n\n    this.update = function(config) {\n        this.config = config;\n        \n        var session = this.session;\n        var firstRow = config.firstRow;\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            session.getLength() - 1);\n            \n        this.oldLastRow = lastRow;\n        this.config = config;\n        \n        this.$lines.moveContainer(config);\n        this.$updateCursorRow();\n            \n        var fold = session.getNextFoldLine(firstRow);\n        var foldStart = fold ? fold.start.row : Infinity;\n\n        var cell = null;\n        var index = -1;\n        var row = firstRow;\n        \n        while (true) {\n            if (row > foldStart) {\n                row = fold.end.row + 1;\n                fold = session.getNextFoldLine(row, fold);\n                foldStart = fold ? fold.start.row : Infinity;\n            }\n            if (row > lastRow) {\n                while (this.$lines.getLength() > index + 1)\n                    this.$lines.pop();\n                    \n                break;\n            }\n\n            cell = this.$lines.get(++index);\n            if (cell) {\n                cell.row = row;\n            } else {\n                cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n                this.$lines.push(cell);\n            }\n\n            this.$renderCell(cell, config, fold, row);\n            row++;\n        }\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$updateGutterWidth = function(config) {\n        var session = this.session;\n        \n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        \n        var firstLineNumber = session.$firstLineNumber;\n        var lastLineText = this.$lines.last() ? this.$lines.last().text : \"\";\n        \n        if (this.$fixedWidth || session.$useWrapMode)\n            lastLineText = session.getLength() + firstLineNumber - 1;\n\n        var gutterWidth = gutterRenderer \n            ? gutterRenderer.getWidth(session, lastLineText, config)\n            : lastLineText.toString().length * config.characterWidth;\n        \n        var padding = this.$padding || this.$computePadding();\n        gutterWidth += padding.left + padding.right;\n        if (gutterWidth !== this.gutterWidth && !isNaN(gutterWidth)) {\n            this.gutterWidth = gutterWidth;\n            this.element.parentNode.style.width = \n            this.element.style.width = Math.ceil(this.gutterWidth) + \"px\";\n            this._signal(\"changeGutterWidth\", gutterWidth);\n        }\n    };\n    \n    this.$updateCursorRow = function() {\n        if (!this.$highlightGutterLine)\n            return;\n            \n        var position = this.session.selection.getCursor();\n        if (this.$cursorRow === position.row)\n            return;\n        \n        this.$cursorRow = position.row;\n    };\n    \n    this.updateLineHighlight = function() {\n        if (!this.$highlightGutterLine)\n            return;\n        var row = this.session.selection.cursor.row;\n        this.$cursorRow = row;\n\n        if (this.$cursorCell && this.$cursorCell.row == row)\n            return;\n        if (this.$cursorCell)\n            this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n        var cells = this.$lines.cells;\n        this.$cursorCell = null;\n        for (var i = 0; i < cells.length; i++) {\n            var cell = cells[i];\n            if (cell.row >= this.$cursorRow) {\n                if (cell.row > this.$cursorRow) {\n                    var fold = this.session.getFoldLine(this.$cursorRow);\n                    if (i > 0 && fold && fold.start.row == cells[i - 1].row)\n                        cell = cells[i - 1];\n                    else\n                        break;\n                }\n                cell.element.className = \"ace_gutter-active-line \" + cell.element.className;\n                this.$cursorCell = cell;\n                break;\n            }\n        }\n    };\n    \n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n        \n        this.$updateCursorRow();\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n        \n        this.$lines.moveContainer(config);\n\n        var lastRow = Math.min(config.lastRow + config.gutterOffset,  // needed to compensate for hor scollbar\n            this.session.getLength() - 1);\n        var oldLastRow = this.oldLastRow;\n        this.oldLastRow = lastRow;\n        \n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldLastRow > lastRow)\n            for (var row=this.session.getFoldedRowCount(lastRow + 1, oldLastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLines(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (lastRow > oldLastRow) {\n            this.$lines.push(this.$renderLines(config, oldLastRow + 1, lastRow));\n        }\n        \n        this.updateLineHighlight();\n        \n        this._signal(\"afterRender\");\n        this.$updateGutterWidth(config);\n    };\n\n    this.$renderLines = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var cell = this.$lines.createCell(row, config, this.session, onCreateCell);\n            this.$renderCell(cell, config, foldLine, row);\n            fragment.push(cell);\n\n            row++;\n        }\n        return fragment;\n    };\n    \n    this.$renderCell = function(cell, config, fold, row) {\n        var element = cell.element;\n        \n        var session = this.session;\n        \n        var textNode = element.childNodes[0];\n        var foldWidget = element.childNodes[1];\n\n        var firstLineNumber = session.$firstLineNumber;\n        \n        var breakpoints = session.$breakpoints;\n        var decorations = session.$decorations;\n        var gutterRenderer = session.gutterRenderer || this.$renderer;\n        var foldWidgets = this.$showFoldWidgets && session.foldWidgets;\n        var foldStart = fold ? fold.start.row : Number.MAX_VALUE;\n        \n        var className = \"ace_gutter-cell \";\n        if (this.$highlightGutterLine) {\n            if (row == this.$cursorRow || (fold && row < this.$cursorRow && row >= foldStart &&  this.$cursorRow <= fold.end.row)) {\n                className += \"ace_gutter-active-line \";\n                if (this.$cursorCell != cell) {\n                    if (this.$cursorCell)\n                        this.$cursorCell.element.className = this.$cursorCell.element.className.replace(\"ace_gutter-active-line \", \"\");\n                    this.$cursorCell = cell;\n                }\n            }\n        }\n        \n        if (breakpoints[row])\n            className += breakpoints[row];\n        if (decorations[row])\n            className += decorations[row];\n        if (this.$annotations[row])\n            className += this.$annotations[row].className;\n        if (element.className != className)\n            element.className = className;\n\n        if (foldWidgets) {\n            var c = foldWidgets[row];\n            if (c == null)\n                c = foldWidgets[row] = session.getFoldWidget(row);\n        }\n\n        if (c) {\n            var className = \"ace_fold-widget ace_\" + c;\n            if (c == \"start\" && row == foldStart && row < fold.end.row)\n                className += \" ace_closed\";\n            else\n                className += \" ace_open\";\n            if (foldWidget.className != className)\n                foldWidget.className = className;\n\n            var foldHeight = config.lineHeight + \"px\";\n            dom.setStyle(foldWidget.style, \"height\", foldHeight);\n            dom.setStyle(foldWidget.style, \"display\", \"inline-block\");\n        } else {\n            if (foldWidget) {\n                dom.setStyle(foldWidget.style, \"display\", \"none\");\n            }\n        }\n        \n        var text = (gutterRenderer\n            ? gutterRenderer.getText(session, row)\n            : row + firstLineNumber).toString();\n            \n        if (text !== textNode.data) {\n            textNode.data = text;\n        }\n        \n        dom.setStyle(cell.element.style, \"height\", this.$lines.computeLineHeight(row, config, session) + \"px\");\n        dom.setStyle(cell.element.style, \"top\", this.$lines.computeLineTop(row, config, session) + \"px\");\n        \n        cell.text = text;\n        return cell;\n    };\n\n    this.$fixedWidth = false;\n    \n    this.$highlightGutterLine = true;\n    this.$renderer = \"\";\n    this.setHighlightGutterLine = function(highlightGutterLine) {\n        this.$highlightGutterLine = highlightGutterLine;\n    };\n    \n    this.$showLineNumbers = true;\n    this.$renderer = \"\";\n    this.setShowLineNumbers = function(show) {\n        this.$renderer = !show && {\n            getWidth: function() {return 0;},\n            getText: function() {return \"\";}\n        };\n    };\n    \n    this.getShowLineNumbers = function() {\n        return this.$showLineNumbers;\n    };\n    \n    this.$showFoldWidgets = true;\n    this.setShowFoldWidgets = function(show) {\n        if (show)\n            dom.addCssClass(this.element, \"ace_folding-enabled\");\n        else\n            dom.removeCssClass(this.element, \"ace_folding-enabled\");\n\n        this.$showFoldWidgets = show;\n        this.$padding = null;\n    };\n    \n    this.getShowFoldWidgets = function() {\n        return this.$showFoldWidgets;\n    };\n\n    this.$computePadding = function() {\n        if (!this.element.firstChild)\n            return {left: 0, right: 0};\n        var style = dom.computedStyle(this.element.firstChild);\n        this.$padding = {};\n        this.$padding.left = (parseInt(style.borderLeftWidth) || 0)\n            + (parseInt(style.paddingLeft) || 0) + 1;\n        this.$padding.right = (parseInt(style.borderRightWidth) || 0)\n            + (parseInt(style.paddingRight) || 0);\n        return this.$padding;\n    };\n\n    this.getRegion = function(point) {\n        var padding = this.$padding || this.$computePadding();\n        var rect = this.element.getBoundingClientRect();\n        if (point.x < padding.left + rect.left)\n            return \"markers\";\n        if (this.$showFoldWidgets && point.x > rect.right - padding.right)\n            return \"foldWidgets\";\n    };\n\n}).call(Gutter.prototype);\n\nfunction onCreateCell(element) {\n    var textNode = document.createTextNode('');\n    element.appendChild(textNode);\n    \n    var foldWidget = dom.createElement(\"span\");\n    element.appendChild(foldWidget);\n    \n    return element;\n}\n\nexports.Gutter = Gutter;\n\n});\n\nace.define(\"ace/layer/marker\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../range\").Range;\nvar dom = require(\"../lib/dom\");\n\nvar Marker = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_marker-layer\";\n    parentEl.appendChild(this.element);\n};\n\n(function() {\n\n    this.$padding = 0;\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n    this.setSession = function(session) {\n        this.session = session;\n    };\n    \n    this.setMarkers = function(markers) {\n        this.markers = markers;\n    };\n    \n    this.elt = function(className, css) {\n        var x = this.i != -1 && this.element.childNodes[this.i];\n        if (!x) {\n            x = document.createElement(\"div\");\n            this.element.appendChild(x);\n            this.i = -1;\n        } else {\n            this.i++;\n        }\n        x.style.cssText = css;\n        x.className = className;\n    };\n\n    this.update = function(config) {\n        if (!config) return;\n\n        this.config = config;\n\n        this.i = 0;\n        var html;\n        for (var key in this.markers) {\n            var marker = this.markers[key];\n\n            if (!marker.range) {\n                marker.update(html, this, this.session, config);\n                continue;\n            }\n\n            var range = marker.range.clipRows(config.firstRow, config.lastRow);\n            if (range.isEmpty()) continue;\n\n            range = range.toScreenRange(this.session);\n            if (marker.renderer) {\n                var top = this.$getTop(range.start.row, config);\n                var left = this.$padding + range.start.column * config.characterWidth;\n                marker.renderer(html, range, left, top, config);\n            } else if (marker.type == \"fullLine\") {\n                this.drawFullLineMarker(html, range, marker.clazz, config);\n            } else if (marker.type == \"screenLine\") {\n                this.drawScreenLineMarker(html, range, marker.clazz, config);\n            } else if (range.isMultiLine()) {\n                if (marker.type == \"text\")\n                    this.drawTextMarker(html, range, marker.clazz, config);\n                else\n                    this.drawMultiLineMarker(html, range, marker.clazz, config);\n            } else {\n                this.drawSingleLineMarker(html, range, marker.clazz + \" ace_start\" + \" ace_br15\", config);\n            }\n        }\n        if (this.i !=-1) {\n            while (this.i < this.element.childElementCount)\n                this.element.removeChild(this.element.lastChild);\n        }\n    };\n\n    this.$getTop = function(row, layerConfig) {\n        return (row - layerConfig.firstRowScreen) * layerConfig.lineHeight;\n    };\n\n    function getBorderClass(tl, tr, br, bl) {\n        return (tl ? 1 : 0) | (tr ? 2 : 0) | (br ? 4 : 0) | (bl ? 8 : 0);\n    }\n    this.drawTextMarker = function(stringBuilder, range, clazz, layerConfig, extraStyle) {\n        var session = this.session;\n        var start = range.start.row;\n        var end = range.end.row;\n        var row = start;\n        var prev = 0; \n        var curr = 0;\n        var next = session.getScreenLastRowColumn(row);\n        var lineRange = new Range(row, range.start.column, row, curr);\n        for (; row <= end; row++) {\n            lineRange.start.row = lineRange.end.row = row;\n            lineRange.start.column = row == start ? range.start.column : session.getRowWrapIndent(row);\n            lineRange.end.column = next;\n            prev = curr;\n            curr = next;\n            next = row + 1 < end ? session.getScreenLastRowColumn(row + 1) : row == end ? 0 : range.end.column;\n            this.drawSingleLineMarker(stringBuilder, lineRange, \n                clazz + (row == start  ? \" ace_start\" : \"\") + \" ace_br\"\n                    + getBorderClass(row == start || row == start + 1 && range.start.column, prev < curr, curr > next, row == end),\n                layerConfig, row == end ? 0 : 1, extraStyle);\n        }\n    };\n    this.drawMultiLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var padding = this.$padding;\n        var height = config.lineHeight;\n        var top = this.$getTop(range.start.row, config);\n        var left = padding + range.start.column * config.characterWidth;\n        extraStyle = extraStyle || \"\";\n\n        if (this.session.$bidiHandler.isBidiRow(range.start.row)) {\n           var range1 = range.clone();\n           range1.end.row = range1.start.row;\n           range1.end.column = this.session.getLine(range1.start.row).length;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br1 ace_start\", config, null, extraStyle);\n        } else {\n            this.elt(\n                clazz + \" ace_br1 ace_start\",\n                \"height:\"+ height+ \"px;\"+ \"right:0;\"+ \"top:\"+top+ \"px;left:\"+ left+ \"px;\" + (extraStyle || \"\")\n            );\n        }\n        if (this.session.$bidiHandler.isBidiRow(range.end.row)) {\n           var range1 = range.clone();\n           range1.start.row = range1.end.row;\n           range1.start.column = 0;\n           this.drawBidiSingleLineMarker(stringBuilder, range1, clazz + \" ace_br12\", config, null, extraStyle);\n        } else {\n            top = this.$getTop(range.end.row, config);\n            var width = range.end.column * config.characterWidth;\n\n            this.elt(\n                clazz + \" ace_br12\",\n                \"height:\"+ height+ \"px;\"+\n                \"width:\"+ width+ \"px;\"+\n                \"top:\"+ top+ \"px;\"+\n                \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n            );\n        }\n        height = (range.end.row - range.start.row - 1) * config.lineHeight;\n        if (height <= 0)\n            return;\n        top = this.$getTop(range.start.row + 1, config);\n        \n        var radiusClass = (range.start.column ? 1 : 0) | (range.end.column ? 0 : 8);\n\n        this.elt(\n            clazz + (radiusClass ? \" ace_br\" + radiusClass : \"\"),\n            \"height:\"+ height+ \"px;\"+\n            \"right:0;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ padding+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        if (this.session.$bidiHandler.isBidiRow(range.start.row))\n            return this.drawBidiSingleLineMarker(stringBuilder, range, clazz, config, extraLength, extraStyle);\n        var height = config.lineHeight;\n        var width = (range.end.column + (extraLength || 0) - range.start.column) * config.characterWidth;\n\n        var top = this.$getTop(range.start.row, config);\n        var left = this.$padding + range.start.column * config.characterWidth;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"width:\"+ width+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:\"+ left+ \"px;\"+ (extraStyle || \"\")\n        );\n    };\n    this.drawBidiSingleLineMarker = function(stringBuilder, range, clazz, config, extraLength, extraStyle) {\n        var height = config.lineHeight, top = this.$getTop(range.start.row, config), padding = this.$padding;\n        var selections = this.session.$bidiHandler.getSelections(range.start.column, range.end.column);\n\n        selections.forEach(function(selection) {\n            this.elt(\n                clazz,\n                \"height:\" + height + \"px;\" +\n                \"width:\" + selection.width + (extraLength || 0) + \"px;\" +\n                \"top:\" + top + \"px;\" +\n                \"left:\" + (padding + selection.left) + \"px;\" + (extraStyle || \"\")\n            );\n        }, this);\n    };\n\n    this.drawFullLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n        if (range.start.row != range.end.row)\n            height += this.$getTop(range.end.row, config) - top;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n    \n    this.drawScreenLineMarker = function(stringBuilder, range, clazz, config, extraStyle) {\n        var top = this.$getTop(range.start.row, config);\n        var height = config.lineHeight;\n\n        this.elt(\n            clazz,\n            \"height:\"+ height+ \"px;\"+\n            \"top:\"+ top+ \"px;\"+\n            \"left:0;right:0;\"+ (extraStyle || \"\")\n        );\n    };\n\n}).call(Marker.prototype);\n\nexports.Marker = Marker;\n\n});\n\nace.define(\"ace/layer/text\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/layer/lines\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar Lines = require(\"./lines\").Lines;\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar Text = function(parentEl) {\n    this.dom = dom; \n    this.element = this.dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_text-layer\";\n    parentEl.appendChild(this.element);\n    this.$updateEolChar = this.$updateEolChar.bind(this);\n    this.$lines = new Lines(this.element);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n\n    this.EOF_CHAR = \"\\xB6\";\n    this.EOL_CHAR_LF = \"\\xAC\";\n    this.EOL_CHAR_CRLF = \"\\xa4\";\n    this.EOL_CHAR = this.EOL_CHAR_LF;\n    this.TAB_CHAR = \"\\u2014\"; //\"\\u21E5\";\n    this.SPACE_CHAR = \"\\xB7\";\n    this.$padding = 0;\n    this.MAX_LINE_LENGTH = 10000;\n\n    this.$updateEolChar = function() {\n        var doc = this.session.doc;\n        var unixMode = doc.getNewLineCharacter() == \"\\n\" && doc.getNewLineMode() != \"windows\";\n        var EOL_CHAR = unixMode ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;\n        if (this.EOL_CHAR != EOL_CHAR) {\n            this.EOL_CHAR = EOL_CHAR;\n            return true;\n        }\n    };\n\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.element.style.margin = \"0 \" + padding + \"px\";\n    };\n\n    this.getLineHeight = function() {\n        return this.$fontMetrics.$characterSize.height || 0;\n    };\n\n    this.getCharacterWidth = function() {\n        return this.$fontMetrics.$characterSize.width || 0;\n    };\n    \n    this.$setFontMetrics = function(measure) {\n        this.$fontMetrics = measure;\n        this.$fontMetrics.on(\"changeCharacterSize\", function(e) {\n            this._signal(\"changeCharacterSize\", e);\n        }.bind(this));\n        this.$pollSizeChanges();\n    };\n\n    this.checkForSizeChanges = function() {\n        this.$fontMetrics.checkForSizeChanges();\n    };\n    this.$pollSizeChanges = function() {\n        return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();\n    };\n    this.setSession = function(session) {\n        this.session = session;\n        if (session)\n            this.$computeTabString();\n    };\n\n    this.showInvisibles = false;\n    this.showSpaces = false;\n    this.showTabs = false;\n    this.showEOL = false;\n    this.setShowInvisibles = function(showInvisibles) {\n        if (this.showInvisibles == showInvisibles)\n            return false;\n\n        this.showInvisibles = showInvisibles;\n        if (typeof showInvisibles == \"string\") {\n            this.showSpaces = /tab/i.test(showInvisibles);\n            this.showTabs = /space/i.test(showInvisibles);\n            this.showEOL = /eol/i.test(showInvisibles);\n        } else {\n            this.showSpaces = this.showTabs = this.showEOL = showInvisibles;\n        }\n        this.$computeTabString();\n        return true;\n    };\n\n    this.displayIndentGuides = true;\n    this.setDisplayIndentGuides = function(display) {\n        if (this.displayIndentGuides == display)\n            return false;\n\n        this.displayIndentGuides = display;\n        this.$computeTabString();\n        return true;\n    };\n\n    this.$tabStrings = [];\n    this.onChangeTabSize =\n    this.$computeTabString = function() {\n        var tabSize = this.session.getTabSize();\n        this.tabSize = tabSize;\n        var tabStr = this.$tabStrings = [0];\n        for (var i = 1; i < tabSize + 1; i++) {\n            if (this.showTabs) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_tab\";\n                span.textContent = lang.stringRepeat(this.TAB_CHAR, i);\n                tabStr.push(span);\n            } else {\n                tabStr.push(this.dom.createTextNode(lang.stringRepeat(\" \", i), this.element));\n            }\n        }\n        if (this.displayIndentGuides) {\n            this.$indentGuideRe =  /\\s\\S| \\t|\\t |\\s$/;\n            var className = \"ace_indent-guide\";\n            var spaceClass = this.showSpaces ? \" ace_invisible ace_invisible_space\" : \"\";\n            var spaceContent = this.showSpaces\n                ? lang.stringRepeat(this.SPACE_CHAR, this.tabSize)\n                : lang.stringRepeat(\" \", this.tabSize);\n\n            var tabClass = this.showTabs ? \" ace_invisible ace_invisible_tab\" : \"\";\n            var tabContent = this.showTabs \n                ? lang.stringRepeat(this.TAB_CHAR, this.tabSize)\n                : spaceContent;\n\n            var span = this.dom.createElement(\"span\");\n            span.className = className + spaceClass;\n            span.textContent = spaceContent;\n            this.$tabStrings[\" \"] = span;\n            \n            var span = this.dom.createElement(\"span\");\n            span.className = className + tabClass;\n            span.textContent = tabContent;\n            this.$tabStrings[\"\\t\"] = span;\n        }\n    };\n\n    this.updateLines = function(config, firstRow, lastRow) {\n        if (this.config.lastRow != config.lastRow ||\n            this.config.firstRow != config.firstRow) {\n            return this.update(config);\n        }\n        \n        this.config = config;\n\n        var first = Math.max(firstRow, config.firstRow);\n        var last = Math.min(lastRow, config.lastRow);\n\n        var lineElements = this.element.childNodes;\n        var lineElementsIdx = 0;\n\n        for (var row = config.firstRow; row < first; row++) {\n            var foldLine = this.session.getFoldLine(row);\n            if (foldLine) {\n                if (foldLine.containsRow(first)) {\n                    first = foldLine.start.row;\n                    break;\n                } else {\n                    row = foldLine.end.row;\n                }\n            }\n            lineElementsIdx ++;\n        }\n\n        var heightChanged = false;\n        var row = first;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row :Infinity;\n            }\n            if (row > last)\n                break;\n\n            var lineElement = lineElements[lineElementsIdx++];\n            if (lineElement) {\n                this.dom.removeChildren(lineElement);\n                this.$renderLine(\n                    lineElement, row, row == foldStart ? foldLine : false\n                );\n\n                if (heightChanged)\n                    lineElement.style.top = this.$lines.computeLineTop(row, config, this.session) + \"px\";\n\n                var height = (config.lineHeight * this.session.getRowLength(row)) + \"px\";\n                if (lineElement.style.height != height) {\n                    heightChanged = true;\n                    lineElement.style.height = height;\n                }\n            }\n            row++;\n        }\n        if (heightChanged) {\n            while (lineElementsIdx < this.$lines.cells.length) {\n                var cell = this.$lines.cells[lineElementsIdx++];\n                cell.element.style.top = this.$lines.computeLineTop(cell.row, config, this.session) + \"px\";\n            }\n        }\n    };\n\n    this.scrollLines = function(config) {\n        var oldConfig = this.config;\n        this.config = config;\n\n        if (this.$lines.pageChanged(oldConfig, config))\n            return this.update(config);\n            \n        this.$lines.moveContainer(config);\n        \n        var lastRow = config.lastRow;\n        var oldLastRow = oldConfig ? oldConfig.lastRow : -1;\n\n        if (!oldConfig || oldLastRow < config.firstRow)\n            return this.update(config);\n\n        if (lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (!oldConfig || oldConfig.lastRow < config.firstRow)\n            return this.update(config);\n\n        if (config.lastRow < oldConfig.firstRow)\n            return this.update(config);\n\n        if (oldConfig.firstRow < config.firstRow)\n            for (var row=this.session.getFoldedRowCount(oldConfig.firstRow, config.firstRow - 1); row>0; row--)\n                this.$lines.shift();\n\n        if (oldConfig.lastRow > config.lastRow)\n            for (var row=this.session.getFoldedRowCount(config.lastRow + 1, oldConfig.lastRow); row>0; row--)\n                this.$lines.pop();\n\n        if (config.firstRow < oldConfig.firstRow) {\n            this.$lines.unshift(this.$renderLinesFragment(config, config.firstRow, oldConfig.firstRow - 1));\n        }\n\n        if (config.lastRow > oldConfig.lastRow) {\n            this.$lines.push(this.$renderLinesFragment(config, oldConfig.lastRow + 1, config.lastRow));\n        }\n    };\n\n    this.$renderLinesFragment = function(config, firstRow, lastRow) {\n        var fragment = [];\n        var row = firstRow;\n        var foldLine = this.session.getNextFoldLine(row);\n        var foldStart = foldLine ? foldLine.start.row : Infinity;\n\n        while (true) {\n            if (row > foldStart) {\n                row = foldLine.end.row+1;\n                foldLine = this.session.getNextFoldLine(row, foldLine);\n                foldStart = foldLine ? foldLine.start.row : Infinity;\n            }\n            if (row > lastRow)\n                break;\n\n            var line = this.$lines.createCell(row, config, this.session);\n            \n            var lineEl = line.element;\n            this.dom.removeChildren(lineEl);\n            dom.setStyle(lineEl.style, \"height\", this.$lines.computeLineHeight(row, config, this.session) + \"px\");\n            dom.setStyle(lineEl.style, \"top\", this.$lines.computeLineTop(row, config, this.session) + \"px\");\n            this.$renderLine(lineEl, row, row == foldStart ? foldLine : false);\n\n            if (this.$useLineGroups()) {\n                lineEl.className = \"ace_line_group\";\n            } else {\n                lineEl.className = \"ace_line\";\n            }\n            fragment.push(line);\n\n            row++;\n        }\n        return fragment;\n    };\n\n    this.update = function(config) {\n        this.$lines.moveContainer(config);\n        \n        this.config = config;\n\n        var firstRow = config.firstRow;\n        var lastRow = config.lastRow;\n\n        var lines = this.$lines;\n        while (lines.getLength())\n            lines.pop();\n            \n        lines.push(this.$renderLinesFragment(config, firstRow, lastRow));\n    };\n\n    this.$textToken = {\n        \"text\": true,\n        \"rparen\": true,\n        \"lparen\": true\n    };\n\n    this.$renderToken = function(parent, screenColumn, token, value) {\n        var self = this;\n        var re = /(\\t)|( +)|([\\x00-\\x1f\\x80-\\xa0\\xad\\u1680\\u180E\\u2000-\\u200f\\u2028\\u2029\\u202F\\u205F\\uFEFF\\uFFF9-\\uFFFC]+)|(\\u3000)|([\\u1100-\\u115F\\u11A3-\\u11A7\\u11FA-\\u11FF\\u2329-\\u232A\\u2E80-\\u2E99\\u2E9B-\\u2EF3\\u2F00-\\u2FD5\\u2FF0-\\u2FFB\\u3001-\\u303E\\u3041-\\u3096\\u3099-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u3190-\\u31BA\\u31C0-\\u31E3\\u31F0-\\u321E\\u3220-\\u3247\\u3250-\\u32FE\\u3300-\\u4DBF\\u4E00-\\uA48C\\uA490-\\uA4C6\\uA960-\\uA97C\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFAFF\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE66\\uFE68-\\uFE6B\\uFF01-\\uFF60\\uFFE0-\\uFFE6]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g;\n        \n        var valueFragment = this.dom.createFragment(this.element);\n\n        var m;\n        var i = 0;\n        while (m = re.exec(value)) {\n            var tab = m[1];\n            var simpleSpace = m[2];\n            var controlCharacter = m[3];\n            var cjkSpace = m[4];\n            var cjk = m[5];\n            \n            if (!self.showSpaces && simpleSpace)\n                continue;\n\n            var before = i != m.index ? value.slice(i, m.index) : \"\";\n\n            i = m.index + m[0].length;\n            \n            if (before) {\n                valueFragment.appendChild(this.dom.createTextNode(before, this.element));\n            }\n                \n            if (tab) {\n                var tabSize = self.session.getScreenTabSize(screenColumn + m.index);\n                valueFragment.appendChild(self.$tabStrings[tabSize].cloneNode(true));\n                screenColumn += tabSize - 1;\n            } else if (simpleSpace) {\n                if (self.showSpaces) {\n                    var span = this.dom.createElement(\"span\");\n                    span.className = \"ace_invisible ace_invisible_space\";\n                    span.textContent = lang.stringRepeat(self.SPACE_CHAR, simpleSpace.length);\n                    valueFragment.appendChild(span);\n                } else {\n                    valueFragment.appendChild(this.com.createTextNode(simpleSpace, this.element));\n                }\n            } else if (controlCharacter) {\n                var span = this.dom.createElement(\"span\");\n                span.className = \"ace_invisible ace_invisible_space ace_invalid\";\n                span.textContent = lang.stringRepeat(self.SPACE_CHAR, controlCharacter.length);\n                valueFragment.appendChild(span);\n            } else if (cjkSpace) {\n                screenColumn += 1;\n                \n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = self.showSpaces ? \"ace_cjk ace_invisible ace_invisible_space\" : \"ace_cjk\";\n                span.textContent = self.showSpaces ? self.SPACE_CHAR : cjkSpace;\n                valueFragment.appendChild(span);\n            } else if (cjk) {\n                screenColumn += 1;\n                var span = this.dom.createElement(\"span\");\n                span.style.width = (self.config.characterWidth * 2) + \"px\";\n                span.className = \"ace_cjk\";\n                span.textContent = cjk;\n                valueFragment.appendChild(span);\n            }\n        }\n        \n        valueFragment.appendChild(this.dom.createTextNode(i ? value.slice(i) : value, this.element));\n\n        if (!this.$textToken[token.type]) {\n            var classes = \"ace_\" + token.type.replace(/\\./g, \" ace_\");\n            var span = this.dom.createElement(\"span\");\n            if (token.type == \"fold\")\n                span.style.width = (token.value.length * this.config.characterWidth) + \"px\";\n                \n            span.className = classes;\n            span.appendChild(valueFragment);\n            \n            parent.appendChild(span);\n        }\n        else {\n            parent.appendChild(valueFragment);\n        }\n        \n        return screenColumn + value.length;\n    };\n\n    this.renderIndentGuide = function(parent, value, max) {\n        var cols = value.search(this.$indentGuideRe);\n        if (cols <= 0 || cols >= max)\n            return value;\n        if (value[0] == \" \") {\n            cols -= cols % this.tabSize;\n            var count = cols/this.tabSize;\n            for (var i=0; i<count; i++) {\n                parent.appendChild(this.$tabStrings[\" \"].cloneNode(true));\n            }\n            return value.substr(cols);\n        } else if (value[0] == \"\\t\") {\n            for (var i=0; i<cols; i++) {\n                parent.appendChild(this.$tabStrings[\"\\t\"].cloneNode(true));\n            }\n            return value.substr(cols);\n        }\n        return value;\n    };\n\n    this.$createLineElement = function(parent) {\n        var lineEl = this.dom.createElement(\"div\");\n        lineEl.className = \"ace_line\";\n        lineEl.style.height = this.config.lineHeight + \"px\";\n        \n        return lineEl;\n    };\n\n    this.$renderWrappedLine = function(parent, tokens, splits) {\n        var chars = 0;\n        var split = 0;\n        var splitChars = splits[0];\n        var screenColumn = 0;\n\n        var lineEl = this.$createLineElement();\n        parent.appendChild(lineEl);\n        \n        for (var i = 0; i < tokens.length; i++) {\n            var token = tokens[i];\n            var value = token.value;\n            if (i == 0 && this.displayIndentGuides) {\n                chars = value.length;\n                value = this.renderIndentGuide(lineEl, value, splitChars);\n                if (!value)\n                    continue;\n                chars -= value.length;\n            }\n\n            if (chars + value.length < splitChars) {\n                screenColumn = this.$renderToken(lineEl, screenColumn, token, value);\n                chars += value.length;\n            } else {\n                while (chars + value.length >= splitChars) {\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn,\n                        token, value.substring(0, splitChars - chars)\n                    );\n                    value = value.substring(splitChars - chars);\n                    chars = splitChars;\n\n                    lineEl = this.$createLineElement();\n                    parent.appendChild(lineEl);\n\n                    lineEl.appendChild(this.dom.createTextNode(lang.stringRepeat(\"\\xa0\", splits.indent), this.element));\n\n                    split ++;\n                    screenColumn = 0;\n                    splitChars = splits[split] || Number.MAX_VALUE;\n                }\n                if (value.length != 0) {\n                    chars += value.length;\n                    screenColumn = this.$renderToken(\n                        lineEl, screenColumn, token, value\n                    );\n                }\n            }\n        }\n        \n        if (splits[splits.length - 1] > this.MAX_LINE_LENGTH)\n            this.$renderOverflowMessage(lineEl, screenColumn, null, \"\", true);\n    };\n\n    this.$renderSimpleLine = function(parent, tokens) {\n        var screenColumn = 0;\n        var token = tokens[0];\n        var value = token.value;\n        if (this.displayIndentGuides)\n            value = this.renderIndentGuide(parent, value);\n        if (value)\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        for (var i = 1; i < tokens.length; i++) {\n            token = tokens[i];\n            value = token.value;\n            if (screenColumn + value.length > this.MAX_LINE_LENGTH)\n                return this.$renderOverflowMessage(parent, screenColumn, token, value);\n            screenColumn = this.$renderToken(parent, screenColumn, token, value);\n        }\n    };\n    \n    this.$renderOverflowMessage = function(parent, screenColumn, token, value, hide) {\n        token && this.$renderToken(parent, screenColumn, token,\n            value.slice(0, this.MAX_LINE_LENGTH - screenColumn));\n            \n        var overflowEl = this.dom.createElement(\"span\");\n        overflowEl.className = \"ace_inline_button ace_keyword ace_toggle_wrap\";\n        overflowEl.textContent = hide ? \"<hide>\" : \"<click to see more...>\";\n        \n        parent.appendChild(overflowEl);        \n    };\n    this.$renderLine = function(parent, row, foldLine) {\n        if (!foldLine && foldLine != false)\n            foldLine = this.session.getFoldLine(row);\n\n        if (foldLine)\n            var tokens = this.$getFoldLineTokens(row, foldLine);\n        else\n            var tokens = this.session.getTokens(row);\n\n        var lastLineEl = parent;\n        if (tokens.length) {\n            var splits = this.session.getRowSplitData(row);\n            if (splits && splits.length) {\n                this.$renderWrappedLine(parent, tokens, splits);\n                var lastLineEl = parent.lastChild;\n            } else {\n                var lastLineEl = parent;\n                if (this.$useLineGroups()) {\n                    lastLineEl = this.$createLineElement();\n                    parent.appendChild(lastLineEl);\n                }\n                this.$renderSimpleLine(lastLineEl, tokens);\n            }\n        } else if (this.$useLineGroups()) {\n            lastLineEl = this.$createLineElement();\n            parent.appendChild(lastLineEl);\n        }\n\n        if (this.showEOL && lastLineEl) {\n            if (foldLine)\n                row = foldLine.end.row;\n\n            var invisibleEl = this.dom.createElement(\"span\");\n            invisibleEl.className = \"ace_invisible ace_invisible_eol\";\n            invisibleEl.textContent = row == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR;\n            \n            lastLineEl.appendChild(invisibleEl);\n        }\n    };\n\n    this.$getFoldLineTokens = function(row, foldLine) {\n        var session = this.session;\n        var renderTokens = [];\n\n        function addTokens(tokens, from, to) {\n            var idx = 0, col = 0;\n            while ((col + tokens[idx].value.length) < from) {\n                col += tokens[idx].value.length;\n                idx++;\n\n                if (idx == tokens.length)\n                    return;\n            }\n            if (col != from) {\n                var value = tokens[idx].value.substring(from - col);\n                if (value.length > (to - from))\n                    value = value.substring(0, to - from);\n\n                renderTokens.push({\n                    type: tokens[idx].type,\n                    value: value\n                });\n\n                col = from + value.length;\n                idx += 1;\n            }\n\n            while (col < to && idx < tokens.length) {\n                var value = tokens[idx].value;\n                if (value.length + col > to) {\n                    renderTokens.push({\n                        type: tokens[idx].type,\n                        value: value.substring(0, to - col)\n                    });\n                } else\n                    renderTokens.push(tokens[idx]);\n                col += value.length;\n                idx += 1;\n            }\n        }\n\n        var tokens = session.getTokens(row);\n        foldLine.walk(function(placeholder, row, column, lastColumn, isNewRow) {\n            if (placeholder != null) {\n                renderTokens.push({\n                    type: \"fold\",\n                    value: placeholder\n                });\n            } else {\n                if (isNewRow)\n                    tokens = session.getTokens(row);\n\n                if (tokens.length)\n                    addTokens(tokens, lastColumn, column);\n            }\n        }, foldLine.end.row, this.session.getLine(foldLine.end.row).length);\n\n        return renderTokens;\n    };\n\n    this.$useLineGroups = function() {\n        return this.session.getUseWrapMode();\n    };\n\n    this.destroy = function() {};\n}).call(Text.prototype);\n\nexports.Text = Text;\n\n});\n\nace.define(\"ace/layer/cursor\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"../lib/dom\");\n\nvar Cursor = function(parentEl) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_layer ace_cursor-layer\";\n    parentEl.appendChild(this.element);\n    \n    this.isVisible = false;\n    this.isBlinking = true;\n    this.blinkInterval = 1000;\n    this.smoothBlinking = false;\n\n    this.cursors = [];\n    this.cursor = this.addCursor();\n    dom.addCssClass(this.element, \"ace_hidden-cursors\");\n    this.$updateCursors = this.$updateOpacity.bind(this);\n};\n\n(function() {\n    \n    this.$updateOpacity = function(val) {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            dom.setStyle(cursors[i].style, \"opacity\", val ? \"\" : \"0\");\n    };\n\n    this.$startCssAnimation = function() {\n        var cursors = this.cursors;\n        for (var i = cursors.length; i--; )\n            cursors[i].style.animationDuration = this.blinkInterval + \"ms\";\n\n        setTimeout(function() {\n            dom.addCssClass(this.element, \"ace_animate-blinking\");\n        }.bind(this));\n    };\n    \n    this.$stopCssAnimation = function() {\n        dom.removeCssClass(this.element, \"ace_animate-blinking\");\n    };\n\n    this.$padding = 0;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n    };\n\n    this.setSession = function(session) {\n        this.session = session;\n    };\n\n    this.setBlinking = function(blinking) {\n        if (blinking != this.isBlinking) {\n            this.isBlinking = blinking;\n            this.restartTimer();\n        }\n    };\n\n    this.setBlinkInterval = function(blinkInterval) {\n        if (blinkInterval != this.blinkInterval) {\n            this.blinkInterval = blinkInterval;\n            this.restartTimer();\n        }\n    };\n\n    this.setSmoothBlinking = function(smoothBlinking) {\n        if (smoothBlinking != this.smoothBlinking) {\n            this.smoothBlinking = smoothBlinking;\n            dom.setCssClass(this.element, \"ace_smooth-blinking\", smoothBlinking);\n            this.$updateCursors(true);\n            this.restartTimer();\n        }\n    };\n\n    this.addCursor = function() {\n        var el = dom.createElement(\"div\");\n        el.className = \"ace_cursor\";\n        this.element.appendChild(el);\n        this.cursors.push(el);\n        return el;\n    };\n\n    this.removeCursor = function() {\n        if (this.cursors.length > 1) {\n            var el = this.cursors.pop();\n            el.parentNode.removeChild(el);\n            return el;\n        }\n    };\n\n    this.hideCursor = function() {\n        this.isVisible = false;\n        dom.addCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.showCursor = function() {\n        this.isVisible = true;\n        dom.removeCssClass(this.element, \"ace_hidden-cursors\");\n        this.restartTimer();\n    };\n\n    this.restartTimer = function() {\n        var update = this.$updateCursors;\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n        this.$stopCssAnimation();\n\n        if (this.smoothBlinking) {\n            dom.removeCssClass(this.element, \"ace_smooth-blinking\");\n        }\n        \n        update(true);\n\n        if (!this.isBlinking || !this.blinkInterval || !this.isVisible) {\n            this.$stopCssAnimation();\n            return;\n        }\n\n        if (this.smoothBlinking) {\n            setTimeout(function(){\n                dom.addCssClass(this.element, \"ace_smooth-blinking\");\n            }.bind(this));\n        }\n        \n        if (dom.HAS_CSS_ANIMATION) {\n            this.$startCssAnimation();\n        } else {\n            var blink = function(){\n                this.timeoutId = setTimeout(function() {\n                    update(false);\n                }, 0.6 * this.blinkInterval);\n            }.bind(this);\n    \n            this.intervalId = setInterval(function() {\n                update(true);\n                blink();\n            }, this.blinkInterval);\n            blink();\n        }\n    };\n\n    this.getPixelPosition = function(position, onScreen) {\n        if (!this.config || !this.session)\n            return {left : 0, top : 0};\n\n        if (!position)\n            position = this.session.selection.getCursor();\n        var pos = this.session.documentToScreenPosition(position);\n        var cursorLeft = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, position.row)\n            ? this.session.$bidiHandler.getPosLeft(pos.column)\n            : pos.column * this.config.characterWidth);\n\n        var cursorTop = (pos.row - (onScreen ? this.config.firstRowScreen : 0)) *\n            this.config.lineHeight;\n\n        return {left : cursorLeft, top : cursorTop};\n    };\n\n    this.isCursorInView = function(pixelPos, config) {\n        return pixelPos.top >= 0 && pixelPos.top < config.maxHeight;\n    };\n\n    this.update = function(config) {\n        this.config = config;\n\n        var selections = this.session.$selectionMarkers;\n        var i = 0, cursorIndex = 0;\n\n        if (selections === undefined || selections.length === 0){\n            selections = [{cursor: null}];\n        }\n\n        for (var i = 0, n = selections.length; i < n; i++) {\n            var pixelPos = this.getPixelPosition(selections[i].cursor, true);\n            if ((pixelPos.top > config.height + config.offset ||\n                 pixelPos.top < 0) && i > 1) {\n                continue;\n            }\n\n            var element = this.cursors[cursorIndex++] || this.addCursor();\n            var style = element.style;\n            \n            if (!this.drawCursor) {\n                if (!this.isCursorInView(pixelPos, config)) {\n                    dom.setStyle(style, \"display\", \"none\");\n                } else {\n                    dom.setStyle(style, \"display\", \"block\");\n                    dom.translate(element, pixelPos.left, pixelPos.top);\n                    dom.setStyle(style, \"width\", Math.round(config.characterWidth) + \"px\");\n                    dom.setStyle(style, \"height\", config.lineHeight + \"px\");\n                }\n            } else {\n                this.drawCursor(element, pixelPos, config, selections[i], this.session);\n            }\n        }\n        while (this.cursors.length > cursorIndex)\n            this.removeCursor();\n\n        var overwrite = this.session.getOverwrite();\n        this.$setOverwrite(overwrite);\n        this.$pixelPos = pixelPos;\n        this.restartTimer();\n    };\n    \n    this.drawCursor = null;\n\n    this.$setOverwrite = function(overwrite) {\n        if (overwrite != this.overwrite) {\n            this.overwrite = overwrite;\n            if (overwrite)\n                dom.addCssClass(this.element, \"ace_overwrite-cursors\");\n            else\n                dom.removeCssClass(this.element, \"ace_overwrite-cursors\");\n        }\n    };\n\n    this.destroy = function() {\n        clearInterval(this.intervalId);\n        clearTimeout(this.timeoutId);\n    };\n\n}).call(Cursor.prototype);\n\nexports.Cursor = Cursor;\n\n});\n\nace.define(\"ace/scrollbar\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar MAX_SCROLL_H = 0x8000;\nvar ScrollBar = function(parent) {\n    this.element = dom.createElement(\"div\");\n    this.element.className = \"ace_scrollbar ace_scrollbar\" + this.classSuffix;\n\n    this.inner = dom.createElement(\"div\");\n    this.inner.className = \"ace_scrollbar-inner\";\n    this.inner.textContent = \"\\xa0\";\n    this.element.appendChild(this.inner);\n\n    parent.appendChild(this.element);\n\n    this.setVisible(false);\n    this.skipEvent = false;\n\n    event.addListener(this.element, \"scroll\", this.onScroll.bind(this));\n    event.addListener(this.element, \"mousedown\", event.preventDefault);\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n\n    this.setVisible = function(isVisible) {\n        this.element.style.display = isVisible ? \"\" : \"none\";\n        this.isVisible = isVisible;\n        this.coeff = 1;\n    };\n}).call(ScrollBar.prototype);\nvar VScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollTop = 0;\n    this.scrollHeight = 0;\n    renderer.$scrollbarWidth = \n    this.width = dom.scrollbarWidth(parent.ownerDocument);\n    this.inner.style.width =\n    this.element.style.width = (this.width || 15) + 5 + \"px\";\n    this.$minWidth = 0;\n};\n\noop.inherits(VScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-v';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollTop = this.element.scrollTop;\n            if (this.coeff != 1) {\n                var h = this.element.clientHeight / this.scrollHeight;\n                this.scrollTop = this.scrollTop * (1 - h) / (this.coeff - h);\n            }\n            this._emit(\"scroll\", {data: this.scrollTop});\n        }\n        this.skipEvent = false;\n    };\n    this.getWidth = function() {\n        return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);\n    };\n    this.setHeight = function(height) {\n        this.element.style.height = height + \"px\";\n    };\n    this.setInnerHeight = \n    this.setScrollHeight = function(height) {\n        this.scrollHeight = height;\n        if (height > MAX_SCROLL_H) {\n            this.coeff = MAX_SCROLL_H / height;\n            height = MAX_SCROLL_H;\n        } else if (this.coeff != 1) {\n            this.coeff = 1;\n        }\n        this.inner.style.height = height + \"px\";\n    };\n    this.setScrollTop = function(scrollTop) {\n        if (this.scrollTop != scrollTop) {\n            this.skipEvent = true;\n            this.scrollTop = scrollTop;\n            this.element.scrollTop = scrollTop * this.coeff;\n        }\n    };\n\n}).call(VScrollBar.prototype);\nvar HScrollBar = function(parent, renderer) {\n    ScrollBar.call(this, parent);\n    this.scrollLeft = 0;\n    this.height = renderer.$scrollbarWidth;\n    this.inner.style.height =\n    this.element.style.height = (this.height || 15) + 5 + \"px\";\n};\n\noop.inherits(HScrollBar, ScrollBar);\n\n(function() {\n\n    this.classSuffix = '-h';\n    this.onScroll = function() {\n        if (!this.skipEvent) {\n            this.scrollLeft = this.element.scrollLeft;\n            this._emit(\"scroll\", {data: this.scrollLeft});\n        }\n        this.skipEvent = false;\n    };\n    this.getHeight = function() {\n        return this.isVisible ? this.height : 0;\n    };\n    this.setWidth = function(width) {\n        this.element.style.width = width + \"px\";\n    };\n    this.setInnerWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollWidth = function(width) {\n        this.inner.style.width = width + \"px\";\n    };\n    this.setScrollLeft = function(scrollLeft) {\n        if (this.scrollLeft != scrollLeft) {\n            this.skipEvent = true;\n            this.scrollLeft = this.element.scrollLeft = scrollLeft;\n        }\n    };\n\n}).call(HScrollBar.prototype);\n\n\nexports.ScrollBar = VScrollBar; // backward compatibility\nexports.ScrollBarV = VScrollBar; // backward compatibility\nexports.ScrollBarH = HScrollBar; // backward compatibility\n\nexports.VScrollBar = VScrollBar;\nexports.HScrollBar = HScrollBar;\n});\n\nace.define(\"ace/renderloop\",[\"require\",\"exports\",\"module\",\"ace/lib/event\"], function(require, exports, module) {\n\"use strict\";\n\nvar event = require(\"./lib/event\");\n\n\nvar RenderLoop = function(onRender, win) {\n    this.onRender = onRender;\n    this.pending = false;\n    this.changes = 0;\n    this.$recursionLimit = 2;\n    this.window = win || window;\n    var _self = this;\n    this._flush = function(ts) {\n        _self.pending = false;\n        var changes = _self.changes;\n\n        if (changes) {\n            event.blockIdle(100);\n            _self.changes = 0;\n            _self.onRender(changes);\n        }\n        \n        if (_self.changes) {\n            if (_self.$recursionLimit-- < 0) return;\n            _self.schedule();\n        } else {\n            _self.$recursionLimit = 2;\n        }\n    };\n};\n\n(function() {\n\n    this.schedule = function(change) {\n        this.changes = this.changes | change;\n        if (this.changes && !this.pending) {\n            event.nextFrame(this._flush);\n            this.pending = true;\n        }\n    };\n\n    this.clear = function(change) {\n        var changes = this.changes;\n        this.changes = 0;\n        return changes;\n    };\n\n}).call(RenderLoop.prototype);\n\nexports.RenderLoop = RenderLoop;\n});\n\nace.define(\"ace/layer/font_metrics\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/lib/lang\",\"ace/lib/event\",\"ace/lib/useragent\",\"ace/lib/event_emitter\"], function(require, exports, module) {\n\nvar oop = require(\"../lib/oop\");\nvar dom = require(\"../lib/dom\");\nvar lang = require(\"../lib/lang\");\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\n\nvar CHAR_COUNT = 256;\nvar USE_OBSERVER = typeof ResizeObserver == \"function\";\nvar L = 200;\n\nvar FontMetrics = exports.FontMetrics = function(parentEl) {\n    this.el = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.el.style, true);\n    \n    this.$main = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$main.style);\n    \n    this.$measureNode = dom.createElement(\"div\");\n    this.$setMeasureNodeStyles(this.$measureNode.style);\n    \n    \n    this.el.appendChild(this.$main);\n    this.el.appendChild(this.$measureNode);\n    parentEl.appendChild(this.el);\n    \n    this.$measureNode.textContent = lang.stringRepeat(\"X\", CHAR_COUNT);\n    \n    this.$characterSize = {width: 0, height: 0};\n    \n    \n    if (USE_OBSERVER)\n        this.$addObserver();\n    else\n        this.checkForSizeChanges();\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n        \n    this.$characterSize = {width: 0, height: 0};\n    \n    this.$setMeasureNodeStyles = function(style, isRoot) {\n        style.width = style.height = \"auto\";\n        style.left = style.top = \"0px\";\n        style.visibility = \"hidden\";\n        style.position = \"absolute\";\n        style.whiteSpace = \"pre\";\n\n        if (useragent.isIE < 8) {\n            style[\"font-family\"] = \"inherit\";\n        } else {\n            style.font = \"inherit\";\n        }\n        style.overflow = isRoot ? \"hidden\" : \"visible\";\n    };\n\n    this.checkForSizeChanges = function(size) {\n        if (size === undefined)\n            size = this.$measureSizes();\n        if (size && (this.$characterSize.width !== size.width || this.$characterSize.height !== size.height)) {\n            this.$measureNode.style.fontWeight = \"bold\";\n            var boldSize = this.$measureSizes();\n            this.$measureNode.style.fontWeight = \"\";\n            this.$characterSize = size;\n            this.charSizes = Object.create(null);\n            this.allowBoldFonts = boldSize && boldSize.width === size.width && boldSize.height === size.height;\n            this._emit(\"changeCharacterSize\", {data: size});\n        }\n    };\n    \n    this.$addObserver = function() {\n        var self = this;\n        this.$observer = new window.ResizeObserver(function(e) {\n            self.checkForSizeChanges();\n        });\n        this.$observer.observe(this.$measureNode);\n    };\n\n    this.$pollSizeChanges = function() {\n        if (this.$pollSizeChangesTimer || this.$observer)\n            return this.$pollSizeChangesTimer;\n        var self = this;\n        \n        return this.$pollSizeChangesTimer = event.onIdle(function cb() {\n            self.checkForSizeChanges();\n            event.onIdle(cb, 500);\n        }, 500);\n    };\n    \n    this.setPolling = function(val) {\n        if (val) {\n            this.$pollSizeChanges();\n        } else if (this.$pollSizeChangesTimer) {\n            clearInterval(this.$pollSizeChangesTimer);\n            this.$pollSizeChangesTimer = 0;\n        }\n    };\n\n    this.$measureSizes = function(node) {\n        var size = {\n            height: (node || this.$measureNode).clientHeight,\n            width: (node || this.$measureNode).clientWidth / CHAR_COUNT\n        };\n        if (size.width === 0 || size.height === 0)\n            return null;\n        return size;\n    };\n\n    this.$measureCharWidth = function(ch) {\n        this.$main.textContent = lang.stringRepeat(ch, CHAR_COUNT);\n        var rect = this.$main.getBoundingClientRect();\n        return rect.width / CHAR_COUNT;\n    };\n    \n    this.getCharacterWidth = function(ch) {\n        var w = this.charSizes[ch];\n        if (w === undefined) {\n            w = this.charSizes[ch] = this.$measureCharWidth(ch) / this.$characterSize.width;\n        }\n        return w;\n    };\n\n    this.destroy = function() {\n        clearInterval(this.$pollSizeChangesTimer);\n        if (this.$observer)\n            this.$observer.disconnect();\n        if (this.el && this.el.parentNode)\n            this.el.parentNode.removeChild(this.el);\n    };\n\n    \n    this.$getZoom = function getZoom(element) {\n        if (!element || !element.parentElement) return 1;\n        return (window.getComputedStyle(element).zoom || 1) * getZoom(element.parentElement);\n    };\n    this.$initTransformMeasureNodes = function() {\n        var t = function(t, l) {\n            return [\"div\", {\n                style: \"position: absolute;top:\" + t + \"px;left:\" + l + \"px;\"\n            }];\n        };\n        this.els = dom.buildDom([t(0, 0), t(L, 0), t(0, L), t(L, L)], this.el);\n    };\n    this.transformCoordinates = function(clientPos, elPos) {\n        if (clientPos) {\n            var zoom = this.$getZoom(this.el);\n            clientPos = mul(1 / zoom, clientPos);\n        }\n        function solve(l1, l2, r) {\n            var det = l1[1] * l2[0] - l1[0] * l2[1];\n            return [\n                (-l2[1] * r[0] + l2[0] * r[1]) / det,\n                (+l1[1] * r[0] - l1[0] * r[1]) / det\n            ];\n        }\n        function sub(a, b) { return [a[0] - b[0], a[1] - b[1]]; }\n        function add(a, b) { return [a[0] + b[0], a[1] + b[1]]; }\n        function mul(a, b) { return [a * b[0], a * b[1]]; }\n\n        if (!this.els)\n            this.$initTransformMeasureNodes();\n        \n        function p(el) {\n            var r = el.getBoundingClientRect();\n            return [r.left, r.top];\n        }\n\n        var a = p(this.els[0]);\n        var b = p(this.els[1]);\n        var c = p(this.els[2]);\n        var d = p(this.els[3]);\n\n        var h = solve(sub(d, b), sub(d, c), sub(add(b, c), add(d, a)));\n\n        var m1 = mul(1 + h[0], sub(b, a));\n        var m2 = mul(1 + h[1], sub(c, a));\n        \n        if (elPos) {\n            var x = elPos;\n            var k = h[0] * x[0] / L + h[1] * x[1] / L + 1;\n            var ut = add(mul(x[0], m1), mul(x[1], m2));\n            return  add(mul(1 / k / L, ut), a);\n        }\n        var u = sub(clientPos, a);\n        var f = solve(sub(m1, mul(h[0], u)), sub(m2, mul(h[1], u)), u);\n        return mul(L, f);\n    };\n    \n}).call(FontMetrics.prototype);\n\n});\n\nace.define(\"ace/virtual_renderer\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/dom\",\"ace/config\",\"ace/layer/gutter\",\"ace/layer/marker\",\"ace/layer/text\",\"ace/layer/cursor\",\"ace/scrollbar\",\"ace/scrollbar\",\"ace/renderloop\",\"ace/layer/font_metrics\",\"ace/lib/event_emitter\",\"ace/lib/useragent\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"./lib/oop\");\nvar dom = require(\"./lib/dom\");\nvar config = require(\"./config\");\nvar GutterLayer = require(\"./layer/gutter\").Gutter;\nvar MarkerLayer = require(\"./layer/marker\").Marker;\nvar TextLayer = require(\"./layer/text\").Text;\nvar CursorLayer = require(\"./layer/cursor\").Cursor;\nvar HScrollBar = require(\"./scrollbar\").HScrollBar;\nvar VScrollBar = require(\"./scrollbar\").VScrollBar;\nvar RenderLoop = require(\"./renderloop\").RenderLoop;\nvar FontMetrics = require(\"./layer/font_metrics\").FontMetrics;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar editorCss = \"\\\n.ace_br1 {border-top-left-radius    : 3px;}\\\n.ace_br2 {border-top-right-radius   : 3px;}\\\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\\\n.ace_br4 {border-bottom-right-radius: 3px;}\\\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\\\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\\\n.ace_br8 {border-bottom-left-radius : 3px;}\\\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\\\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\\\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\\\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\\\n.ace_editor {\\\nposition: relative;\\\noverflow: hidden;\\\npadding: 0;\\\nfont: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;\\\ndirection: ltr;\\\ntext-align: left;\\\n-webkit-tap-highlight-color: rgba(0, 0, 0, 0);\\\n}\\\n.ace_scroller {\\\nposition: absolute;\\\noverflow: hidden;\\\ntop: 0;\\\nbottom: 0;\\\nbackground-color: inherit;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncursor: text;\\\n}\\\n.ace_content {\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nmin-width: 100%;\\\ncontain: style size layout;\\\nfont-variant-ligatures: no-common-ligatures;\\\n}\\\n.ace_dragging .ace_scroller:before{\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\nbottom: 0;\\\ncontent: '';\\\nbackground: rgba(250, 250, 250, 0.01);\\\nz-index: 1000;\\\n}\\\n.ace_dragging.ace_dark .ace_scroller:before{\\\nbackground: rgba(0, 0, 0, 0.01);\\\n}\\\n.ace_selecting, .ace_selecting * {\\\ncursor: text !important;\\\n}\\\n.ace_gutter {\\\nposition: absolute;\\\noverflow : hidden;\\\nwidth: auto;\\\ntop: 0;\\\nbottom: 0;\\\nleft: 0;\\\ncursor: default;\\\nz-index: 4;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\ncontain: style size layout;\\\n}\\\n.ace_gutter-active-line {\\\nposition: absolute;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_scroller.ace_scroll-left {\\\nbox-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\\\n}\\\n.ace_gutter-cell {\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\npadding-left: 19px;\\\npadding-right: 6px;\\\nbackground-repeat: no-repeat;\\\n}\\\n.ace_gutter-cell.ace_error {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_warning {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=\\\");\\\nbackground-position: 2px center;\\\n}\\\n.ace_dark .ace_gutter-cell.ace_info {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_scrollbar {\\\ncontain: strict;\\\nposition: absolute;\\\nright: 0;\\\nbottom: 0;\\\nz-index: 6;\\\n}\\\n.ace_scrollbar-inner {\\\nposition: absolute;\\\ncursor: text;\\\nleft: 0;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-v{\\\noverflow-x: hidden;\\\noverflow-y: scroll;\\\ntop: 0;\\\n}\\\n.ace_scrollbar-h {\\\noverflow-x: scroll;\\\noverflow-y: hidden;\\\nleft: 0;\\\n}\\\n.ace_print-margin {\\\nposition: absolute;\\\nheight: 100%;\\\n}\\\n.ace_text-input {\\\nposition: absolute;\\\nz-index: 0;\\\nwidth: 0.5em;\\\nheight: 1em;\\\nopacity: 0;\\\nbackground: transparent;\\\n-moz-appearance: none;\\\nappearance: none;\\\nborder: none;\\\nresize: none;\\\noutline: none;\\\noverflow: hidden;\\\nfont: inherit;\\\npadding: 0 1px;\\\nmargin: 0 -1px;\\\ncontain: strict;\\\n-ms-user-select: text;\\\n-moz-user-select: text;\\\n-webkit-user-select: text;\\\nuser-select: text;\\\nwhite-space: pre!important;\\\n}\\\n.ace_text-input.ace_composition {\\\nbackground: transparent;\\\ncolor: inherit;\\\nz-index: 1000;\\\nopacity: 1;\\\n}\\\n.ace_composition_placeholder { color: transparent }\\\n.ace_composition_marker { \\\nborder-bottom: 1px solid;\\\nposition: absolute;\\\nborder-radius: 0;\\\nmargin-top: 1px;\\\n}\\\n[ace_nocontext=true] {\\\ntransform: none!important;\\\nfilter: none!important;\\\nclip-path: none!important;\\\nmask : none!important;\\\ncontain: none!important;\\\nperspective: none!important;\\\nmix-blend-mode: initial!important;\\\nz-index: auto;\\\n}\\\n.ace_layer {\\\nz-index: 1;\\\nposition: absolute;\\\noverflow: hidden;\\\nword-wrap: normal;\\\nwhite-space: pre;\\\nheight: 100%;\\\nwidth: 100%;\\\nbox-sizing: border-box;\\\npointer-events: none;\\\n}\\\n.ace_gutter-layer {\\\nposition: relative;\\\nwidth: auto;\\\ntext-align: right;\\\npointer-events: auto;\\\nheight: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer {\\\nfont: inherit !important;\\\nposition: absolute;\\\nheight: 1000000px;\\\nwidth: 1000000px;\\\ncontain: style size layout;\\\n}\\\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\\\ncontain: style size layout;\\\nposition: absolute;\\\ntop: 0;\\\nleft: 0;\\\nright: 0;\\\n}\\\n.ace_hidpi .ace_text-layer,\\\n.ace_hidpi .ace_gutter-layer,\\\n.ace_hidpi .ace_content,\\\n.ace_hidpi .ace_gutter {\\\ncontain: strict;\\\nwill-change: transform;\\\n}\\\n.ace_hidpi .ace_text-layer > .ace_line, \\\n.ace_hidpi .ace_text-layer > .ace_line_group {\\\ncontain: strict;\\\n}\\\n.ace_cjk {\\\ndisplay: inline-block;\\\ntext-align: center;\\\n}\\\n.ace_cursor-layer {\\\nz-index: 4;\\\n}\\\n.ace_cursor {\\\nz-index: 4;\\\nposition: absolute;\\\nbox-sizing: border-box;\\\nborder-left: 2px solid;\\\ntransform: translatez(0);\\\n}\\\n.ace_multiselect .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_slim-cursors .ace_cursor {\\\nborder-left-width: 1px;\\\n}\\\n.ace_overwrite-cursors .ace_cursor {\\\nborder-left-width: 0;\\\nborder-bottom: 1px solid;\\\n}\\\n.ace_hidden-cursors .ace_cursor {\\\nopacity: 0.2;\\\n}\\\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\\\nopacity: 0;\\\n}\\\n.ace_smooth-blinking .ace_cursor {\\\ntransition: opacity 0.18s;\\\n}\\\n.ace_animate-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: step-end;\\\nanimation-name: blink-ace-animate;\\\nanimation-iteration-count: infinite;\\\n}\\\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\\\nanimation-duration: 1000ms;\\\nanimation-timing-function: ease-in-out;\\\nanimation-name: blink-ace-animate-smooth;\\\n}\\\n@keyframes blink-ace-animate {\\\nfrom, to { opacity: 1; }\\\n60% { opacity: 0; }\\\n}\\\n@keyframes blink-ace-animate-smooth {\\\nfrom, to { opacity: 1; }\\\n45% { opacity: 1; }\\\n60% { opacity: 0; }\\\n85% { opacity: 0; }\\\n}\\\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\\\nposition: absolute;\\\nz-index: 3;\\\n}\\\n.ace_marker-layer .ace_selection {\\\nposition: absolute;\\\nz-index: 5;\\\n}\\\n.ace_marker-layer .ace_bracket {\\\nposition: absolute;\\\nz-index: 6;\\\n}\\\n.ace_marker-layer .ace_error_bracket {\\\nposition: absolute;\\\nborder-bottom: 1px solid #DE5555;\\\nborder-radius: 0;\\\n}\\\n.ace_marker-layer .ace_active-line {\\\nposition: absolute;\\\nz-index: 2;\\\n}\\\n.ace_marker-layer .ace_selected-word {\\\nposition: absolute;\\\nz-index: 4;\\\nbox-sizing: border-box;\\\n}\\\n.ace_line .ace_fold {\\\nbox-sizing: border-box;\\\ndisplay: inline-block;\\\nheight: 11px;\\\nmargin-top: -2px;\\\nvertical-align: middle;\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=\\\");\\\nbackground-repeat: no-repeat, repeat-x;\\\nbackground-position: center center, top left;\\\ncolor: transparent;\\\nborder: 1px solid black;\\\nborder-radius: 2px;\\\ncursor: pointer;\\\npointer-events: auto;\\\n}\\\n.ace_dark .ace_fold {\\\n}\\\n.ace_fold:hover{\\\nbackground-image:\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII=\\\"),\\\nurl(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_tooltip {\\\nbackground-color: #FFF;\\\nbackground-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\\\nborder: 1px solid gray;\\\nborder-radius: 1px;\\\nbox-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\\\ncolor: black;\\\nmax-width: 100%;\\\npadding: 3px 4px;\\\nposition: fixed;\\\nz-index: 999999;\\\nbox-sizing: border-box;\\\ncursor: default;\\\nwhite-space: pre;\\\nword-wrap: break-word;\\\nline-height: normal;\\\nfont-style: normal;\\\nfont-weight: normal;\\\nletter-spacing: normal;\\\npointer-events: none;\\\n}\\\n.ace_folding-enabled > .ace_gutter-cell {\\\npadding-right: 13px;\\\n}\\\n.ace_fold-widget {\\\nbox-sizing: border-box;\\\nmargin: 0 -12px 0 1px;\\\ndisplay: none;\\\nwidth: 11px;\\\nvertical-align: top;\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==\\\");\\\nbackground-repeat: no-repeat;\\\nbackground-position: center;\\\nborder-radius: 3px;\\\nborder: 1px solid transparent;\\\ncursor: pointer;\\\n}\\\n.ace_folding-enabled .ace_fold-widget {\\\ndisplay: inline-block;   \\\n}\\\n.ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==\\\");\\\n}\\\n.ace_fold-widget:hover {\\\nborder: 1px solid rgba(0, 0, 0, 0.3);\\\nbackground-color: rgba(255, 255, 255, 0.2);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\\\n}\\\n.ace_fold-widget:active {\\\nborder: 1px solid rgba(0, 0, 0, 0.4);\\\nbackground-color: rgba(0, 0, 0, 0.05);\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\\\n}\\\n.ace_dark .ace_fold-widget {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_end {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget.ace_closed {\\\nbackground-image: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==\\\");\\\n}\\\n.ace_dark .ace_fold-widget:hover {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\nbackground-color: rgba(255, 255, 255, 0.1);\\\n}\\\n.ace_dark .ace_fold-widget:active {\\\nbox-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\\\n}\\\n.ace_inline_button {\\\nborder: 1px solid lightgray;\\\ndisplay: inline-block;\\\nmargin: -1px 8px;\\\npadding: 0 5px;\\\npointer-events: auto;\\\ncursor: pointer;\\\n}\\\n.ace_inline_button:hover {\\\nborder-color: gray;\\\nbackground: rgba(200,200,200,0.2);\\\ndisplay: inline-block;\\\npointer-events: auto;\\\n}\\\n.ace_fold-widget.ace_invalid {\\\nbackground-color: #FFB4B4;\\\nborder-color: #DE5555;\\\n}\\\n.ace_fade-fold-widgets .ace_fold-widget {\\\ntransition: opacity 0.4s ease 0.05s;\\\nopacity: 0;\\\n}\\\n.ace_fade-fold-widgets:hover .ace_fold-widget {\\\ntransition: opacity 0.05s ease 0.05s;\\\nopacity:1;\\\n}\\\n.ace_underline {\\\ntext-decoration: underline;\\\n}\\\n.ace_bold {\\\nfont-weight: bold;\\\n}\\\n.ace_nobold .ace_bold {\\\nfont-weight: normal;\\\n}\\\n.ace_italic {\\\nfont-style: italic;\\\n}\\\n.ace_error-marker {\\\nbackground-color: rgba(255, 0, 0,0.2);\\\nposition: absolute;\\\nz-index: 9;\\\n}\\\n.ace_highlight-marker {\\\nbackground-color: rgba(255, 255, 0,0.2);\\\nposition: absolute;\\\nz-index: 8;\\\n}\\\n.ace_mobile-menu {\\\nposition: absolute;\\\nline-height: 1.5;\\\nborder-radius: 4px;\\\n-ms-user-select: none;\\\n-moz-user-select: none;\\\n-webkit-user-select: none;\\\nuser-select: none;\\\nbackground: white;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #dcdcdc;\\\ncolor: black;\\\n}\\\n.ace_dark > .ace_mobile-menu {\\\nbackground: #333;\\\ncolor: #ccc;\\\nbox-shadow: 1px 3px 2px grey;\\\nborder: 1px solid #444;\\\n}\\\n.ace_mobile-button {\\\npadding: 2px;\\\ncursor: pointer;\\\noverflow: hidden;\\\n}\\\n.ace_mobile-button:hover {\\\nbackground-color: #eee;\\\nopacity:1;\\\n}\\\n.ace_mobile-button:active {\\\nbackground-color: #ddd;\\\n}\\\n.ace_placeholder {\\\nfont-family: arial;\\\ntransform: scale(0.9);\\\ntransform-origin: left;\\\nwhite-space: pre;\\\nopacity: 0.7;\\\nmargin: 0 10px;\\\n}\";\n\nvar useragent = require(\"./lib/useragent\");\nvar HIDE_TEXTAREA = useragent.isIE;\n\ndom.importCssString(editorCss, \"ace_editor.css\");\n\nvar VirtualRenderer = function(container, theme) {\n    var _self = this;\n\n    this.container = container || dom.createElement(\"div\");\n\n    dom.addCssClass(this.container, \"ace_editor\");\n    if (dom.HI_DPI) dom.addCssClass(this.container, \"ace_hidpi\");\n\n    this.setTheme(theme);\n\n    this.$gutter = dom.createElement(\"div\");\n    this.$gutter.className = \"ace_gutter\";\n    this.container.appendChild(this.$gutter);\n    this.$gutter.setAttribute(\"aria-hidden\", true);\n\n    this.scroller = dom.createElement(\"div\");\n    this.scroller.className = \"ace_scroller\";\n    \n    this.container.appendChild(this.scroller);\n\n    this.content = dom.createElement(\"div\");\n    this.content.className = \"ace_content\";\n    this.scroller.appendChild(this.content);\n\n    this.$gutterLayer = new GutterLayer(this.$gutter);\n    this.$gutterLayer.on(\"changeGutterWidth\", this.onGutterResize.bind(this));\n\n    this.$markerBack = new MarkerLayer(this.content);\n\n    var textLayer = this.$textLayer = new TextLayer(this.content);\n    this.canvas = textLayer.element;\n\n    this.$markerFront = new MarkerLayer(this.content);\n\n    this.$cursorLayer = new CursorLayer(this.content);\n    this.$horizScroll = false;\n    this.$vScroll = false;\n\n    this.scrollBar = \n    this.scrollBarV = new VScrollBar(this.container, this);\n    this.scrollBarH = new HScrollBar(this.container, this);\n    this.scrollBarV.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollTop(e.data - _self.scrollMargin.top);\n    });\n    this.scrollBarH.on(\"scroll\", function(e) {\n        if (!_self.$scrollAnimation)\n            _self.session.setScrollLeft(e.data - _self.scrollMargin.left);\n    });\n\n    this.scrollTop = 0;\n    this.scrollLeft = 0;\n\n    this.cursorPos = {\n        row : 0,\n        column : 0\n    };\n\n    this.$fontMetrics = new FontMetrics(this.container);\n    this.$textLayer.$setFontMetrics(this.$fontMetrics);\n    this.$textLayer.on(\"changeCharacterSize\", function(e) {\n        _self.updateCharacterSize();\n        _self.onResize(true, _self.gutterWidth, _self.$size.width, _self.$size.height);\n        _self._signal(\"changeCharacterSize\", e);\n    });\n\n    this.$size = {\n        width: 0,\n        height: 0,\n        scrollerHeight: 0,\n        scrollerWidth: 0,\n        $dirty: true\n    };\n\n    this.layerConfig = {\n        width : 1,\n        padding : 0,\n        firstRow : 0,\n        firstRowScreen: 0,\n        lastRow : 0,\n        lineHeight : 0,\n        characterWidth : 0,\n        minHeight : 1,\n        maxHeight : 1,\n        offset : 0,\n        height : 1,\n        gutterOffset: 1\n    };\n    \n    this.scrollMargin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.margin = {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        v: 0,\n        h: 0\n    };\n    \n    this.$keepTextAreaAtCursor = !useragent.isIOS;\n\n    this.$loop = new RenderLoop(\n        this.$renderChanges.bind(this),\n        this.container.ownerDocument.defaultView\n    );\n    this.$loop.schedule(this.CHANGE_FULL);\n\n    this.updateCharacterSize();\n    this.setPadding(4);\n    config.resetOptions(this);\n    config._signal(\"renderer\", this);\n};\n\n(function() {\n\n    this.CHANGE_CURSOR = 1;\n    this.CHANGE_MARKER = 2;\n    this.CHANGE_GUTTER = 4;\n    this.CHANGE_SCROLL = 8;\n    this.CHANGE_LINES = 16;\n    this.CHANGE_TEXT = 32;\n    this.CHANGE_SIZE = 64;\n    this.CHANGE_MARKER_BACK = 128;\n    this.CHANGE_MARKER_FRONT = 256;\n    this.CHANGE_FULL = 512;\n    this.CHANGE_H_SCROLL = 1024;\n\n    oop.implement(this, EventEmitter);\n\n    this.updateCharacterSize = function() {\n        if (this.$textLayer.allowBoldFonts != this.$allowBoldFonts) {\n            this.$allowBoldFonts = this.$textLayer.allowBoldFonts;\n            this.setStyle(\"ace_nobold\", !this.$allowBoldFonts);\n        }\n\n        this.layerConfig.characterWidth =\n        this.characterWidth = this.$textLayer.getCharacterWidth();\n        this.layerConfig.lineHeight =\n        this.lineHeight = this.$textLayer.getLineHeight();\n        this.$updatePrintMargin();\n        dom.setStyle(this.scroller.style, \"line-height\", this.lineHeight + \"px\");\n    };\n    this.setSession = function(session) {\n        if (this.session)\n            this.session.doc.off(\"changeNewLineMode\", this.onChangeNewLineMode);\n            \n        this.session = session;\n        if (session && this.scrollMargin.top && session.getScrollTop() <= 0)\n            session.setScrollTop(-this.scrollMargin.top);\n\n        this.$cursorLayer.setSession(session);\n        this.$markerBack.setSession(session);\n        this.$markerFront.setSession(session);\n        this.$gutterLayer.setSession(session);\n        this.$textLayer.setSession(session);\n        if (!session)\n            return;\n        \n        this.$loop.schedule(this.CHANGE_FULL);\n        this.session.$setFontMetrics(this.$fontMetrics);\n        this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null;\n        \n        this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this);\n        this.onChangeNewLineMode();\n        this.session.doc.on(\"changeNewLineMode\", this.onChangeNewLineMode);\n    };\n    this.updateLines = function(firstRow, lastRow, force) {\n        if (lastRow === undefined)\n            lastRow = Infinity;\n\n        if (!this.$changedLines) {\n            this.$changedLines = {\n                firstRow: firstRow,\n                lastRow: lastRow\n            };\n        }\n        else {\n            if (this.$changedLines.firstRow > firstRow)\n                this.$changedLines.firstRow = firstRow;\n\n            if (this.$changedLines.lastRow < lastRow)\n                this.$changedLines.lastRow = lastRow;\n        }\n        if (this.$changedLines.lastRow < this.layerConfig.firstRow) {\n            if (force)\n                this.$changedLines.lastRow = this.layerConfig.lastRow;\n            else\n                return;\n        }\n        if (this.$changedLines.firstRow > this.layerConfig.lastRow)\n            return;\n        this.$loop.schedule(this.CHANGE_LINES);\n    };\n\n    this.onChangeNewLineMode = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n        this.$textLayer.$updateEolChar();\n        this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);\n    };\n    \n    this.onChangeTabSize = function() {\n        this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER);\n        this.$textLayer.onChangeTabSize();\n    };\n    this.updateText = function() {\n        this.$loop.schedule(this.CHANGE_TEXT);\n    };\n    this.updateFull = function(force) {\n        if (force)\n            this.$renderChanges(this.CHANGE_FULL, true);\n        else\n            this.$loop.schedule(this.CHANGE_FULL);\n    };\n    this.updateFontSize = function() {\n        this.$textLayer.checkForSizeChanges();\n    };\n\n    this.$changes = 0;\n    this.$updateSizeAsync = function() {\n        if (this.$loop.pending)\n            this.$size.$dirty = true;\n        else\n            this.onResize();\n    };\n    this.onResize = function(force, gutterWidth, width, height) {\n        if (this.resizing > 2)\n            return;\n        else if (this.resizing > 0)\n            this.resizing++;\n        else\n            this.resizing = force ? 1 : 0;\n        var el = this.container;\n        if (!height)\n            height = el.clientHeight || el.scrollHeight;\n        if (!width)\n            width = el.clientWidth || el.scrollWidth;\n        var changes = this.$updateCachedSize(force, gutterWidth, width, height);\n\n        \n        if (!this.$size.scrollerHeight || (!width && !height))\n            return this.resizing = 0;\n\n        if (force)\n            this.$gutterLayer.$padding = null;\n\n        if (force)\n            this.$renderChanges(changes | this.$changes, true);\n        else\n            this.$loop.schedule(changes | this.$changes);\n\n        if (this.resizing)\n            this.resizing = 0;\n        this.scrollBarV.scrollLeft = this.scrollBarV.scrollTop = null;\n    };\n    \n    this.$updateCachedSize = function(force, gutterWidth, width, height) {\n        height -= (this.$extraHeight || 0);\n        var changes = 0;\n        var size = this.$size;\n        var oldSize = {\n            width: size.width,\n            height: size.height,\n            scrollerHeight: size.scrollerHeight,\n            scrollerWidth: size.scrollerWidth\n        };\n        if (height && (force || size.height != height)) {\n            size.height = height;\n            changes |= this.CHANGE_SIZE;\n\n            size.scrollerHeight = size.height;\n            if (this.$horizScroll)\n                size.scrollerHeight -= this.scrollBarH.getHeight();\n            this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + \"px\";\n\n            changes = changes | this.CHANGE_SCROLL;\n        }\n\n        if (width && (force || size.width != width)) {\n            changes |= this.CHANGE_SIZE;\n            size.width = width;\n            \n            if (gutterWidth == null)\n                gutterWidth = this.$showGutter ? this.$gutter.offsetWidth : 0;\n            \n            this.gutterWidth = gutterWidth;\n            \n            dom.setStyle(this.scrollBarH.element.style, \"left\", gutterWidth + \"px\");\n            dom.setStyle(this.scroller.style, \"left\", gutterWidth + this.margin.left + \"px\");\n            size.scrollerWidth = Math.max(0, width - gutterWidth - this.scrollBarV.getWidth() - this.margin.h);\n            dom.setStyle(this.$gutter.style, \"left\", this.margin.left + \"px\");\n            \n            var right = this.scrollBarV.getWidth() + \"px\";\n            dom.setStyle(this.scrollBarH.element.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"right\", right);\n            dom.setStyle(this.scroller.style, \"bottom\", this.scrollBarH.getHeight());\n\n            if (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || force) {\n                changes |= this.CHANGE_FULL;\n            }\n        }\n        \n        size.$dirty = !width || !height;\n\n        if (changes)\n            this._signal(\"resize\", oldSize);\n\n        return changes;\n    };\n\n    this.onGutterResize = function(width) {\n        var gutterWidth = this.$showGutter ? width : 0;\n        if (gutterWidth != this.gutterWidth)\n            this.$changes |= this.$updateCachedSize(true, gutterWidth, this.$size.width, this.$size.height);\n\n        if (this.session.getUseWrapMode() && this.adjustWrapLimit()) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else if (this.$size.$dirty) {\n            this.$loop.schedule(this.CHANGE_FULL);\n        } else {\n            this.$computeLayerConfig();\n        }\n    };\n    this.adjustWrapLimit = function() {\n        var availableWidth = this.$size.scrollerWidth - this.$padding * 2;\n        var limit = Math.floor(availableWidth / this.characterWidth);\n        return this.session.adjustWrapLimit(limit, this.$showPrintMargin && this.$printMarginColumn);\n    };\n    this.setAnimatedScroll = function(shouldAnimate){\n        this.setOption(\"animatedScroll\", shouldAnimate);\n    };\n    this.getAnimatedScroll = function() {\n        return this.$animatedScroll;\n    };\n    this.setShowInvisibles = function(showInvisibles) {\n        this.setOption(\"showInvisibles\", showInvisibles);\n        this.session.$bidiHandler.setShowInvisibles(showInvisibles);\n    };\n    this.getShowInvisibles = function() {\n        return this.getOption(\"showInvisibles\");\n    };\n    this.getDisplayIndentGuides = function() {\n        return this.getOption(\"displayIndentGuides\");\n    };\n\n    this.setDisplayIndentGuides = function(display) {\n        this.setOption(\"displayIndentGuides\", display);\n    };\n    this.setShowPrintMargin = function(showPrintMargin) {\n        this.setOption(\"showPrintMargin\", showPrintMargin);\n    };\n    this.getShowPrintMargin = function() {\n        return this.getOption(\"showPrintMargin\");\n    };\n    this.setPrintMarginColumn = function(showPrintMargin) {\n        this.setOption(\"printMarginColumn\", showPrintMargin);\n    };\n    this.getPrintMarginColumn = function() {\n        return this.getOption(\"printMarginColumn\");\n    };\n    this.getShowGutter = function(){\n        return this.getOption(\"showGutter\");\n    };\n    this.setShowGutter = function(show){\n        return this.setOption(\"showGutter\", show);\n    };\n\n    this.getFadeFoldWidgets = function(){\n        return this.getOption(\"fadeFoldWidgets\");\n    };\n\n    this.setFadeFoldWidgets = function(show) {\n        this.setOption(\"fadeFoldWidgets\", show);\n    };\n\n    this.setHighlightGutterLine = function(shouldHighlight) {\n        this.setOption(\"highlightGutterLine\", shouldHighlight);\n    };\n\n    this.getHighlightGutterLine = function() {\n        return this.getOption(\"highlightGutterLine\");\n    };\n\n    this.$updatePrintMargin = function() {\n        if (!this.$showPrintMargin && !this.$printMarginEl)\n            return;\n\n        if (!this.$printMarginEl) {\n            var containerEl = dom.createElement(\"div\");\n            containerEl.className = \"ace_layer ace_print-margin-layer\";\n            this.$printMarginEl = dom.createElement(\"div\");\n            this.$printMarginEl.className = \"ace_print-margin\";\n            containerEl.appendChild(this.$printMarginEl);\n            this.content.insertBefore(containerEl, this.content.firstChild);\n        }\n\n        var style = this.$printMarginEl.style;\n        style.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + \"px\";\n        style.visibility = this.$showPrintMargin ? \"visible\" : \"hidden\";\n        \n        if (this.session && this.session.$wrap == -1)\n            this.adjustWrapLimit();\n    };\n    this.getContainerElement = function() {\n        return this.container;\n    };\n    this.getMouseEventTarget = function() {\n        return this.scroller;\n    };\n    this.getTextAreaContainer = function() {\n        return this.container;\n    };\n    this.$moveTextAreaToCursor = function() {\n        if (this.$isMousePressed) return;\n        var style = this.textarea.style;\n        var composition = this.$composition;\n        if (!this.$keepTextAreaAtCursor && !composition) {\n            dom.translate(this.textarea, -100, 0);\n            return;\n        }\n        var pixelPos = this.$cursorLayer.$pixelPos;\n        if (!pixelPos)\n            return;\n        if (composition && composition.markerRange)\n            pixelPos = this.$cursorLayer.getPixelPosition(composition.markerRange.start, true);\n        \n        var config = this.layerConfig;\n        var posTop = pixelPos.top;\n        var posLeft = pixelPos.left;\n        posTop -= config.offset;\n\n        var h = composition && composition.useTextareaForIME ? this.lineHeight : HIDE_TEXTAREA ? 0 : 1;\n        if (posTop < 0 || posTop > config.height - h) {\n            dom.translate(this.textarea, 0, 0);\n            return;\n        }\n\n        var w = 1;\n        var maxTop = this.$size.height - h;\n        if (!composition) {\n            posTop += this.lineHeight;\n        }\n        else {\n            if (composition.useTextareaForIME) {\n                var val = this.textarea.value;\n                w = this.characterWidth * (this.session.$getStringScreenWidth(val)[0]);\n            }\n            else {\n                posTop += this.lineHeight + 2;\n            }\n        }\n        \n        posLeft -= this.scrollLeft;\n        if (posLeft > this.$size.scrollerWidth - w)\n            posLeft = this.$size.scrollerWidth - w;\n\n        posLeft += this.gutterWidth + this.margin.left;\n\n        dom.setStyle(style, \"height\", h + \"px\");\n        dom.setStyle(style, \"width\", w + \"px\");\n        dom.translate(this.textarea, Math.min(posLeft, this.$size.scrollerWidth - w), Math.min(posTop, maxTop));\n    };\n    this.getFirstVisibleRow = function() {\n        return this.layerConfig.firstRow;\n    };\n    this.getFirstFullyVisibleRow = function() {\n        return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);\n    };\n    this.getLastFullyVisibleRow = function() {\n        var config = this.layerConfig;\n        var lastRow = config.lastRow;\n        var top = this.session.documentToScreenRow(lastRow, 0) * config.lineHeight;\n        if (top - this.session.getScrollTop() > config.height - config.lineHeight)\n            return lastRow - 1;\n        return lastRow;\n    };\n    this.getLastVisibleRow = function() {\n        return this.layerConfig.lastRow;\n    };\n\n    this.$padding = null;\n    this.setPadding = function(padding) {\n        this.$padding = padding;\n        this.$textLayer.setPadding(padding);\n        this.$cursorLayer.setPadding(padding);\n        this.$markerFront.setPadding(padding);\n        this.$markerBack.setPadding(padding);\n        this.$loop.schedule(this.CHANGE_FULL);\n        this.$updatePrintMargin();\n    };\n    \n    this.setScrollMargin = function(top, bottom, left, right) {\n        var sm = this.scrollMargin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        if (sm.top && this.scrollTop <= 0 && this.session)\n            this.session.setScrollTop(-sm.top);\n        this.updateFull();\n    };\n    \n    this.setMargin = function(top, bottom, left, right) {\n        var sm = this.margin;\n        sm.top = top|0;\n        sm.bottom = bottom|0;\n        sm.right = right|0;\n        sm.left = left|0;\n        sm.v = sm.top + sm.bottom;\n        sm.h = sm.left + sm.right;\n        this.$updateCachedSize(true, this.gutterWidth, this.$size.width, this.$size.height);\n        this.updateFull();\n    };\n    this.getHScrollBarAlwaysVisible = function() {\n        return this.$hScrollBarAlwaysVisible;\n    };\n    this.setHScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"hScrollBarAlwaysVisible\", alwaysVisible);\n    };\n    this.getVScrollBarAlwaysVisible = function() {\n        return this.$vScrollBarAlwaysVisible;\n    };\n    this.setVScrollBarAlwaysVisible = function(alwaysVisible) {\n        this.setOption(\"vScrollBarAlwaysVisible\", alwaysVisible);\n    };\n\n    this.$updateScrollBarV = function() {\n        var scrollHeight = this.layerConfig.maxHeight;\n        var scrollerHeight = this.$size.scrollerHeight;\n        if (!this.$maxLines && this.$scrollPastEnd) {\n            scrollHeight -= (scrollerHeight - this.lineHeight) * this.$scrollPastEnd;\n            if (this.scrollTop > scrollHeight - scrollerHeight) {\n                scrollHeight = this.scrollTop + scrollerHeight;\n                this.scrollBarV.scrollTop = null;\n            }\n        }\n        this.scrollBarV.setScrollHeight(scrollHeight + this.scrollMargin.v);\n        this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);\n    };\n    this.$updateScrollBarH = function() {\n        this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h);\n        this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);\n    };\n    \n    this.$frozen = false;\n    this.freeze = function() {\n        this.$frozen = true;\n    };\n    \n    this.unfreeze = function() {\n        this.$frozen = false;\n    };\n\n    this.$renderChanges = function(changes, force) {\n        if (this.$changes) {\n            changes |= this.$changes;\n            this.$changes = 0;\n        }\n        if ((!this.session || !this.container.offsetWidth || this.$frozen) || (!changes && !force)) {\n            this.$changes |= changes;\n            return; \n        } \n        if (this.$size.$dirty) {\n            this.$changes |= changes;\n            return this.onResize(true);\n        }\n        if (!this.lineHeight) {\n            this.$textLayer.checkForSizeChanges();\n        }\n        \n        this._signal(\"beforeRender\", changes);\n        \n        if (this.session && this.session.$bidiHandler)\n            this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);\n\n        var config = this.layerConfig;\n        if (changes & this.CHANGE_FULL ||\n            changes & this.CHANGE_SIZE ||\n            changes & this.CHANGE_TEXT ||\n            changes & this.CHANGE_LINES ||\n            changes & this.CHANGE_SCROLL ||\n            changes & this.CHANGE_H_SCROLL\n        ) {\n            changes |= this.$computeLayerConfig() | this.$loop.clear();\n            if (config.firstRow != this.layerConfig.firstRow && config.firstRowScreen == this.layerConfig.firstRowScreen) {\n                var st = this.scrollTop + (config.firstRow - this.layerConfig.firstRow) * this.lineHeight;\n                if (st > 0) {\n                    this.scrollTop = st;\n                    changes = changes | this.CHANGE_SCROLL;\n                    changes |= this.$computeLayerConfig() | this.$loop.clear();\n                }\n            }\n            config = this.layerConfig;\n            this.$updateScrollBarV();\n            if (changes & this.CHANGE_H_SCROLL)\n                this.$updateScrollBarH();\n            \n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            \n            var width = config.width + 2 * this.$padding + \"px\";\n            var height = config.minHeight + \"px\";\n            \n            dom.setStyle(this.content.style, \"width\", width);\n            dom.setStyle(this.content.style, \"height\", height);\n        }\n        if (changes & this.CHANGE_H_SCROLL) {\n            dom.translate(this.content, -this.scrollLeft, -config.offset);\n            this.scroller.className = this.scrollLeft <= 0 ? \"ace_scroller\" : \"ace_scroller ace_scroll-left\";\n        }\n        if (changes & this.CHANGE_FULL) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n        if (changes & this.CHANGE_SCROLL) {\n            this.$changedLines = null;\n            if (changes & this.CHANGE_TEXT || changes & this.CHANGE_LINES)\n                this.$textLayer.update(config);\n            else\n                this.$textLayer.scrollLines(config);\n\n            if (this.$showGutter) {\n                if (changes & this.CHANGE_GUTTER || changes & this.CHANGE_LINES)\n                    this.$gutterLayer.update(config);\n                else\n                    this.$gutterLayer.scrollLines(config);\n            }\n            this.$markerBack.update(config);\n            this.$markerFront.update(config);\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n            this._signal(\"afterRender\", changes);\n            return;\n        }\n\n        if (changes & this.CHANGE_TEXT) {\n            this.$changedLines = null;\n            this.$textLayer.update(config);\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_LINES) {\n            if (this.$updateLines() || (changes & this.CHANGE_GUTTER) && this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_TEXT || changes & this.CHANGE_GUTTER) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(config);\n        }\n        else if (changes & this.CHANGE_CURSOR) {\n            if (this.$highlightGutterLine)\n                this.$gutterLayer.updateLineHighlight(config);\n        }\n\n        if (changes & this.CHANGE_CURSOR) {\n            this.$cursorLayer.update(config);\n            this.$moveTextAreaToCursor();\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT)) {\n            this.$markerFront.update(config);\n        }\n\n        if (changes & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK)) {\n            this.$markerBack.update(config);\n        }\n\n        this._signal(\"afterRender\", changes);\n    };\n\n    \n    this.$autosize = function() {\n        var height = this.session.getScreenLength() * this.lineHeight;\n        var maxHeight = this.$maxLines * this.lineHeight;\n        var desiredHeight = Math.min(maxHeight, \n            Math.max((this.$minLines || 1) * this.lineHeight, height)\n        ) + this.scrollMargin.v + (this.$extraHeight || 0);\n        if (this.$horizScroll)\n            desiredHeight += this.scrollBarH.getHeight();\n        if (this.$maxPixelHeight && desiredHeight > this.$maxPixelHeight)\n            desiredHeight = this.$maxPixelHeight;\n        \n        var hideScrollbars = desiredHeight <= 2 * this.lineHeight;\n        var vScroll = !hideScrollbars && height > maxHeight;\n        \n        if (desiredHeight != this.desiredHeight ||\n            this.$size.height != this.desiredHeight || vScroll != this.$vScroll) {\n            if (vScroll != this.$vScroll) {\n                this.$vScroll = vScroll;\n                this.scrollBarV.setVisible(vScroll);\n            }\n            \n            var w = this.container.clientWidth;\n            this.container.style.height = desiredHeight + \"px\";\n            this.$updateCachedSize(true, this.$gutterWidth, w, desiredHeight);\n            this.desiredHeight = desiredHeight;\n            \n            this._signal(\"autosize\");\n        }\n    };\n    \n    this.$computeLayerConfig = function() {\n        var session = this.session;\n        var size = this.$size;\n        \n        var hideScrollbars = size.height <= 2 * this.lineHeight;\n        var screenLines = this.session.getScreenLength();\n        var maxHeight = screenLines * this.lineHeight;\n\n        var longestLine = this.$getLongestLine();\n        \n        var horizScroll = !hideScrollbars && (this.$hScrollBarAlwaysVisible ||\n            size.scrollerWidth - longestLine - 2 * this.$padding < 0);\n\n        var hScrollChanged = this.$horizScroll !== horizScroll;\n        if (hScrollChanged) {\n            this.$horizScroll = horizScroll;\n            this.scrollBarH.setVisible(horizScroll);\n        }\n        var vScrollBefore = this.$vScroll; // autosize can change vscroll value in which case we need to update longestLine\n        if (this.$maxLines && this.lineHeight > 1)\n            this.$autosize();\n\n        var minHeight = size.scrollerHeight + this.lineHeight;\n        \n        var scrollPastEnd = !this.$maxLines && this.$scrollPastEnd\n            ? (size.scrollerHeight - this.lineHeight) * this.$scrollPastEnd\n            : 0;\n        maxHeight += scrollPastEnd;\n        \n        var sm = this.scrollMargin;\n        this.session.setScrollTop(Math.max(-sm.top,\n            Math.min(this.scrollTop, maxHeight - size.scrollerHeight + sm.bottom)));\n\n        this.session.setScrollLeft(Math.max(-sm.left, Math.min(this.scrollLeft, \n            longestLine + 2 * this.$padding - size.scrollerWidth + sm.right)));\n        \n        var vScroll = !hideScrollbars && (this.$vScrollBarAlwaysVisible ||\n            size.scrollerHeight - maxHeight + scrollPastEnd < 0 || this.scrollTop > sm.top);\n        var vScrollChanged = vScrollBefore !== vScroll;\n        if (vScrollChanged) {\n            this.$vScroll = vScroll;\n            this.scrollBarV.setVisible(vScroll);\n        }\n\n        var offset = this.scrollTop % this.lineHeight;\n        var lineCount = Math.ceil(minHeight / this.lineHeight) - 1;\n        var firstRow = Math.max(0, Math.round((this.scrollTop - offset) / this.lineHeight));\n        var lastRow = firstRow + lineCount;\n        var firstRowScreen, firstRowHeight;\n        var lineHeight = this.lineHeight;\n        firstRow = session.screenToDocumentRow(firstRow, 0);\n        var foldLine = session.getFoldLine(firstRow);\n        if (foldLine) {\n            firstRow = foldLine.start.row;\n        }\n\n        firstRowScreen = session.documentToScreenRow(firstRow, 0);\n        firstRowHeight = session.getRowLength(firstRow) * lineHeight;\n\n        lastRow = Math.min(session.screenToDocumentRow(lastRow, 0), session.getLength() - 1);\n        minHeight = size.scrollerHeight + session.getRowLength(lastRow) * lineHeight +\n                                                firstRowHeight;\n\n        offset = this.scrollTop - firstRowScreen * lineHeight;\n\n        var changes = 0;\n        if (this.layerConfig.width != longestLine || hScrollChanged) \n            changes = this.CHANGE_H_SCROLL;\n        if (hScrollChanged || vScrollChanged) {\n            changes |= this.$updateCachedSize(true, this.gutterWidth, size.width, size.height);\n            this._signal(\"scrollbarVisibilityChanged\");\n            if (vScrollChanged)\n                longestLine = this.$getLongestLine();\n        }\n        \n        this.layerConfig = {\n            width : longestLine,\n            padding : this.$padding,\n            firstRow : firstRow,\n            firstRowScreen: firstRowScreen,\n            lastRow : lastRow,\n            lineHeight : lineHeight,\n            characterWidth : this.characterWidth,\n            minHeight : minHeight,\n            maxHeight : maxHeight,\n            offset : offset,\n            gutterOffset : lineHeight ? Math.max(0, Math.ceil((offset + size.height - size.scrollerHeight) / lineHeight)) : 0,\n            height : this.$size.scrollerHeight\n        };\n\n        if (this.session.$bidiHandler)\n            this.session.$bidiHandler.setContentWidth(longestLine - this.$padding);\n\n        return changes;\n    };\n\n    this.$updateLines = function() {\n        if (!this.$changedLines) return;\n        var firstRow = this.$changedLines.firstRow;\n        var lastRow = this.$changedLines.lastRow;\n        this.$changedLines = null;\n\n        var layerConfig = this.layerConfig;\n\n        if (firstRow > layerConfig.lastRow + 1) { return; }\n        if (lastRow < layerConfig.firstRow) { return; }\n        if (lastRow === Infinity) {\n            if (this.$showGutter)\n                this.$gutterLayer.update(layerConfig);\n            this.$textLayer.update(layerConfig);\n            return;\n        }\n        this.$textLayer.updateLines(layerConfig, firstRow, lastRow);\n        return true;\n    };\n\n    this.$getLongestLine = function() {\n        var charCount = this.session.getScreenWidth();\n        if (this.showInvisibles && !this.session.$useWrapMode)\n            charCount += 1;\n            \n        if (this.$textLayer && charCount > this.$textLayer.MAX_LINE_LENGTH)\n            charCount = this.$textLayer.MAX_LINE_LENGTH + 30;\n\n        return Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round(charCount * this.characterWidth));\n    };\n    this.updateFrontMarkers = function() {\n        this.$markerFront.setMarkers(this.session.getMarkers(true));\n        this.$loop.schedule(this.CHANGE_MARKER_FRONT);\n    };\n    this.updateBackMarkers = function() {\n        this.$markerBack.setMarkers(this.session.getMarkers());\n        this.$loop.schedule(this.CHANGE_MARKER_BACK);\n    };\n    this.addGutterDecoration = function(row, className){\n        this.$gutterLayer.addGutterDecoration(row, className);\n    };\n    this.removeGutterDecoration = function(row, className){\n        this.$gutterLayer.removeGutterDecoration(row, className);\n    };\n    this.updateBreakpoints = function(rows) {\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.setAnnotations = function(annotations) {\n        this.$gutterLayer.setAnnotations(annotations);\n        this.$loop.schedule(this.CHANGE_GUTTER);\n    };\n    this.updateCursor = function() {\n        this.$loop.schedule(this.CHANGE_CURSOR);\n    };\n    this.hideCursor = function() {\n        this.$cursorLayer.hideCursor();\n    };\n    this.showCursor = function() {\n        this.$cursorLayer.showCursor();\n    };\n\n    this.scrollSelectionIntoView = function(anchor, lead, offset) {\n        this.scrollCursorIntoView(anchor, offset);\n        this.scrollCursorIntoView(lead, offset);\n    };\n    this.scrollCursorIntoView = function(cursor, offset, $viewMargin) {\n        if (this.$size.scrollerHeight === 0)\n            return;\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n\n        var left = pos.left;\n        var top = pos.top;\n        \n        var topMargin = $viewMargin && $viewMargin.top || 0;\n        var bottomMargin = $viewMargin && $viewMargin.bottom || 0;\n        \n        var scrollTop = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;\n        \n        if (scrollTop + topMargin > top) {\n            if (offset && scrollTop + topMargin > top + this.lineHeight)\n                top -= offset * this.$size.scrollerHeight;\n            if (top === 0)\n                top = -this.scrollMargin.top;\n            this.session.setScrollTop(top);\n        } else if (scrollTop + this.$size.scrollerHeight - bottomMargin < top + this.lineHeight) {\n            if (offset && scrollTop + this.$size.scrollerHeight - bottomMargin < top -  this.lineHeight)\n                top += offset * this.$size.scrollerHeight;\n            this.session.setScrollTop(top + this.lineHeight + bottomMargin - this.$size.scrollerHeight);\n        }\n\n        var scrollLeft = this.scrollLeft;\n\n        if (scrollLeft > left) {\n            if (left < this.$padding + 2 * this.layerConfig.characterWidth)\n                left = -this.scrollMargin.left;\n            this.session.setScrollLeft(left);\n        } else if (scrollLeft + this.$size.scrollerWidth < left + this.characterWidth) {\n            this.session.setScrollLeft(Math.round(left + this.characterWidth - this.$size.scrollerWidth));\n        } else if (scrollLeft <= this.$padding && left - scrollLeft < this.characterWidth) {\n            this.session.setScrollLeft(0);\n        }\n    };\n    this.getScrollTop = function() {\n        return this.session.getScrollTop();\n    };\n    this.getScrollLeft = function() {\n        return this.session.getScrollLeft();\n    };\n    this.getScrollTopRow = function() {\n        return this.scrollTop / this.lineHeight;\n    };\n    this.getScrollBottomRow = function() {\n        return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);\n    };\n    this.scrollToRow = function(row) {\n        this.session.setScrollTop(row * this.lineHeight);\n    };\n\n    this.alignCursor = function(cursor, alignment) {\n        if (typeof cursor == \"number\")\n            cursor = {row: cursor, column: 0};\n\n        var pos = this.$cursorLayer.getPixelPosition(cursor);\n        var h = this.$size.scrollerHeight - this.lineHeight;\n        var offset = pos.top - h * (alignment || 0);\n\n        this.session.setScrollTop(offset);\n        return offset;\n    };\n\n    this.STEPS = 8;\n    this.$calcSteps = function(fromValue, toValue){\n        var i = 0;\n        var l = this.STEPS;\n        var steps = [];\n\n        var func  = function(t, x_min, dx) {\n            return dx * (Math.pow(t - 1, 3) + 1) + x_min;\n        };\n\n        for (i = 0; i < l; ++i)\n            steps.push(func(i / this.STEPS, fromValue, toValue - fromValue));\n\n        return steps;\n    };\n    this.scrollToLine = function(line, center, animate, callback) {\n        var pos = this.$cursorLayer.getPixelPosition({row: line, column: 0});\n        var offset = pos.top;\n        if (center)\n            offset -= this.$size.scrollerHeight / 2;\n\n        var initialScroll = this.scrollTop;\n        this.session.setScrollTop(offset);\n        if (animate !== false)\n            this.animateScrolling(initialScroll, callback);\n    };\n\n    this.animateScrolling = function(fromValue, callback) {\n        var toValue = this.scrollTop;\n        if (!this.$animatedScroll)\n            return;\n        var _self = this;\n        \n        if (fromValue == toValue)\n            return;\n        \n        if (this.$scrollAnimation) {\n            var oldSteps = this.$scrollAnimation.steps;\n            if (oldSteps.length) {\n                fromValue = oldSteps[0];\n                if (fromValue == toValue)\n                    return;\n            }\n        }\n        \n        var steps = _self.$calcSteps(fromValue, toValue);\n        this.$scrollAnimation = {from: fromValue, to: toValue, steps: steps};\n\n        clearInterval(this.$timer);\n\n        _self.session.setScrollTop(steps.shift());\n        _self.session.$scrollTop = toValue;\n        this.$timer = setInterval(function() {\n            if (!_self.session) \n                return clearInterval(_self.$timer);\n            if (steps.length) {\n                _self.session.setScrollTop(steps.shift());\n                _self.session.$scrollTop = toValue;\n            } else if (toValue != null) {\n                _self.session.$scrollTop = -1;\n                _self.session.setScrollTop(toValue);\n                toValue = null;\n            } else {\n                _self.$timer = clearInterval(_self.$timer);\n                _self.$scrollAnimation = null;\n                callback && callback();\n            }\n        }, 10);\n    };\n    this.scrollToY = function(scrollTop) {\n        if (this.scrollTop !== scrollTop) {\n            this.$loop.schedule(this.CHANGE_SCROLL);\n            this.scrollTop = scrollTop;\n        }\n    };\n    this.scrollToX = function(scrollLeft) {\n        if (this.scrollLeft !== scrollLeft)\n            this.scrollLeft = scrollLeft;\n        this.$loop.schedule(this.CHANGE_H_SCROLL);\n    };\n    this.scrollTo = function(x, y) {\n        this.session.setScrollTop(y);\n        this.session.setScrollLeft(y);\n    };\n    this.scrollBy = function(deltaX, deltaY) {\n        deltaY && this.session.setScrollTop(this.session.getScrollTop() + deltaY);\n        deltaX && this.session.setScrollLeft(this.session.getScrollLeft() + deltaX);\n    };\n    this.isScrollableBy = function(deltaX, deltaY) {\n        if (deltaY < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top)\n           return true;\n        if (deltaY > 0 && this.session.getScrollTop() + this.$size.scrollerHeight\n            - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom)\n           return true;\n        if (deltaX < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left)\n            return true;\n        if (deltaX > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth\n            - this.layerConfig.width < -1 + this.scrollMargin.right)\n           return true;\n    };\n\n    this.pixelToScreenCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n        \n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        return {row: row, column: col, side: offset - col > 0 ? 1 : -1, offsetX:  offsetX};\n    };\n\n    this.screenToTextCoordinates = function(x, y) {\n        var canvasPos;\n        if (this.$hasCssTransforms) {\n            canvasPos = {top:0, left: 0};\n            var p = this.$fontMetrics.transformCoordinates([x, y]);\n            x = p[1] - this.gutterWidth - this.margin.left;\n            y = p[0];\n        } else {\n            canvasPos = this.scroller.getBoundingClientRect();\n        }\n\n        var offsetX = x + this.scrollLeft - canvasPos.left - this.$padding;\n        var offset = offsetX / this.characterWidth;\n        var col = this.$blockCursor ? Math.floor(offset) : Math.round(offset);\n\n        var row = Math.floor((y + this.scrollTop - canvasPos.top) / this.lineHeight);\n\n        return this.session.screenToDocumentPosition(row, Math.max(col, 0), offsetX);\n    };\n    this.textToScreenCoordinates = function(row, column) {\n        var canvasPos = this.scroller.getBoundingClientRect();\n        var pos = this.session.documentToScreenPosition(row, column);\n\n        var x = this.$padding + (this.session.$bidiHandler.isBidiRow(pos.row, row)\n             ? this.session.$bidiHandler.getPosLeft(pos.column)\n             : Math.round(pos.column * this.characterWidth));\n        \n        var y = pos.row * this.lineHeight;\n\n        return {\n            pageX: canvasPos.left + x - this.scrollLeft,\n            pageY: canvasPos.top + y - this.scrollTop\n        };\n    };\n    this.visualizeFocus = function() {\n        dom.addCssClass(this.container, \"ace_focus\");\n    };\n    this.visualizeBlur = function() {\n        dom.removeCssClass(this.container, \"ace_focus\");\n    };\n    this.showComposition = function(composition) {\n        this.$composition = composition;\n        if (!composition.cssText) {\n            composition.cssText = this.textarea.style.cssText;\n        }\n        if (composition.useTextareaForIME == undefined)\n            composition.useTextareaForIME = this.$useTextareaForIME;\n        \n        if (this.$useTextareaForIME) {\n            dom.addCssClass(this.textarea, \"ace_composition\");\n            this.textarea.style.cssText = \"\";\n            this.$moveTextAreaToCursor();\n            this.$cursorLayer.element.style.display = \"none\";\n        }\n        else {\n            composition.markerId = this.session.addMarker(composition.markerRange, \"ace_composition_marker\", \"text\");\n        }\n    };\n    this.setCompositionText = function(text) {\n        var cursor = this.session.selection.cursor;\n        this.addToken(text, \"composition_placeholder\", cursor.row, cursor.column);\n        this.$moveTextAreaToCursor();\n    };\n    this.hideComposition = function() {\n        if (!this.$composition)\n            return;\n        \n        if (this.$composition.markerId)\n            this.session.removeMarker(this.$composition.markerId);\n\n        dom.removeCssClass(this.textarea, \"ace_composition\");\n        this.textarea.style.cssText = this.$composition.cssText;\n        var cursor = this.session.selection.cursor;\n        this.removeExtraToken(cursor.row, cursor.column);\n        this.$composition = null;\n        this.$cursorLayer.element.style.display = \"\";\n    };\n    \n    this.addToken = function(text, type, row, column) {\n        var session = this.session;\n        session.bgTokenizer.lines[row] = null;\n        var newToken = {type: type, value: text};\n        var tokens = session.getTokens(row);\n        if (column == null) {\n            tokens.push(newToken);\n        } else {\n            var l = 0;\n            for (var i =0; i < tokens.length; i++) {\n                var token = tokens[i];\n                l += token.value.length;\n                if (column <= l) {\n                    var diff = token.value.length - (l - column);\n                    var before = token.value.slice(0, diff);\n                    var after = token.value.slice(diff);\n    \n                    tokens.splice(i, 1, {type: token.type, value: before},  newToken,  {type: token.type, value: after});\n                    break;\n                }\n            }\n        }\n        this.updateLines(row, row);\n    };\n\n    this.removeExtraToken = function(row, column) {\n        this.updateLines(row, row);\n    };\n    this.setTheme = function(theme, cb) {\n        var _self = this;\n        this.$themeId = theme;\n        _self._dispatchEvent('themeChange',{theme:theme});\n\n        if (!theme || typeof theme == \"string\") {\n            var moduleName = theme || this.$options.theme.initialValue;\n            config.loadModule([\"theme\", moduleName], afterLoad);\n        } else {\n            afterLoad(theme);\n        }\n\n        function afterLoad(module) {\n            if (_self.$themeId != theme)\n                return cb && cb();\n            if (!module || !module.cssClass)\n                throw new Error(\"couldn't load module \" + theme + \" or it didn't call define\");\n            if (module.$id)\n                _self.$themeId = module.$id;\n            dom.importCssString(\n                module.cssText,\n                module.cssClass,\n                _self.container\n            );\n\n            if (_self.theme)\n                dom.removeCssClass(_self.container, _self.theme.cssClass);\n\n            var padding = \"padding\" in module ? module.padding \n                : \"padding\" in (_self.theme || {}) ? 4 : _self.$padding;\n            if (_self.$padding && padding != _self.$padding)\n                _self.setPadding(padding);\n            _self.$theme = module.cssClass;\n\n            _self.theme = module;\n            dom.addCssClass(_self.container, module.cssClass);\n            dom.setCssClass(_self.container, \"ace_dark\", module.isDark);\n            if (_self.$size) {\n                _self.$size.width = 0;\n                _self.$updateSizeAsync();\n            }\n\n            _self._dispatchEvent('themeLoaded', {theme:module});\n            cb && cb();\n        }\n    };\n    this.getTheme = function() {\n        return this.$themeId;\n    };\n    this.setStyle = function(style, include) {\n        dom.setCssClass(this.container, style, include !== false);\n    };\n    this.unsetStyle = function(style) {\n        dom.removeCssClass(this.container, style);\n    };\n    \n    this.setCursorStyle = function(style) {\n        dom.setStyle(this.scroller.style, \"cursor\", style);\n    };\n    this.setMouseCursor = function(cursorStyle) {\n        dom.setStyle(this.scroller.style, \"cursor\", cursorStyle);\n    };\n    \n    this.attachToShadowRoot = function() {\n        dom.importCssString(editorCss, \"ace_editor.css\", this.container);\n    };\n    this.destroy = function() {\n        this.freeze();\n        this.$fontMetrics.destroy();\n        this.$cursorLayer.destroy();\n        this.removeAllListeners();\n        this.container.textContent = \"\";\n    };\n\n}).call(VirtualRenderer.prototype);\n\n\nconfig.defineOptions(VirtualRenderer.prototype, \"renderer\", {\n    animatedScroll: {initialValue: false},\n    showInvisibles: {\n        set: function(value) {\n            if (this.$textLayer.setShowInvisibles(value))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: false\n    },\n    showPrintMargin: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: true\n    },\n    printMarginColumn: {\n        set: function() { this.$updatePrintMargin(); },\n        initialValue: 80\n    },\n    printMargin: {\n        set: function(val) {\n            if (typeof val == \"number\")\n                this.$printMarginColumn = val;\n            this.$showPrintMargin = !!val;\n            this.$updatePrintMargin();\n        },\n        get: function() {\n            return this.$showPrintMargin && this.$printMarginColumn; \n        }\n    },\n    showGutter: {\n        set: function(show){\n            this.$gutter.style.display = show ? \"block\" : \"none\";\n            this.$loop.schedule(this.CHANGE_FULL);\n            this.onGutterResize();\n        },\n        initialValue: true\n    },\n    fadeFoldWidgets: {\n        set: function(show) {\n            dom.setCssClass(this.$gutter, \"ace_fade-fold-widgets\", show);\n        },\n        initialValue: false\n    },\n    showFoldWidgets: {\n        set: function(show) {\n            this.$gutterLayer.setShowFoldWidgets(show);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    displayIndentGuides: {\n        set: function(show) {\n            if (this.$textLayer.setDisplayIndentGuides(show))\n                this.$loop.schedule(this.CHANGE_TEXT);\n        },\n        initialValue: true\n    },\n    highlightGutterLine: {\n        set: function(shouldHighlight) {\n            this.$gutterLayer.setHighlightGutterLine(shouldHighlight);\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        },\n        initialValue: true\n    },\n    hScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$hScrollBarAlwaysVisible || !this.$horizScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    vScrollBarAlwaysVisible: {\n        set: function(val) {\n            if (!this.$vScrollBarAlwaysVisible || !this.$vScroll)\n                this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: false\n    },\n    fontSize: {\n        set: function(size) {\n            if (typeof size == \"number\")\n                size = size + \"px\";\n            this.container.style.fontSize = size;\n            this.updateFontSize();\n        },\n        initialValue: 12\n    },\n    fontFamily: {\n        set: function(name) {\n            this.container.style.fontFamily = name;\n            this.updateFontSize();\n        }\n    },\n    maxLines: {\n        set: function(val) {\n            this.updateFull();\n        }\n    },\n    minLines: {\n        set: function(val) {\n            if (!(this.$minLines < 0x1ffffffffffff))\n                this.$minLines = 0;\n            this.updateFull();\n        }\n    },\n    maxPixelHeight: {\n        set: function(val) {\n            this.updateFull();\n        },\n        initialValue: 0\n    },\n    scrollPastEnd: {\n        set: function(val) {\n            val = +val || 0;\n            if (this.$scrollPastEnd == val)\n                return;\n            this.$scrollPastEnd = val;\n            this.$loop.schedule(this.CHANGE_SCROLL);\n        },\n        initialValue: 0,\n        handlesSet: true\n    },\n    fixedWidthGutter: {\n        set: function(val) {\n            this.$gutterLayer.$fixedWidth = !!val;\n            this.$loop.schedule(this.CHANGE_GUTTER);\n        }\n    },\n    theme: {\n        set: function(val) { this.setTheme(val); },\n        get: function() { return this.$themeId || this.theme; },\n        initialValue: \"./theme/textmate\",\n        handlesSet: true\n    },\n    hasCssTransforms: {\n    },\n    useTextareaForIME: {\n        initialValue: !useragent.isMobile && !useragent.isIE\n    }\n});\n\nexports.VirtualRenderer = VirtualRenderer;\n});\n\nace.define(\"ace/worker/worker_client\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/net\",\"ace/lib/event_emitter\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar oop = require(\"../lib/oop\");\nvar net = require(\"../lib/net\");\nvar EventEmitter = require(\"../lib/event_emitter\").EventEmitter;\nvar config = require(\"../config\");\n\nfunction $workerBlob(workerUrl) {\n    var script = \"importScripts('\" + net.qualifyURL(workerUrl) + \"');\";\n    try {\n        return new Blob([script], {\"type\": \"application/javascript\"});\n    } catch (e) { // Backwards-compatibility\n        var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder;\n        var blobBuilder = new BlobBuilder();\n        blobBuilder.append(script);\n        return blobBuilder.getBlob(\"application/javascript\");\n    }\n}\n\nfunction createWorker(workerUrl) {\n    if (typeof Worker == \"undefined\")\n        return { postMessage: function() {}, terminate: function() {} };\n    if (config.get(\"loadWorkerFromBlob\")) {\n        var blob = $workerBlob(workerUrl);\n        var URL = window.URL || window.webkitURL;\n        var blobURL = URL.createObjectURL(blob);\n        return new Worker(blobURL);\n    }\n    return new Worker(workerUrl);\n}\n\nvar WorkerClient = function(worker) {\n    if (!worker.postMessage)\n        worker = this.$createWorkerFromOldConfig.apply(this, arguments);\n\n    this.$worker = worker;\n    this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.onMessage = this.onMessage.bind(this);\n\n    this.callbackId = 1;\n    this.callbacks = {};\n\n    this.$worker.onmessage = this.onMessage;\n};\n\n(function(){\n\n    oop.implement(this, EventEmitter);\n\n    this.$createWorkerFromOldConfig = function(topLevelNamespaces, mod, classname, workerUrl, importScripts) {\n        if (require.nameToUrl && !require.toUrl)\n            require.toUrl = require.nameToUrl;\n\n        if (config.get(\"packaged\") || !require.toUrl) {\n            workerUrl = workerUrl || config.moduleUrl(mod, \"worker\");\n        } else {\n            var normalizePath = this.$normalizePath;\n            workerUrl = workerUrl || normalizePath(require.toUrl(\"ace/worker/worker.js\", null, \"_\"));\n\n            var tlns = {};\n            topLevelNamespaces.forEach(function(ns) {\n                tlns[ns] = normalizePath(require.toUrl(ns, null, \"_\").replace(/(\\.js)?(\\?.*)?$/, \"\"));\n            });\n        }\n\n        this.$worker = createWorker(workerUrl);\n        if (importScripts) {\n            this.send(\"importScripts\", importScripts);\n        }\n        this.$worker.postMessage({\n            init : true,\n            tlns : tlns,\n            module : mod,\n            classname : classname\n        });\n        return this.$worker;\n    };\n\n    this.onMessage = function(e) {\n        var msg = e.data;\n        switch (msg.type) {\n            case \"event\":\n                this._signal(msg.name, {data: msg.data});\n                break;\n            case \"call\":\n                var callback = this.callbacks[msg.id];\n                if (callback) {\n                    callback(msg.data);\n                    delete this.callbacks[msg.id];\n                }\n                break;\n            case \"error\":\n                this.reportError(msg.data);\n                break;\n            case \"log\":\n                window.console && console.log && console.log.apply(console, msg.data);\n                break;\n        }\n    };\n    \n    this.reportError = function(err) {\n        window.console && console.error && console.error(err);\n    };\n\n    this.$normalizePath = function(path) {\n        return net.qualifyURL(path);\n    };\n\n    this.terminate = function() {\n        this._signal(\"terminate\", {});\n        this.deltaQueue = null;\n        this.$worker.terminate();\n        this.$worker = null;\n        if (this.$doc)\n            this.$doc.off(\"change\", this.changeListener);\n        this.$doc = null;\n    };\n\n    this.send = function(cmd, args) {\n        this.$worker.postMessage({command: cmd, args: args});\n    };\n\n    this.call = function(cmd, args, callback) {\n        if (callback) {\n            var id = this.callbackId++;\n            this.callbacks[id] = callback;\n            args.push(id);\n        }\n        this.send(cmd, args);\n    };\n\n    this.emit = function(event, data) {\n        try {\n            if (data.data && data.data.err)\n                data.data.err = {message: data.data.err.message, stack: data.data.err.stack, code: data.data.err.code};\n            this.$worker.postMessage({event: event, data: {data: data.data}});\n        }\n        catch(ex) {\n            console.error(ex.stack);\n        }\n    };\n\n    this.attachToDocument = function(doc) {\n        if (this.$doc)\n            this.terminate();\n\n        this.$doc = doc;\n        this.call(\"setValue\", [doc.getValue()]);\n        doc.on(\"change\", this.changeListener);\n    };\n\n    this.changeListener = function(delta) {\n        if (!this.deltaQueue) {\n            this.deltaQueue = [];\n            setTimeout(this.$sendDeltaQueue, 0);\n        }\n        if (delta.action == \"insert\")\n            this.deltaQueue.push(delta.start, delta.lines);\n        else\n            this.deltaQueue.push(delta.start, delta.end);\n    };\n\n    this.$sendDeltaQueue = function() {\n        var q = this.deltaQueue;\n        if (!q) return;\n        this.deltaQueue = null;\n        if (q.length > 50 && q.length > this.$doc.getLength() >> 1) {\n            this.call(\"setValue\", [this.$doc.getValue()]);\n        } else\n            this.emit(\"change\", {data: q});\n    };\n\n}).call(WorkerClient.prototype);\n\n\nvar UIWorkerClient = function(topLevelNamespaces, mod, classname) {\n    var main = null;\n    var emitSync = false;\n    var sender = Object.create(EventEmitter);\n\n    var messageBuffer = [];\n    var workerClient = new WorkerClient({\n        messageBuffer: messageBuffer,\n        terminate: function() {},\n        postMessage: function(e) {\n            messageBuffer.push(e);\n            if (!main) return;\n            if (emitSync)\n                setTimeout(processNext);\n            else\n                processNext();\n        }\n    });\n\n    workerClient.setEmitSync = function(val) { emitSync = val; };\n\n    var processNext = function() {\n        var msg = messageBuffer.shift();\n        if (msg.command)\n            main[msg.command].apply(main, msg.args);\n        else if (msg.event)\n            sender._signal(msg.event, msg.data);\n    };\n\n    sender.postMessage = function(msg) {\n        workerClient.onMessage({data: msg});\n    };\n    sender.callback = function(data, callbackId) {\n        this.postMessage({type: \"call\", id: callbackId, data: data});\n    };\n    sender.emit = function(name, data) {\n        this.postMessage({type: \"event\", name: name, data: data});\n    };\n\n    config.loadModule([\"worker\", mod], function(Main) {\n        main = new Main[classname](sender);\n        while (messageBuffer.length)\n            processNext();\n    });\n\n    return workerClient;\n};\n\nexports.UIWorkerClient = UIWorkerClient;\nexports.WorkerClient = WorkerClient;\nexports.createWorker = createWorker;\n\n\n});\n\nace.define(\"ace/placeholder\",[\"require\",\"exports\",\"module\",\"ace/range\",\"ace/lib/event_emitter\",\"ace/lib/oop\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"./range\").Range;\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar oop = require(\"./lib/oop\");\n\nvar PlaceHolder = function(session, length, pos, others, mainClass, othersClass) {\n    var _self = this;\n    this.length = length;\n    this.session = session;\n    this.doc = session.getDocument();\n    this.mainClass = mainClass;\n    this.othersClass = othersClass;\n    this.$onUpdate = this.onUpdate.bind(this);\n    this.doc.on(\"change\", this.$onUpdate);\n    this.$others = others;\n    \n    this.$onCursorChange = function() {\n        setTimeout(function() {\n            _self.onCursorChange();\n        });\n    };\n    \n    this.$pos = pos;\n    var undoStack = session.getUndoManager().$undoStack || session.getUndoManager().$undostack || {length: -1};\n    this.$undoStackDepth = undoStack.length;\n    this.setup();\n\n    session.selection.on(\"changeCursor\", this.$onCursorChange);\n};\n\n(function() {\n\n    oop.implement(this, EventEmitter);\n    this.setup = function() {\n        var _self = this;\n        var doc = this.doc;\n        var session = this.session;\n        \n        this.selectionBefore = session.selection.toJSON();\n        if (session.selection.inMultiSelectMode)\n            session.selection.toSingleRange();\n\n        this.pos = doc.createAnchor(this.$pos.row, this.$pos.column);\n        var pos = this.pos;\n        pos.$insertRight = true;\n        pos.detach();\n        pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column + this.length), this.mainClass, null, false);\n        this.others = [];\n        this.$others.forEach(function(other) {\n            var anchor = doc.createAnchor(other.row, other.column);\n            anchor.$insertRight = true;\n            anchor.detach();\n            _self.others.push(anchor);\n        });\n        session.setUndoSelect(false);\n    };\n    this.showOtherMarkers = function() {\n        if (this.othersActive) return;\n        var session = this.session;\n        var _self = this;\n        this.othersActive = true;\n        this.others.forEach(function(anchor) {\n            anchor.markerId = session.addMarker(new Range(anchor.row, anchor.column, anchor.row, anchor.column+_self.length), _self.othersClass, null, false);\n        });\n    };\n    this.hideOtherMarkers = function() {\n        if (!this.othersActive) return;\n        this.othersActive = false;\n        for (var i = 0; i < this.others.length; i++) {\n            this.session.removeMarker(this.others[i].markerId);\n        }\n    };\n    this.onUpdate = function(delta) {\n        if (this.$updating)\n            return this.updateAnchors(delta);\n            \n        var range = delta;\n        if (range.start.row !== range.end.row) return;\n        if (range.start.row !== this.pos.row) return;\n        this.$updating = true;\n        var lengthDiff = delta.action === \"insert\" ? range.end.column - range.start.column : range.start.column - range.end.column;\n        var inMainRange = range.start.column >= this.pos.column && range.start.column <= this.pos.column + this.length + 1;\n        var distanceFromStart = range.start.column - this.pos.column;\n        \n        this.updateAnchors(delta);\n        \n        if (inMainRange)\n            this.length += lengthDiff;\n\n        if (inMainRange && !this.session.$fromUndo) {\n            if (delta.action === 'insert') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.insertMergedLines(newPos, delta.lines);\n                }\n            } else if (delta.action === 'remove') {\n                for (var i = this.others.length - 1; i >= 0; i--) {\n                    var otherPos = this.others[i];\n                    var newPos = {row: otherPos.row, column: otherPos.column + distanceFromStart};\n                    this.doc.remove(new Range(newPos.row, newPos.column, newPos.row, newPos.column - lengthDiff));\n                }\n            }\n        }\n        \n        this.$updating = false;\n        this.updateMarkers();\n    };\n    \n    this.updateAnchors = function(delta) {\n        this.pos.onChange(delta);\n        for (var i = this.others.length; i--;)\n            this.others[i].onChange(delta);\n        this.updateMarkers();\n    };\n    \n    this.updateMarkers = function() {\n        if (this.$updating)\n            return;\n        var _self = this;\n        var session = this.session;\n        var updateMarker = function(pos, className) {\n            session.removeMarker(pos.markerId);\n            pos.markerId = session.addMarker(new Range(pos.row, pos.column, pos.row, pos.column+_self.length), className, null, false);\n        };\n        updateMarker(this.pos, this.mainClass);\n        for (var i = this.others.length; i--;)\n            updateMarker(this.others[i], this.othersClass);\n    };\n\n    this.onCursorChange = function(event) {\n        if (this.$updating || !this.session) return;\n        var pos = this.session.selection.getCursor();\n        if (pos.row === this.pos.row && pos.column >= this.pos.column && pos.column <= this.pos.column + this.length) {\n            this.showOtherMarkers();\n            this._emit(\"cursorEnter\", event);\n        } else {\n            this.hideOtherMarkers();\n            this._emit(\"cursorLeave\", event);\n        }\n    };    \n    this.detach = function() {\n        this.session.removeMarker(this.pos && this.pos.markerId);\n        this.hideOtherMarkers();\n        this.doc.off(\"change\", this.$onUpdate);\n        this.session.selection.off(\"changeCursor\", this.$onCursorChange);\n        this.session.setUndoSelect(true);\n        this.session = null;\n    };\n    this.cancel = function() {\n        if (this.$undoStackDepth === -1)\n            return;\n        var undoManager = this.session.getUndoManager();\n        var undosRequired = (undoManager.$undoStack || undoManager.$undostack).length - this.$undoStackDepth;\n        for (var i = 0; i < undosRequired; i++) {\n            undoManager.undo(this.session, true);\n        }\n        if (this.selectionBefore)\n            this.session.selection.fromJSON(this.selectionBefore);\n    };\n}).call(PlaceHolder.prototype);\n\n\nexports.PlaceHolder = PlaceHolder;\n});\n\nace.define(\"ace/mouse/multi_select_handler\",[\"require\",\"exports\",\"module\",\"ace/lib/event\",\"ace/lib/useragent\"], function(require, exports, module) {\n\nvar event = require(\"../lib/event\");\nvar useragent = require(\"../lib/useragent\");\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\n\nfunction onMouseDown(e) {\n    var ev = e.domEvent;\n    var alt = ev.altKey;\n    var shift = ev.shiftKey;\n    var ctrl = ev.ctrlKey;\n    var accel = e.getAccelKey();\n    var button = e.getButton();\n    \n    if (ctrl && useragent.isMac)\n        button = ev.button;\n\n    if (e.editor.inMultiSelectMode && button == 2) {\n        e.editor.textInput.onContextMenu(e.domEvent);\n        return;\n    }\n    \n    if (!ctrl && !alt && !accel) {\n        if (button === 0 && e.editor.inMultiSelectMode)\n            e.editor.exitMultiSelectMode();\n        return;\n    }\n    \n    if (button !== 0)\n        return;\n\n    var editor = e.editor;\n    var selection = editor.selection;\n    var isMultiSelect = editor.inMultiSelectMode;\n    var pos = e.getDocumentPosition();\n    var cursor = selection.getCursor();\n    var inSelection = e.inSelection() || (selection.isEmpty() && isSamePoint(pos, cursor));\n\n    var mouseX = e.x, mouseY = e.y;\n    var onMouseSelection = function(e) {\n        mouseX = e.clientX;\n        mouseY = e.clientY;\n    };\n    \n    var session = editor.session;\n    var screenAnchor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n    var screenCursor = screenAnchor;\n    \n    var selectionMode;\n    if (editor.$mouseHandler.$enableJumpToDef) {\n        if (ctrl && alt || accel && alt)\n            selectionMode = shift ? \"block\" : \"add\";\n        else if (alt && editor.$blockSelectEnabled)\n            selectionMode = \"block\";\n    } else {\n        if (accel && !alt) {\n            selectionMode = \"add\";\n            if (!isMultiSelect && shift)\n                return;\n        } else if (alt && editor.$blockSelectEnabled) {\n            selectionMode = \"block\";\n        }\n    }\n    \n    if (selectionMode && useragent.isMac && ev.ctrlKey) {\n        editor.$mouseHandler.cancelContextMenu();\n    }\n\n    if (selectionMode == \"add\") {\n        if (!isMultiSelect && inSelection)\n            return; // dragging\n\n        if (!isMultiSelect) {\n            var range = selection.toOrientedRange();\n            editor.addSelectionMarker(range);\n        }\n\n        var oldRange = selection.rangeList.rangeAtPoint(pos);\n        \n        editor.inVirtualSelectionMode = true;\n        \n        if (shift) {\n            oldRange = null;\n            range = selection.ranges[0] || range;\n            editor.removeSelectionMarker(range);\n        }\n        editor.once(\"mouseup\", function() {\n            var tmpSel = selection.toOrientedRange();\n\n            if (oldRange && tmpSel.isEmpty() && isSamePoint(oldRange.cursor, tmpSel.cursor))\n                selection.substractPoint(tmpSel.cursor);\n            else {\n                if (shift) {\n                    selection.substractPoint(range.cursor);\n                } else if (range) {\n                    editor.removeSelectionMarker(range);\n                    selection.addRange(range);\n                }\n                selection.addRange(tmpSel);\n            }\n            editor.inVirtualSelectionMode = false;\n        });\n\n    } else if (selectionMode == \"block\") {\n        e.stop();\n        editor.inVirtualSelectionMode = true;        \n        var initialRange;\n        var rectSel = [];\n        var blockSelect = function() {\n            var newCursor = editor.renderer.pixelToScreenCoordinates(mouseX, mouseY);\n            var cursor = session.screenToDocumentPosition(newCursor.row, newCursor.column, newCursor.offsetX);\n\n            if (isSamePoint(screenCursor, newCursor) && isSamePoint(cursor, selection.lead))\n                return;\n            screenCursor = newCursor;\n            \n            editor.selection.moveToPosition(cursor);\n            editor.renderer.scrollCursorIntoView();\n\n            editor.removeSelectionMarkers(rectSel);\n            rectSel = selection.rectangularRangeBlock(screenCursor, screenAnchor);\n            if (editor.$mouseHandler.$clickSelection && rectSel.length == 1 && rectSel[0].isEmpty())\n                rectSel[0] = editor.$mouseHandler.$clickSelection.clone();\n            rectSel.forEach(editor.addSelectionMarker, editor);\n            editor.updateSelectionMarkers();\n        };\n        if (isMultiSelect && !accel) {\n            selection.toSingleRange();\n        } else if (!isMultiSelect && accel) {\n            initialRange = selection.toOrientedRange();\n            editor.addSelectionMarker(initialRange);\n        }\n        \n        if (shift)\n            screenAnchor = session.documentToScreenPosition(selection.lead);            \n        else\n            selection.moveToPosition(pos);\n        \n        screenCursor = {row: -1, column: -1};\n\n        var onMouseSelectionEnd = function(e) {\n            blockSelect();\n            clearInterval(timerId);\n            editor.removeSelectionMarkers(rectSel);\n            if (!rectSel.length)\n                rectSel = [selection.toOrientedRange()];\n            if (initialRange) {\n                editor.removeSelectionMarker(initialRange);\n                selection.toSingleRange(initialRange);\n            }\n            for (var i = 0; i < rectSel.length; i++)\n                selection.addRange(rectSel[i]);\n            editor.inVirtualSelectionMode = false;\n            editor.$mouseHandler.$clickSelection = null;\n        };\n\n        var onSelectionInterval = blockSelect;\n\n        event.capture(editor.container, onMouseSelection, onMouseSelectionEnd);\n        var timerId = setInterval(function() {onSelectionInterval();}, 20);\n\n        return e.preventDefault();\n    }\n}\n\n\nexports.onMouseDown = onMouseDown;\n\n});\n\nace.define(\"ace/commands/multi_select_commands\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\"], function(require, exports, module) {\nexports.defaultCommands = [{\n    name: \"addCursorAbove\",\n    description: \"Add cursor above\",\n    exec: function(editor) { editor.selectMoreLines(-1); },\n    bindKey: {win: \"Ctrl-Alt-Up\", mac: \"Ctrl-Alt-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelow\",\n    description: \"Add cursor below\",\n    exec: function(editor) { editor.selectMoreLines(1); },\n    bindKey: {win: \"Ctrl-Alt-Down\", mac: \"Ctrl-Alt-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorAboveSkipCurrent\",\n    description: \"Add cursor above (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Up\", mac: \"Ctrl-Alt-Shift-Up\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"addCursorBelowSkipCurrent\",\n    description: \"Add cursor below (skip current)\",\n    exec: function(editor) { editor.selectMoreLines(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Down\", mac: \"Ctrl-Alt-Shift-Down\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreBefore\",\n    description: \"Select more before\",\n    exec: function(editor) { editor.selectMore(-1); },\n    bindKey: {win: \"Ctrl-Alt-Left\", mac: \"Ctrl-Alt-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectMoreAfter\",\n    description: \"Select more after\",\n    exec: function(editor) { editor.selectMore(1); },\n    bindKey: {win: \"Ctrl-Alt-Right\", mac: \"Ctrl-Alt-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextBefore\",\n    description: \"Select next before\",\n    exec: function(editor) { editor.selectMore(-1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Left\", mac: \"Ctrl-Alt-Shift-Left\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"selectNextAfter\",\n    description: \"Select next after\",\n    exec: function(editor) { editor.selectMore(1, true); },\n    bindKey: {win: \"Ctrl-Alt-Shift-Right\", mac: \"Ctrl-Alt-Shift-Right\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}, {\n    name: \"toggleSplitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) {\n        if (editor.multiSelect.rangeCount > 1)\n            editor.multiSelect.joinSelections();\n        else\n            editor.multiSelect.splitIntoLines();\n    },\n    bindKey: {win: \"Ctrl-Alt-L\", mac: \"Ctrl-Alt-L\"},\n    readOnly: true\n}, {\n    name: \"splitSelectionIntoLines\",\n    description: \"Split into lines\",\n    exec: function(editor) { editor.multiSelect.splitIntoLines(); },\n    readOnly: true\n}, {\n    name: \"alignCursors\",\n    description: \"Align cursors\",\n    exec: function(editor) { editor.alignCursors(); },\n    bindKey: {win: \"Ctrl-Alt-A\", mac: \"Ctrl-Alt-A\"},\n    scrollIntoView: \"cursor\"\n}, {\n    name: \"findAll\",\n    description: \"Find all\",\n    exec: function(editor) { editor.findAll(); },\n    bindKey: {win: \"Ctrl-Alt-K\", mac: \"Ctrl-Alt-G\"},\n    scrollIntoView: \"cursor\",\n    readOnly: true\n}];\nexports.multiSelectCommands = [{\n    name: \"singleSelection\",\n    description: \"Single selection\",\n    bindKey: \"esc\",\n    exec: function(editor) { editor.exitMultiSelectMode(); },\n    scrollIntoView: \"cursor\",\n    readOnly: true,\n    isAvailable: function(editor) {return editor && editor.inMultiSelectMode;}\n}];\n\nvar HashHandler = require(\"../keyboard/hash_handler\").HashHandler;\nexports.keyboardHandler = new HashHandler(exports.multiSelectCommands);\n\n});\n\nace.define(\"ace/multi_select\",[\"require\",\"exports\",\"module\",\"ace/range_list\",\"ace/range\",\"ace/selection\",\"ace/mouse/multi_select_handler\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/commands/multi_select_commands\",\"ace/search\",\"ace/edit_session\",\"ace/editor\",\"ace/config\"], function(require, exports, module) {\n\nvar RangeList = require(\"./range_list\").RangeList;\nvar Range = require(\"./range\").Range;\nvar Selection = require(\"./selection\").Selection;\nvar onMouseDown = require(\"./mouse/multi_select_handler\").onMouseDown;\nvar event = require(\"./lib/event\");\nvar lang = require(\"./lib/lang\");\nvar commands = require(\"./commands/multi_select_commands\");\nexports.commands = commands.defaultCommands.concat(commands.multiSelectCommands);\nvar Search = require(\"./search\").Search;\nvar search = new Search();\n\nfunction find(session, needle, dir) {\n    search.$options.wrap = true;\n    search.$options.needle = needle;\n    search.$options.backwards = dir == -1;\n    return search.find(session);\n}\nvar EditSession = require(\"./edit_session\").EditSession;\n(function() {\n    this.getSelectionMarkers = function() {\n        return this.$selectionMarkers;\n    };\n}).call(EditSession.prototype);\n(function() {\n    this.ranges = null;\n    this.rangeList = null;\n    this.addRange = function(range, $blockChangeEvents) {\n        if (!range)\n            return;\n\n        if (!this.inMultiSelectMode && this.rangeCount === 0) {\n            var oldRange = this.toOrientedRange();\n            this.rangeList.add(oldRange);\n            this.rangeList.add(range);\n            if (this.rangeList.ranges.length != 2) {\n                this.rangeList.removeAll();\n                return $blockChangeEvents || this.fromOrientedRange(range);\n            }\n            this.rangeList.removeAll();\n            this.rangeList.add(oldRange);\n            this.$onAddRange(oldRange);\n        }\n\n        if (!range.cursor)\n            range.cursor = range.end;\n\n        var removed = this.rangeList.add(range);\n\n        this.$onAddRange(range);\n\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        if (this.rangeCount > 1 && !this.inMultiSelectMode) {\n            this._signal(\"multiSelect\");\n            this.inMultiSelectMode = true;\n            this.session.$undoSelect = false;\n            this.rangeList.attach(this.session);\n        }\n\n        return $blockChangeEvents || this.fromOrientedRange(range);\n    };\n    this.toSingleRange = function(range) {\n        range = range || this.ranges[0];\n        var removed = this.rangeList.removeAll();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n\n        range && this.fromOrientedRange(range);\n    };\n    this.substractPoint = function(pos) {\n        var removed = this.rangeList.substractPoint(pos);\n        if (removed) {\n            this.$onRemoveRange(removed);\n            return removed[0];\n        }\n    };\n    this.mergeOverlappingRanges = function() {\n        var removed = this.rangeList.merge();\n        if (removed.length)\n            this.$onRemoveRange(removed);\n    };\n\n    this.$onAddRange = function(range) {\n        this.rangeCount = this.rangeList.ranges.length;\n        this.ranges.unshift(range);\n        this._signal(\"addRange\", {range: range});\n    };\n\n    this.$onRemoveRange = function(removed) {\n        this.rangeCount = this.rangeList.ranges.length;\n        if (this.rangeCount == 1 && this.inMultiSelectMode) {\n            var lastRange = this.rangeList.ranges.pop();\n            removed.push(lastRange);\n            this.rangeCount = 0;\n        }\n\n        for (var i = removed.length; i--; ) {\n            var index = this.ranges.indexOf(removed[i]);\n            this.ranges.splice(index, 1);\n        }\n\n        this._signal(\"removeRange\", {ranges: removed});\n\n        if (this.rangeCount === 0 && this.inMultiSelectMode) {\n            this.inMultiSelectMode = false;\n            this._signal(\"singleSelect\");\n            this.session.$undoSelect = true;\n            this.rangeList.detach(this.session);\n        }\n\n        lastRange = lastRange || this.ranges[0];\n        if (lastRange && !lastRange.isEqual(this.getRange()))\n            this.fromOrientedRange(lastRange);\n    };\n    this.$initRangeList = function() {\n        if (this.rangeList)\n            return;\n\n        this.rangeList = new RangeList();\n        this.ranges = [];\n        this.rangeCount = 0;\n    };\n    this.getAllRanges = function() {\n        return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];\n    };\n    this.splitIntoLines = function () {\n        var ranges = this.ranges.length ? this.ranges : [this.getRange()];\n        var newRanges = [];\n        for (var i = 0; i < ranges.length; i++) {\n            var range = ranges[i];\n            var row = range.start.row;\n            var endRow = range.end.row;\n            if (row === endRow) {\n                newRanges.push(range.clone());\n            } else {\n                newRanges.push(new Range(row, range.start.column, row, this.session.getLine(row).length));\n                while (++row < endRow)\n                    newRanges.push(this.getLineRange(row, true));\n                newRanges.push(new Range(endRow, 0, endRow, range.end.column));\n            }\n            if (i == 0 && !this.isBackwards())\n                newRanges = newRanges.reverse();\n        }\n        this.toSingleRange();\n        for (var i = newRanges.length; i--;)\n            this.addRange(newRanges[i]);\n    };\n    \n    this.joinSelections = function () {\n        var ranges = this.rangeList.ranges;\n        var lastRange = ranges[ranges.length - 1];\n        var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n        this.toSingleRange();\n        this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n    };\n    this.toggleBlockSelection = function () {\n        if (this.rangeCount > 1) {\n            var ranges = this.rangeList.ranges;\n            var lastRange = ranges[ranges.length - 1];\n            var range = Range.fromPoints(ranges[0].start, lastRange.end);\n\n            this.toSingleRange();\n            this.setSelectionRange(range, lastRange.cursor == lastRange.start);\n        } else {\n            var cursor = this.session.documentToScreenPosition(this.cursor);\n            var anchor = this.session.documentToScreenPosition(this.anchor);\n\n            var rectSel = this.rectangularRangeBlock(cursor, anchor);\n            rectSel.forEach(this.addRange, this);\n        }\n    };\n    this.rectangularRangeBlock = function(screenCursor, screenAnchor, includeEmptyLines) {\n        var rectSel = [];\n\n        var xBackwards = screenCursor.column < screenAnchor.column;\n        if (xBackwards) {\n            var startColumn = screenCursor.column;\n            var endColumn = screenAnchor.column;\n            var startOffsetX = screenCursor.offsetX;\n            var endOffsetX = screenAnchor.offsetX;\n        } else {\n            var startColumn = screenAnchor.column;\n            var endColumn = screenCursor.column;\n            var startOffsetX = screenAnchor.offsetX;\n            var endOffsetX = screenCursor.offsetX;\n        }\n\n        var yBackwards = screenCursor.row < screenAnchor.row;\n        if (yBackwards) {\n            var startRow = screenCursor.row;\n            var endRow = screenAnchor.row;\n        } else {\n            var startRow = screenAnchor.row;\n            var endRow = screenCursor.row;\n        }\n\n        if (startColumn < 0)\n            startColumn = 0;\n        if (startRow < 0)\n            startRow = 0;\n\n        if (startRow == endRow)\n            includeEmptyLines = true;\n\n        var docEnd;\n        for (var row = startRow; row <= endRow; row++) {\n            var range = Range.fromPoints(\n                this.session.screenToDocumentPosition(row, startColumn, startOffsetX),\n                this.session.screenToDocumentPosition(row, endColumn, endOffsetX)\n            );\n            if (range.isEmpty()) {\n                if (docEnd && isSamePoint(range.end, docEnd))\n                    break;\n                docEnd = range.end;\n            }\n            range.cursor = xBackwards ? range.start : range.end;\n            rectSel.push(range);\n        }\n\n        if (yBackwards)\n            rectSel.reverse();\n\n        if (!includeEmptyLines) {\n            var end = rectSel.length - 1;\n            while (rectSel[end].isEmpty() && end > 0)\n                end--;\n            if (end > 0) {\n                var start = 0;\n                while (rectSel[start].isEmpty())\n                    start++;\n            }\n            for (var i = end; i >= start; i--) {\n                if (rectSel[i].isEmpty())\n                    rectSel.splice(i, 1);\n            }\n        }\n\n        return rectSel;\n    };\n}).call(Selection.prototype);\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.updateSelectionMarkers = function() {\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n    this.addSelectionMarker = function(orientedRange) {\n        if (!orientedRange.cursor)\n            orientedRange.cursor = orientedRange.end;\n\n        var style = this.getSelectionStyle();\n        orientedRange.marker = this.session.addMarker(orientedRange, \"ace_selection\", style);\n\n        this.session.$selectionMarkers.push(orientedRange);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n        return orientedRange;\n    };\n    this.removeSelectionMarker = function(range) {\n        if (!range.marker)\n            return;\n        this.session.removeMarker(range.marker);\n        var index = this.session.$selectionMarkers.indexOf(range);\n        if (index != -1)\n            this.session.$selectionMarkers.splice(index, 1);\n        this.session.selectionMarkerCount = this.session.$selectionMarkers.length;\n    };\n\n    this.removeSelectionMarkers = function(ranges) {\n        var markerList = this.session.$selectionMarkers;\n        for (var i = ranges.length; i--; ) {\n            var range = ranges[i];\n            if (!range.marker)\n                continue;\n            this.session.removeMarker(range.marker);\n            var index = markerList.indexOf(range);\n            if (index != -1)\n                markerList.splice(index, 1);\n        }\n        this.session.selectionMarkerCount = markerList.length;\n    };\n\n    this.$onAddRange = function(e) {\n        this.addSelectionMarker(e.range);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onRemoveRange = function(e) {\n        this.removeSelectionMarkers(e.ranges);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onMultiSelect = function(e) {\n        if (this.inMultiSelectMode)\n            return;\n        this.inMultiSelectMode = true;\n\n        this.setStyle(\"ace_multiselect\");\n        this.keyBinding.addKeyboardHandler(commands.keyboardHandler);\n        this.commands.setDefaultHandler(\"exec\", this.$onMultiSelectExec);\n\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n    };\n\n    this.$onSingleSelect = function(e) {\n        if (this.session.multiSelect.inVirtualMode)\n            return;\n        this.inMultiSelectMode = false;\n\n        this.unsetStyle(\"ace_multiselect\");\n        this.keyBinding.removeKeyboardHandler(commands.keyboardHandler);\n\n        this.commands.removeDefaultHandler(\"exec\", this.$onMultiSelectExec);\n        this.renderer.updateCursor();\n        this.renderer.updateBackMarkers();\n        this._emit(\"changeSelection\");\n    };\n\n    this.$onMultiSelectExec = function(e) {\n        var command = e.command;\n        var editor = e.editor;\n        if (!editor.multiSelect)\n            return;\n        if (!command.multiSelectAction) {\n            var result = command.exec(editor, e.args || {});\n            editor.multiSelect.addRange(editor.multiSelect.toOrientedRange());\n            editor.multiSelect.mergeOverlappingRanges();\n        } else if (command.multiSelectAction == \"forEach\") {\n            result = editor.forEachSelection(command, e.args);\n        } else if (command.multiSelectAction == \"forEachLine\") {\n            result = editor.forEachSelection(command, e.args, true);\n        } else if (command.multiSelectAction == \"single\") {\n            editor.exitMultiSelectMode();\n            result = command.exec(editor, e.args || {});\n        } else {\n            result = command.multiSelectAction(editor, e.args || {});\n        }\n        return result;\n    }; \n    this.forEachSelection = function(cmd, args, options) {\n        if (this.inVirtualSelectionMode)\n            return;\n        var keepOrder = options && options.keepOrder;\n        var $byLines = options == true || options && options.$byLines;\n        var session = this.session;\n        var selection = this.selection;\n        var rangeList = selection.rangeList;\n        var ranges = (keepOrder ? selection : rangeList).ranges;\n        var result;\n        \n        if (!ranges.length)\n            return cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n        \n        var reg = selection._eventRegistry;\n        selection._eventRegistry = {};\n\n        var tmpSel = new Selection(session);\n        this.inVirtualSelectionMode = true;\n        for (var i = ranges.length; i--;) {\n            if ($byLines) {\n                while (i > 0 && ranges[i].start.row == ranges[i - 1].end.row)\n                    i--;\n            }\n            tmpSel.fromOrientedRange(ranges[i]);\n            tmpSel.index = i;\n            this.selection = session.selection = tmpSel;\n            var cmdResult = cmd.exec ? cmd.exec(this, args || {}) : cmd(this, args || {});\n            if (!result && cmdResult !== undefined)\n                result = cmdResult;\n            tmpSel.toOrientedRange(ranges[i]);\n        }\n        tmpSel.detach();\n\n        this.selection = session.selection = selection;\n        this.inVirtualSelectionMode = false;\n        selection._eventRegistry = reg;\n        selection.mergeOverlappingRanges();\n        if (selection.ranges[0])\n            selection.fromOrientedRange(selection.ranges[0]);\n        \n        var anim = this.renderer.$scrollAnimation;\n        this.onCursorChange();\n        this.onSelectionChange();\n        if (anim && anim.from == anim.to)\n            this.renderer.animateScrolling(anim.from);\n        \n        return result;\n    };\n    this.exitMultiSelectMode = function() {\n        if (!this.inMultiSelectMode || this.inVirtualSelectionMode)\n            return;\n        this.multiSelect.toSingleRange();\n    };\n\n    this.getSelectedText = function() {\n        var text = \"\";\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var ranges = this.multiSelect.rangeList.ranges;\n            var buf = [];\n            for (var i = 0; i < ranges.length; i++) {\n                buf.push(this.session.getTextRange(ranges[i]));\n            }\n            var nl = this.session.getDocument().getNewLineCharacter();\n            text = buf.join(nl);\n            if (text.length == (buf.length - 1) * nl.length)\n                text = \"\";\n        } else if (!this.selection.isEmpty()) {\n            text = this.session.getTextRange(this.getSelectionRange());\n        }\n        return text;\n    };\n    \n    this.$checkMultiselectChange = function(e, anchor) {\n        if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {\n            var range = this.multiSelect.ranges[0];\n            if (this.multiSelect.isEmpty() && anchor == this.multiSelect.anchor)\n                return;\n            var pos = anchor == this.multiSelect.anchor\n                ? range.cursor == range.start ? range.end : range.start\n                : range.cursor;\n            if (pos.row != anchor.row \n                || this.session.$clipPositionToDocument(pos.row, pos.column).column != anchor.column)\n                this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange());\n            else\n                this.multiSelect.mergeOverlappingRanges();\n        }\n    };\n    this.findAll = function(needle, options, additive) {\n        options = options || {};\n        options.needle = needle || options.needle;\n        if (options.needle == undefined) {\n            var range = this.selection.isEmpty()\n                ? this.selection.getWordRange()\n                : this.selection.getRange();\n            options.needle = this.session.getTextRange(range);\n        }    \n        this.$search.set(options);\n        \n        var ranges = this.$search.findAll(this.session);\n        if (!ranges.length)\n            return 0;\n\n        var selection = this.multiSelect;\n\n        if (!additive)\n            selection.toSingleRange(ranges[0]);\n\n        for (var i = ranges.length; i--; )\n            selection.addRange(ranges[i], true);\n        if (range && selection.rangeList.rangeAtPoint(range.start))\n            selection.addRange(range, true);\n        \n        return ranges.length;\n    };\n    this.selectMoreLines = function(dir, skip) {\n        var range = this.selection.toOrientedRange();\n        var isBackwards = range.cursor == range.end;\n\n        var screenLead = this.session.documentToScreenPosition(range.cursor);\n        if (this.selection.$desiredColumn)\n            screenLead.column = this.selection.$desiredColumn;\n\n        var lead = this.session.screenToDocumentPosition(screenLead.row + dir, screenLead.column);\n\n        if (!range.isEmpty()) {\n            var screenAnchor = this.session.documentToScreenPosition(isBackwards ? range.end : range.start);\n            var anchor = this.session.screenToDocumentPosition(screenAnchor.row + dir, screenAnchor.column);\n        } else {\n            var anchor = lead;\n        }\n\n        if (isBackwards) {\n            var newRange = Range.fromPoints(lead, anchor);\n            newRange.cursor = newRange.start;\n        } else {\n            var newRange = Range.fromPoints(anchor, lead);\n            newRange.cursor = newRange.end;\n        }\n\n        newRange.desiredColumn = screenLead.column;\n        if (!this.selection.inMultiSelectMode) {\n            this.selection.addRange(range);\n        } else {\n            if (skip)\n                var toRemove = range.cursor;\n        }\n\n        this.selection.addRange(newRange);\n        if (toRemove)\n            this.selection.substractPoint(toRemove);\n    };\n    this.transposeSelections = function(dir) {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var all = sel.ranges;\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            if (range.isEmpty()) {\n                var tmp = session.getWordRange(range.start.row, range.start.column);\n                range.start.row = tmp.start.row;\n                range.start.column = tmp.start.column;\n                range.end.row = tmp.end.row;\n                range.end.column = tmp.end.column;\n            }\n        }\n        sel.mergeOverlappingRanges();\n\n        var words = [];\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            words.unshift(session.getTextRange(range));\n        }\n\n        if (dir < 0)\n            words.unshift(words.pop());\n        else\n            words.push(words.shift());\n\n        for (var i = all.length; i--; ) {\n            var range = all[i];\n            var tmp = range.clone();\n            session.replace(range, words[i]);\n            range.start.row = tmp.start.row;\n            range.start.column = tmp.start.column;\n        }\n        sel.fromOrientedRange(sel.ranges[0]);\n    };\n    this.selectMore = function(dir, skip, stopAtFirst) {\n        var session = this.session;\n        var sel = session.multiSelect;\n\n        var range = sel.toOrientedRange();\n        if (range.isEmpty()) {\n            range = session.getWordRange(range.start.row, range.start.column);\n            range.cursor = dir == -1 ? range.start : range.end;\n            this.multiSelect.addRange(range);\n            if (stopAtFirst)\n                return;\n        }\n        var needle = session.getTextRange(range);\n\n        var newRange = find(session, needle, dir);\n        if (newRange) {\n            newRange.cursor = dir == -1 ? newRange.start : newRange.end;\n            this.session.unfold(newRange);\n            this.multiSelect.addRange(newRange);\n            this.renderer.scrollCursorIntoView(null, 0.5);\n        }\n        if (skip)\n            this.multiSelect.substractPoint(range.cursor);\n    };\n    this.alignCursors = function() {\n        var session = this.session;\n        var sel = session.multiSelect;\n        var ranges = sel.ranges;\n        var row = -1;\n        var sameRowRanges = ranges.filter(function(r) {\n            if (r.cursor.row == row)\n                return true;\n            row = r.cursor.row;\n        });\n        \n        if (!ranges.length || sameRowRanges.length == ranges.length - 1) {\n            var range = this.selection.getRange();\n            var fr = range.start.row, lr = range.end.row;\n            var guessRange = fr == lr;\n            if (guessRange) {\n                var max = this.session.getLength();\n                var line;\n                do {\n                    line = this.session.getLine(lr);\n                } while (/[=:]/.test(line) && ++lr < max);\n                do {\n                    line = this.session.getLine(fr);\n                } while (/[=:]/.test(line) && --fr > 0);\n                \n                if (fr < 0) fr = 0;\n                if (lr >= max) lr = max - 1;\n            }\n            var lines = this.session.removeFullLines(fr, lr);\n            lines = this.$reAlignText(lines, guessRange);\n            this.session.insert({row: fr, column: 0}, lines.join(\"\\n\") + \"\\n\");\n            if (!guessRange) {\n                range.start.column = 0;\n                range.end.column = lines[lines.length - 1].length;\n            }\n            this.selection.setRange(range);\n        } else {\n            sameRowRanges.forEach(function(r) {\n                sel.substractPoint(r.cursor);\n            });\n\n            var maxCol = 0;\n            var minSpace = Infinity;\n            var spaceOffsets = ranges.map(function(r) {\n                var p = r.cursor;\n                var line = session.getLine(p.row);\n                var spaceOffset = line.substr(p.column).search(/\\S/g);\n                if (spaceOffset == -1)\n                    spaceOffset = 0;\n\n                if (p.column > maxCol)\n                    maxCol = p.column;\n                if (spaceOffset < minSpace)\n                    minSpace = spaceOffset;\n                return spaceOffset;\n            });\n            ranges.forEach(function(r, i) {\n                var p = r.cursor;\n                var l = maxCol - p.column;\n                var d = spaceOffsets[i] - minSpace;\n                if (l > d)\n                    session.insert(p, lang.stringRepeat(\" \", l - d));\n                else\n                    session.remove(new Range(p.row, p.column, p.row, p.column - l + d));\n\n                r.start.column = r.end.column = maxCol;\n                r.start.row = r.end.row = p.row;\n                r.cursor = r.end;\n            });\n            sel.fromOrientedRange(ranges[0]);\n            this.renderer.updateCursor();\n            this.renderer.updateBackMarkers();\n        }\n    };\n\n    this.$reAlignText = function(lines, forceLeft) {\n        var isLeftAligned = true, isRightAligned = true;\n        var startW, textW, endW;\n\n        return lines.map(function(line) {\n            var m = line.match(/(\\s*)(.*?)(\\s*)([=:].*)/);\n            if (!m)\n                return [line];\n\n            if (startW == null) {\n                startW = m[1].length;\n                textW = m[2].length;\n                endW = m[3].length;\n                return m;\n            }\n\n            if (startW + textW + endW != m[1].length + m[2].length + m[3].length)\n                isRightAligned = false;\n            if (startW != m[1].length)\n                isLeftAligned = false;\n\n            if (startW > m[1].length)\n                startW = m[1].length;\n            if (textW < m[2].length)\n                textW = m[2].length;\n            if (endW > m[3].length)\n                endW = m[3].length;\n\n            return m;\n        }).map(forceLeft ? alignLeft :\n            isLeftAligned ? isRightAligned ? alignRight : alignLeft : unAlign);\n\n        function spaces(n) {\n            return lang.stringRepeat(\" \", n);\n        }\n\n        function alignLeft(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(textW - m[2].length + endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function alignRight(m) {\n            return !m[2] ? m[0] : spaces(startW + textW - m[2].length) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n        function unAlign(m) {\n            return !m[2] ? m[0] : spaces(startW) + m[2]\n                + spaces(endW)\n                + m[4].replace(/^([=:])\\s+/, \"$1 \");\n        }\n    };\n}).call(Editor.prototype);\n\n\nfunction isSamePoint(p1, p2) {\n    return p1.row == p2.row && p1.column == p2.column;\n}\nexports.onSessionChange = function(e) {\n    var session = e.session;\n    if (session && !session.multiSelect) {\n        session.$selectionMarkers = [];\n        session.selection.$initRangeList();\n        session.multiSelect = session.selection;\n    }\n    this.multiSelect = session && session.multiSelect;\n\n    var oldSession = e.oldSession;\n    if (oldSession) {\n        oldSession.multiSelect.off(\"addRange\", this.$onAddRange);\n        oldSession.multiSelect.off(\"removeRange\", this.$onRemoveRange);\n        oldSession.multiSelect.off(\"multiSelect\", this.$onMultiSelect);\n        oldSession.multiSelect.off(\"singleSelect\", this.$onSingleSelect);\n        oldSession.multiSelect.lead.off(\"change\", this.$checkMultiselectChange);\n        oldSession.multiSelect.anchor.off(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session) {\n        session.multiSelect.on(\"addRange\", this.$onAddRange);\n        session.multiSelect.on(\"removeRange\", this.$onRemoveRange);\n        session.multiSelect.on(\"multiSelect\", this.$onMultiSelect);\n        session.multiSelect.on(\"singleSelect\", this.$onSingleSelect);\n        session.multiSelect.lead.on(\"change\", this.$checkMultiselectChange);\n        session.multiSelect.anchor.on(\"change\", this.$checkMultiselectChange);\n    }\n\n    if (session && this.inMultiSelectMode != session.selection.inMultiSelectMode) {\n        if (session.selection.inMultiSelectMode)\n            this.$onMultiSelect();\n        else\n            this.$onSingleSelect();\n    }\n};\nfunction MultiSelect(editor) {\n    if (editor.$multiselectOnSessionChange)\n        return;\n    editor.$onAddRange = editor.$onAddRange.bind(editor);\n    editor.$onRemoveRange = editor.$onRemoveRange.bind(editor);\n    editor.$onMultiSelect = editor.$onMultiSelect.bind(editor);\n    editor.$onSingleSelect = editor.$onSingleSelect.bind(editor);\n    editor.$multiselectOnSessionChange = exports.onSessionChange.bind(editor);\n    editor.$checkMultiselectChange = editor.$checkMultiselectChange.bind(editor);\n\n    editor.$multiselectOnSessionChange(editor);\n    editor.on(\"changeSession\", editor.$multiselectOnSessionChange);\n\n    editor.on(\"mousedown\", onMouseDown);\n    editor.commands.addCommands(commands.defaultCommands);\n\n    addAltCursorListeners(editor);\n}\n\nfunction addAltCursorListeners(editor){\n    if (!editor.textInput) return;\n    var el = editor.textInput.getElement();\n    var altCursor = false;\n    event.addListener(el, \"keydown\", function(e) {\n        var altDown = e.keyCode == 18 && !(e.ctrlKey || e.shiftKey || e.metaKey);\n        if (editor.$blockSelectEnabled && altDown) {\n            if (!altCursor) {\n                editor.renderer.setMouseCursor(\"crosshair\");\n                altCursor = true;\n            }\n        } else if (altCursor) {\n            reset();\n        }\n    }, editor);\n\n    event.addListener(el, \"keyup\", reset, editor);\n    event.addListener(el, \"blur\", reset, editor);\n    function reset(e) {\n        if (altCursor) {\n            editor.renderer.setMouseCursor(\"\");\n            altCursor = false;\n        }\n    }\n}\n\nexports.MultiSelect = MultiSelect;\n\n\nrequire(\"./config\").defineOptions(Editor.prototype, \"editor\", {\n    enableMultiselect: {\n        set: function(val) {\n            MultiSelect(this);\n            if (val) {\n                this.on(\"changeSession\", this.$multiselectOnSessionChange);\n                this.on(\"mousedown\", onMouseDown);\n            } else {\n                this.off(\"changeSession\", this.$multiselectOnSessionChange);\n                this.off(\"mousedown\", onMouseDown);\n            }\n        },\n        value: true\n    },\n    enableBlockSelect: {\n        set: function(val) {\n            this.$blockSelectEnabled = val;\n        },\n        value: true\n    }\n});\n\n\n\n});\n\nace.define(\"ace/mode/folding/fold_mode\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\n\nvar Range = require(\"../../range\").Range;\n\nvar FoldMode = exports.FoldMode = function() {};\n\n(function() {\n\n    this.foldingStartMarker = null;\n    this.foldingStopMarker = null;\n    this.getFoldWidget = function(session, foldStyle, row) {\n        var line = session.getLine(row);\n        if (this.foldingStartMarker.test(line))\n            return \"start\";\n        if (foldStyle == \"markbeginend\"\n                && this.foldingStopMarker\n                && this.foldingStopMarker.test(line))\n            return \"end\";\n        return \"\";\n    };\n\n    this.getFoldWidgetRange = function(session, foldStyle, row) {\n        return null;\n    };\n\n    this.indentationBlock = function(session, row, column) {\n        var re = /\\S/;\n        var line = session.getLine(row);\n        var startLevel = line.search(re);\n        if (startLevel == -1)\n            return;\n\n        var startColumn = column || line.length;\n        var maxRow = session.getLength();\n        var startRow = row;\n        var endRow = row;\n\n        while (++row < maxRow) {\n            var level = session.getLine(row).search(re);\n\n            if (level == -1)\n                continue;\n\n            if (level <= startLevel) {\n                var token = session.getTokenAt(row, 0);\n                if (!token || token.type !== \"string\")\n                    break;\n            }\n\n            endRow = row;\n        }\n\n        if (endRow > startRow) {\n            var endColumn = session.getLine(endRow).length;\n            return new Range(startRow, startColumn, endRow, endColumn);\n        }\n    };\n\n    this.openingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var start = {row: row, column: column + 1};\n        var end = session.$findClosingBracket(bracket, start, typeRe);\n        if (!end)\n            return;\n\n        var fw = session.foldWidgets[end.row];\n        if (fw == null)\n            fw = session.getFoldWidget(end.row);\n\n        if (fw == \"start\" && end.row > start.row) {\n            end.row --;\n            end.column = session.getLine(end.row).length;\n        }\n        return Range.fromPoints(start, end);\n    };\n\n    this.closingBracketBlock = function(session, bracket, row, column, typeRe) {\n        var end = {row: row, column: column};\n        var start = session.$findOpeningBracket(bracket, end);\n\n        if (!start)\n            return;\n\n        start.column++;\n        end.column--;\n\n        return  Range.fromPoints(start, end);\n    };\n}).call(FoldMode.prototype);\n\n});\n\nace.define(\"ace/theme/textmate\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nexports.isDark = false;\nexports.cssClass = \"ace-tm\";\nexports.cssText = \".ace-tm .ace_gutter {\\\nbackground: #f0f0f0;\\\ncolor: #333;\\\n}\\\n.ace-tm .ace_print-margin {\\\nwidth: 1px;\\\nbackground: #e8e8e8;\\\n}\\\n.ace-tm .ace_fold {\\\nbackground-color: #6B72E6;\\\n}\\\n.ace-tm {\\\nbackground-color: #FFFFFF;\\\ncolor: black;\\\n}\\\n.ace-tm .ace_cursor {\\\ncolor: black;\\\n}\\\n.ace-tm .ace_invisible {\\\ncolor: rgb(191, 191, 191);\\\n}\\\n.ace-tm .ace_storage,\\\n.ace-tm .ace_keyword {\\\ncolor: blue;\\\n}\\\n.ace-tm .ace_constant {\\\ncolor: rgb(197, 6, 11);\\\n}\\\n.ace-tm .ace_constant.ace_buildin {\\\ncolor: rgb(88, 72, 246);\\\n}\\\n.ace-tm .ace_constant.ace_language {\\\ncolor: rgb(88, 92, 246);\\\n}\\\n.ace-tm .ace_constant.ace_library {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_invalid {\\\nbackground-color: rgba(255, 0, 0, 0.1);\\\ncolor: red;\\\n}\\\n.ace-tm .ace_support.ace_function {\\\ncolor: rgb(60, 76, 114);\\\n}\\\n.ace-tm .ace_support.ace_constant {\\\ncolor: rgb(6, 150, 14);\\\n}\\\n.ace-tm .ace_support.ace_type,\\\n.ace-tm .ace_support.ace_class {\\\ncolor: rgb(109, 121, 222);\\\n}\\\n.ace-tm .ace_keyword.ace_operator {\\\ncolor: rgb(104, 118, 135);\\\n}\\\n.ace-tm .ace_string {\\\ncolor: rgb(3, 106, 7);\\\n}\\\n.ace-tm .ace_comment {\\\ncolor: rgb(76, 136, 107);\\\n}\\\n.ace-tm .ace_comment.ace_doc {\\\ncolor: rgb(0, 102, 255);\\\n}\\\n.ace-tm .ace_comment.ace_doc.ace_tag {\\\ncolor: rgb(128, 159, 191);\\\n}\\\n.ace-tm .ace_constant.ace_numeric {\\\ncolor: rgb(0, 0, 205);\\\n}\\\n.ace-tm .ace_variable {\\\ncolor: rgb(49, 132, 149);\\\n}\\\n.ace-tm .ace_xml-pe {\\\ncolor: rgb(104, 104, 91);\\\n}\\\n.ace-tm .ace_entity.ace_name.ace_function {\\\ncolor: #0000A2;\\\n}\\\n.ace-tm .ace_heading {\\\ncolor: rgb(12, 7, 255);\\\n}\\\n.ace-tm .ace_list {\\\ncolor:rgb(185, 6, 144);\\\n}\\\n.ace-tm .ace_meta.ace_tag {\\\ncolor:rgb(0, 22, 142);\\\n}\\\n.ace-tm .ace_string.ace_regex {\\\ncolor: rgb(255, 0, 0)\\\n}\\\n.ace-tm .ace_marker-layer .ace_selection {\\\nbackground: rgb(181, 213, 255);\\\n}\\\n.ace-tm.ace_multiselect .ace_selection.ace_start {\\\nbox-shadow: 0 0 3px 0px white;\\\n}\\\n.ace-tm .ace_marker-layer .ace_step {\\\nbackground: rgb(252, 255, 0);\\\n}\\\n.ace-tm .ace_marker-layer .ace_stack {\\\nbackground: rgb(164, 229, 101);\\\n}\\\n.ace-tm .ace_marker-layer .ace_bracket {\\\nmargin: -1px 0 0 -1px;\\\nborder: 1px solid rgb(192, 192, 192);\\\n}\\\n.ace-tm .ace_marker-layer .ace_active-line {\\\nbackground: rgba(0, 0, 0, 0.07);\\\n}\\\n.ace-tm .ace_gutter-active-line {\\\nbackground-color : #dcdcdc;\\\n}\\\n.ace-tm .ace_marker-layer .ace_selected-word {\\\nbackground: rgb(250, 250, 255);\\\nborder: 1px solid rgb(200, 200, 250);\\\n}\\\n.ace-tm .ace_indent-guide {\\\nbackground: url(\\\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==\\\") right repeat-y;\\\n}\\\n\";\nexports.$id = \"ace/theme/textmate\";\n\nvar dom = require(\"../lib/dom\");\ndom.importCssString(exports.cssText, exports.cssClass);\n});\n\nace.define(\"ace/line_widgets\",[\"require\",\"exports\",\"module\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar dom = require(\"./lib/dom\");\n\nfunction LineWidgets(session) {\n    this.session = session;\n    this.session.widgetManager = this;\n    this.session.getRowLength = this.getRowLength;\n    this.session.$getWidgetScreenLength = this.$getWidgetScreenLength;\n    this.updateOnChange = this.updateOnChange.bind(this);\n    this.renderWidgets = this.renderWidgets.bind(this);\n    this.measureWidgets = this.measureWidgets.bind(this);\n    this.session._changedWidgets = [];\n    this.$onChangeEditor = this.$onChangeEditor.bind(this);\n    \n    this.session.on(\"change\", this.updateOnChange);\n    this.session.on(\"changeFold\", this.updateOnFold);\n    this.session.on(\"changeEditor\", this.$onChangeEditor);\n}\n\n(function() {\n    this.getRowLength = function(row) {\n        var h;\n        if (this.lineWidgets)\n            h = this.lineWidgets[row] && this.lineWidgets[row].rowCount || 0;\n        else \n            h = 0;\n        if (!this.$useWrapMode || !this.$wrapData[row]) {\n            return 1 + h;\n        } else {\n            return this.$wrapData[row].length + 1 + h;\n        }\n    };\n\n    this.$getWidgetScreenLength = function() {\n        var screenRows = 0;\n        this.lineWidgets.forEach(function(w){\n            if (w && w.rowCount && !w.hidden)\n                screenRows += w.rowCount;\n        });\n        return screenRows;\n    };    \n    \n    this.$onChangeEditor = function(e) {\n        this.attach(e.editor);\n    };\n    \n    this.attach = function(editor) {\n        if (editor  && editor.widgetManager && editor.widgetManager != this)\n            editor.widgetManager.detach();\n\n        if (this.editor == editor)\n            return;\n\n        this.detach();\n        this.editor = editor;\n        \n        if (editor) {\n            editor.widgetManager = this;\n            editor.renderer.on(\"beforeRender\", this.measureWidgets);\n            editor.renderer.on(\"afterRender\", this.renderWidgets);\n        }\n    };\n    this.detach = function(e) {\n        var editor = this.editor;\n        if (!editor)\n            return;\n        \n        this.editor = null;\n        editor.widgetManager = null;\n        \n        editor.renderer.off(\"beforeRender\", this.measureWidgets);\n        editor.renderer.off(\"afterRender\", this.renderWidgets);\n        var lineWidgets = this.session.lineWidgets;\n        lineWidgets && lineWidgets.forEach(function(w) {\n            if (w && w.el && w.el.parentNode) {\n                w._inDocument = false;\n                w.el.parentNode.removeChild(w.el);\n            }\n        });\n    };\n\n    this.updateOnFold = function(e, session) {\n        var lineWidgets = session.lineWidgets;\n        if (!lineWidgets || !e.action)\n            return;\n        var fold = e.data;\n        var start = fold.start.row;\n        var end = fold.end.row;\n        var hide = e.action == \"add\";\n        for (var i = start + 1; i < end; i++) {\n            if (lineWidgets[i])\n                lineWidgets[i].hidden = hide;\n        }\n        if (lineWidgets[end]) {\n            if (hide) {\n                if (!lineWidgets[start])\n                    lineWidgets[start] = lineWidgets[end];\n                else\n                    lineWidgets[end].hidden = hide;\n            } else {\n                if (lineWidgets[start] == lineWidgets[end])\n                    lineWidgets[start] = undefined;\n                lineWidgets[end].hidden = hide;\n            }\n        }\n    };\n    \n    this.updateOnChange = function(delta) {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        \n        var startRow = delta.start.row;\n        var len = delta.end.row - startRow;\n\n        if (len === 0) {\n        } else if (delta.action == \"remove\") {\n            var removed = lineWidgets.splice(startRow + 1, len);\n            if (!lineWidgets[startRow] && removed[removed.length - 1]) {\n                lineWidgets[startRow] = removed.pop();\n            }\n            removed.forEach(function(w) {\n                w && this.removeLineWidget(w);\n            }, this);\n            this.$updateRows();\n        } else {\n            var args = new Array(len);\n            if (lineWidgets[startRow] && lineWidgets[startRow].column != null) {\n                if (delta.start.column > lineWidgets[startRow].column)\n                    startRow++;\n            }\n            args.unshift(startRow, 0);\n            lineWidgets.splice.apply(lineWidgets, args);\n            this.$updateRows();\n        }\n    };\n    \n    this.$updateRows = function() {\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets) return;\n        var noWidgets = true;\n        lineWidgets.forEach(function(w, i) {\n            if (w) {\n                noWidgets = false;\n                w.row = i;\n                while (w.$oldWidget) {\n                    w.$oldWidget.row = i;\n                    w = w.$oldWidget;\n                }\n            }\n        });\n        if (noWidgets)\n            this.session.lineWidgets = null;\n    };\n\n    this.$registerLineWidget = function(w) {\n        if (!this.session.lineWidgets)\n            this.session.lineWidgets = new Array(this.session.getLength());\n        \n        var old = this.session.lineWidgets[w.row];\n        if (old) {\n            w.$oldWidget = old;\n            if (old.el && old.el.parentNode) {\n                old.el.parentNode.removeChild(old.el);\n                old._inDocument = false;\n            }\n        }\n            \n        this.session.lineWidgets[w.row] = w;\n        return w;\n    };\n    \n    this.addLineWidget = function(w) {\n        this.$registerLineWidget(w);\n        w.session = this.session;\n        \n        if (!this.editor) return w;\n        \n        var renderer = this.editor.renderer;\n        if (w.html && !w.el) {\n            w.el = dom.createElement(\"div\");\n            w.el.innerHTML = w.html;\n        }\n        if (w.el) {\n            dom.addCssClass(w.el, \"ace_lineWidgetContainer\");\n            w.el.style.position = \"absolute\";\n            w.el.style.zIndex = 5;\n            renderer.container.appendChild(w.el);\n            w._inDocument = true;\n            \n            if (!w.coverGutter) {\n                w.el.style.zIndex = 3;\n            }\n            if (w.pixelHeight == null) {\n                w.pixelHeight = w.el.offsetHeight;\n            }\n        }\n        if (w.rowCount == null) {\n            w.rowCount = w.pixelHeight / renderer.layerConfig.lineHeight;\n        }\n        \n        var fold = this.session.getFoldAt(w.row, 0);\n        w.$fold = fold;\n        if (fold) {\n            var lineWidgets = this.session.lineWidgets;\n            if (w.row == fold.end.row && !lineWidgets[fold.start.row])\n                lineWidgets[fold.start.row] = w;\n            else\n                w.hidden = true;\n        }\n            \n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        \n        this.$updateRows();\n        this.renderWidgets(null, renderer);\n        this.onWidgetChanged(w);\n        return w;\n    };\n    \n    this.removeLineWidget = function(w) {\n        w._inDocument = false;\n        w.session = null;\n        if (w.el && w.el.parentNode)\n            w.el.parentNode.removeChild(w.el);\n        if (w.editor && w.editor.destroy) try {\n            w.editor.destroy();\n        } catch(e){}\n        if (this.session.lineWidgets) {\n            var w1 = this.session.lineWidgets[w.row];\n            if (w1 == w) {\n                this.session.lineWidgets[w.row] = w.$oldWidget;\n                if (w.$oldWidget)\n                    this.onWidgetChanged(w.$oldWidget);\n            } else {\n                while (w1) {\n                    if (w1.$oldWidget == w) {\n                        w1.$oldWidget = w.$oldWidget;\n                        break;\n                    }\n                    w1 = w1.$oldWidget;\n                }\n            }\n        }\n        this.session._emit(\"changeFold\", {data:{start:{row: w.row}}});\n        this.$updateRows();\n    };\n    \n    this.getWidgetsAtRow = function(row) {\n        var lineWidgets = this.session.lineWidgets;\n        var w = lineWidgets && lineWidgets[row];\n        var list = [];\n        while (w) {\n            list.push(w);\n            w = w.$oldWidget;\n        }\n        return list;\n    };\n    \n    this.onWidgetChanged = function(w) {\n        this.session._changedWidgets.push(w);\n        this.editor && this.editor.renderer.updateFull();\n    };\n    \n    this.measureWidgets = function(e, renderer) {\n        var changedWidgets = this.session._changedWidgets;\n        var config = renderer.layerConfig;\n        \n        if (!changedWidgets || !changedWidgets.length) return;\n        var min = Infinity;\n        for (var i = 0; i < changedWidgets.length; i++) {\n            var w = changedWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.session != this.session) continue;\n            if (!w._inDocument) {\n                if (this.session.lineWidgets[w.row] != w)\n                    continue;\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            \n            w.h = w.el.offsetHeight;\n            \n            if (!w.fixedWidth) {\n                w.w = w.el.offsetWidth;\n                w.screenWidth = Math.ceil(w.w / config.characterWidth);\n            }\n            \n            var rowCount = w.h / config.lineHeight;\n            if (w.coverLine) {\n                rowCount -= this.session.getRowLineCount(w.row);\n                if (rowCount < 0)\n                    rowCount = 0;\n            }\n            if (w.rowCount != rowCount) {\n                w.rowCount = rowCount;\n                if (w.row < min)\n                    min = w.row;\n            }\n        }\n        if (min != Infinity) {\n            this.session._emit(\"changeFold\", {data:{start:{row: min}}});\n            this.session.lineWidgetWidth = null;\n        }\n        this.session._changedWidgets = [];\n    };\n    \n    this.renderWidgets = function(e, renderer) {\n        var config = renderer.layerConfig;\n        var lineWidgets = this.session.lineWidgets;\n        if (!lineWidgets)\n            return;\n        var first = Math.min(this.firstRow, config.firstRow);\n        var last = Math.max(this.lastRow, config.lastRow, lineWidgets.length);\n        \n        while (first > 0 && !lineWidgets[first])\n            first--;\n        \n        this.firstRow = config.firstRow;\n        this.lastRow = config.lastRow;\n\n        renderer.$cursorLayer.config = config;\n        for (var i = first; i <= last; i++) {\n            var w = lineWidgets[i];\n            if (!w || !w.el) continue;\n            if (w.hidden) {\n                w.el.style.top = -100 - (w.pixelHeight || 0) + \"px\";\n                continue;\n            }\n            if (!w._inDocument) {\n                w._inDocument = true;\n                renderer.container.appendChild(w.el);\n            }\n            var top = renderer.$cursorLayer.getPixelPosition({row: i, column:0}, true).top;\n            if (!w.coverLine)\n                top += config.lineHeight * this.session.getRowLineCount(w.row);\n            w.el.style.top = top - config.offset + \"px\";\n            \n            var left = w.coverGutter ? 0 : renderer.gutterWidth;\n            if (!w.fixedWidth)\n                left -= renderer.scrollLeft;\n            w.el.style.left = left + \"px\";\n            \n            if (w.fullWidth && w.screenWidth) {\n                w.el.style.minWidth = config.width + 2 * config.padding + \"px\";\n            }\n            \n            if (w.fixedWidth) {\n                w.el.style.right = renderer.scrollBar.getWidth() + \"px\";\n            } else {\n                w.el.style.right = \"\";\n            }\n        }\n    };\n    \n}).call(LineWidgets.prototype);\n\n\nexports.LineWidgets = LineWidgets;\n\n});\n\nace.define(\"ace/ext/error_marker\",[\"require\",\"exports\",\"module\",\"ace/line_widgets\",\"ace/lib/dom\",\"ace/range\"], function(require, exports, module) {\n\"use strict\";\nvar LineWidgets = require(\"../line_widgets\").LineWidgets;\nvar dom = require(\"../lib/dom\");\nvar Range = require(\"../range\").Range;\n\nfunction binarySearch(array, needle, comparator) {\n    var first = 0;\n    var last = array.length - 1;\n\n    while (first <= last) {\n        var mid = (first + last) >> 1;\n        var c = comparator(needle, array[mid]);\n        if (c > 0)\n            first = mid + 1;\n        else if (c < 0)\n            last = mid - 1;\n        else\n            return mid;\n    }\n    return -(first + 1);\n}\n\nfunction findAnnotations(session, row, dir) {\n    var annotations = session.getAnnotations().sort(Range.comparePoints);\n    if (!annotations.length)\n        return;\n    \n    var i = binarySearch(annotations, {row: row, column: -1}, Range.comparePoints);\n    if (i < 0)\n        i = -i - 1;\n    \n    if (i >= annotations.length)\n        i = dir > 0 ? 0 : annotations.length - 1;\n    else if (i === 0 && dir < 0)\n        i = annotations.length - 1;\n    \n    var annotation = annotations[i];\n    if (!annotation || !dir)\n        return;\n\n    if (annotation.row === row) {\n        do {\n            annotation = annotations[i += dir];\n        } while (annotation && annotation.row === row);\n        if (!annotation)\n            return annotations.slice();\n    }\n    \n    \n    var matched = [];\n    row = annotation.row;\n    do {\n        matched[dir < 0 ? \"unshift\" : \"push\"](annotation);\n        annotation = annotations[i += dir];\n    } while (annotation && annotation.row == row);\n    return matched.length && matched;\n}\n\nexports.showErrorMarker = function(editor, dir) {\n    var session = editor.session;\n    if (!session.widgetManager) {\n        session.widgetManager = new LineWidgets(session);\n        session.widgetManager.attach(editor);\n    }\n    \n    var pos = editor.getCursorPosition();\n    var row = pos.row;\n    var oldWidget = session.widgetManager.getWidgetsAtRow(row).filter(function(w) {\n        return w.type == \"errorMarker\";\n    })[0];\n    if (oldWidget) {\n        oldWidget.destroy();\n    } else {\n        row -= dir;\n    }\n    var annotations = findAnnotations(session, row, dir);\n    var gutterAnno;\n    if (annotations) {\n        var annotation = annotations[0];\n        pos.column = (annotation.pos && typeof annotation.column != \"number\"\n            ? annotation.pos.sc\n            : annotation.column) || 0;\n        pos.row = annotation.row;\n        gutterAnno = editor.renderer.$gutterLayer.$annotations[pos.row];\n    } else if (oldWidget) {\n        return;\n    } else {\n        gutterAnno = {\n            text: [\"Looks good!\"],\n            className: \"ace_ok\"\n        };\n    }\n    editor.session.unfold(pos.row);\n    editor.selection.moveToPosition(pos);\n    \n    var w = {\n        row: pos.row, \n        fixedWidth: true,\n        coverGutter: true,\n        el: dom.createElement(\"div\"),\n        type: \"errorMarker\"\n    };\n    var el = w.el.appendChild(dom.createElement(\"div\"));\n    var arrow = w.el.appendChild(dom.createElement(\"div\"));\n    arrow.className = \"error_widget_arrow \" + gutterAnno.className;\n    \n    var left = editor.renderer.$cursorLayer\n        .getPixelPosition(pos).left;\n    arrow.style.left = left + editor.renderer.gutterWidth - 5 + \"px\";\n    \n    w.el.className = \"error_widget_wrapper\";\n    el.className = \"error_widget \" + gutterAnno.className;\n    el.innerHTML = gutterAnno.text.join(\"<br>\");\n    \n    el.appendChild(dom.createElement(\"div\"));\n    \n    var kb = function(_, hashId, keyString) {\n        if (hashId === 0 && (keyString === \"esc\" || keyString === \"return\")) {\n            w.destroy();\n            return {command: \"null\"};\n        }\n    };\n    \n    w.destroy = function() {\n        if (editor.$mouseHandler.isMousePressed)\n            return;\n        editor.keyBinding.removeKeyboardHandler(kb);\n        session.widgetManager.removeLineWidget(w);\n        editor.off(\"changeSelection\", w.destroy);\n        editor.off(\"changeSession\", w.destroy);\n        editor.off(\"mouseup\", w.destroy);\n        editor.off(\"change\", w.destroy);\n    };\n    \n    editor.keyBinding.addKeyboardHandler(kb);\n    editor.on(\"changeSelection\", w.destroy);\n    editor.on(\"changeSession\", w.destroy);\n    editor.on(\"mouseup\", w.destroy);\n    editor.on(\"change\", w.destroy);\n    \n    editor.session.widgetManager.addLineWidget(w);\n    \n    w.el.onmousedown = editor.focus.bind(editor);\n    \n    editor.renderer.scrollCursorIntoView(null, 0.5, {bottom: w.el.offsetHeight});\n};\n\n\ndom.importCssString(\"\\\n    .error_widget_wrapper {\\\n        background: inherit;\\\n        color: inherit;\\\n        border:none\\\n    }\\\n    .error_widget {\\\n        border-top: solid 2px;\\\n        border-bottom: solid 2px;\\\n        margin: 5px 0;\\\n        padding: 10px 40px;\\\n        white-space: pre-wrap;\\\n    }\\\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\\\n        border-color: #ff5a5a\\\n    }\\\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\\\n        border-color: #F1D817\\\n    }\\\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\\\n        border-color: #5a5a5a\\\n    }\\\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\\\n        border-color: #5aaa5a\\\n    }\\\n    .error_widget_arrow {\\\n        position: absolute;\\\n        border: solid 5px;\\\n        border-top-color: transparent!important;\\\n        border-right-color: transparent!important;\\\n        border-left-color: transparent!important;\\\n        top: -5px;\\\n    }\\\n\", \"\");\n\n});\n\nace.define(\"ace/ace\",[\"require\",\"exports\",\"module\",\"ace/lib/fixoldbrowsers\",\"ace/lib/dom\",\"ace/lib/event\",\"ace/range\",\"ace/editor\",\"ace/edit_session\",\"ace/undomanager\",\"ace/virtual_renderer\",\"ace/worker/worker_client\",\"ace/keyboard/hash_handler\",\"ace/placeholder\",\"ace/multi_select\",\"ace/mode/folding/fold_mode\",\"ace/theme/textmate\",\"ace/ext/error_marker\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nrequire(\"./lib/fixoldbrowsers\");\n\nvar dom = require(\"./lib/dom\");\nvar event = require(\"./lib/event\");\n\nvar Range = require(\"./range\").Range;\nvar Editor = require(\"./editor\").Editor;\nvar EditSession = require(\"./edit_session\").EditSession;\nvar UndoManager = require(\"./undomanager\").UndoManager;\nvar Renderer = require(\"./virtual_renderer\").VirtualRenderer;\nrequire(\"./worker/worker_client\");\nrequire(\"./keyboard/hash_handler\");\nrequire(\"./placeholder\");\nrequire(\"./multi_select\");\nrequire(\"./mode/folding/fold_mode\");\nrequire(\"./theme/textmate\");\nrequire(\"./ext/error_marker\");\n\nexports.config = require(\"./config\");\nexports.require = require;\n\nif (typeof define === \"function\")\n    exports.define = define;\nexports.edit = function(el, options) {\n    if (typeof el == \"string\") {\n        var _id = el;\n        el = document.getElementById(_id);\n        if (!el)\n            throw new Error(\"ace.edit can't find div #\" + _id);\n    }\n\n    if (el && el.env && el.env.editor instanceof Editor)\n        return el.env.editor;\n\n    var value = \"\";\n    if (el && /input|textarea/i.test(el.tagName)) {\n        var oldNode = el;\n        value = oldNode.value;\n        el = dom.createElement(\"pre\");\n        oldNode.parentNode.replaceChild(el, oldNode);\n    } else if (el) {\n        value = el.textContent;\n        el.innerHTML = \"\";\n    }\n\n    var doc = exports.createEditSession(value);\n\n    var editor = new Editor(new Renderer(el), doc, options);\n\n    var env = {\n        document: doc,\n        editor: editor,\n        onResize: editor.resize.bind(editor, null)\n    };\n    if (oldNode) env.textarea = oldNode;\n    event.addListener(window, \"resize\", env.onResize);\n    editor.on(\"destroy\", function() {\n        event.removeListener(window, \"resize\", env.onResize);\n        env.editor.container.env = null; // prevent memory leak on old ie\n    });\n    editor.container.env = editor.env = env;\n    return editor;\n};\nexports.createEditSession = function(text, mode) {\n    var doc = new EditSession(text, mode);\n    doc.setUndoManager(new UndoManager());\n    return doc;\n};\nexports.Range = Range;\nexports.Editor = Editor;\nexports.EditSession = EditSession;\nexports.UndoManager = UndoManager;\nexports.VirtualRenderer = Renderer;\nexports.version = exports.config.version;\n});            (function() {\n                ace.require([\"ace/ace\"], function(a) {\n                    if (a) {\n                        a.config.init(true);\n                        a.define = ace.define;\n                    }\n                    if (!window.ace)\n                        window.ace = a;\n                    for (var key in a) if (a.hasOwnProperty(key))\n                        window.ace[key] = a[key];\n                    window.ace[\"default\"] = window.ace;\n                    if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                        module.exports = window.ace;\n                    }\n                });\n            })();\n        ","ace.define(\"ace/snippets\",[\"require\",\"exports\",\"module\",\"ace/lib/oop\",\"ace/lib/event_emitter\",\"ace/lib/lang\",\"ace/range\",\"ace/range_list\",\"ace/keyboard/hash_handler\",\"ace/tokenizer\",\"ace/clipboard\",\"ace/lib/dom\",\"ace/editor\"], function(require, exports, module) {\n\"use strict\";\nvar oop = require(\"./lib/oop\");\nvar EventEmitter = require(\"./lib/event_emitter\").EventEmitter;\nvar lang = require(\"./lib/lang\");\nvar Range = require(\"./range\").Range;\nvar RangeList = require(\"./range_list\").RangeList;\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar Tokenizer = require(\"./tokenizer\").Tokenizer;\nvar clipboard = require(\"./clipboard\");\n\nvar VARIABLES = {\n    CURRENT_WORD: function(editor) {\n        return editor.session.getTextRange(editor.session.getWordRange());\n    },\n    SELECTION: function(editor, name, indentation) {\n        var text = editor.session.getTextRange();\n        if (indentation)\n            return text.replace(/\\n\\r?([ \\t]*\\S)/g, \"\\n\" + indentation + \"$1\");\n        return text;\n    },\n    CURRENT_LINE: function(editor) {\n        return editor.session.getLine(editor.getCursorPosition().row);\n    },\n    PREV_LINE: function(editor) {\n        return editor.session.getLine(editor.getCursorPosition().row - 1);\n    },\n    LINE_INDEX: function(editor) {\n        return editor.getCursorPosition().row;\n    },\n    LINE_NUMBER: function(editor) {\n        return editor.getCursorPosition().row + 1;\n    },\n    SOFT_TABS: function(editor) {\n        return editor.session.getUseSoftTabs() ? \"YES\" : \"NO\";\n    },\n    TAB_SIZE: function(editor) {\n        return editor.session.getTabSize();\n    },\n    CLIPBOARD: function(editor) {\n        return clipboard.getText && clipboard.getText();\n    },\n    FILENAME: function(editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0];\n    },\n    FILENAME_BASE: function(editor) {\n        return /[^/\\\\]*$/.exec(this.FILEPATH(editor))[0].replace(/\\.[^.]*$/, \"\");\n    },\n    DIRECTORY: function(editor) {\n        return this.FILEPATH(editor).replace(/[^/\\\\]*$/, \"\");\n    },\n    FILEPATH: function(editor) { return \"/not implemented.txt\"; },\n    WORKSPACE_NAME: function() { return \"Unknown\"; },\n    FULLNAME: function() { return \"Unknown\"; },\n    BLOCK_COMMENT_START: function(editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.start || \"\";\n    },\n    BLOCK_COMMENT_END: function(editor) {\n        var mode = editor.session.$mode || {};\n        return mode.blockComment && mode.blockComment.end || \"\";\n    },\n    LINE_COMMENT: function(editor) {\n        var mode = editor.session.$mode || {};\n        return mode.lineCommentStart || \"\";\n    },\n    CURRENT_YEAR: date.bind(null, {year: \"numeric\"}),\n    CURRENT_YEAR_SHORT: date.bind(null, {year: \"2-digit\"}),\n    CURRENT_MONTH: date.bind(null, {month: \"numeric\"}),\n    CURRENT_MONTH_NAME: date.bind(null, {month: \"long\"}),\n    CURRENT_MONTH_NAME_SHORT: date.bind(null, {month: \"short\"}),\n    CURRENT_DATE: date.bind(null, {day: \"2-digit\"}),\n    CURRENT_DAY_NAME: date.bind(null, {weekday: \"long\"}),\n    CURRENT_DAY_NAME_SHORT: date.bind(null, {weekday: \"short\"}),\n    CURRENT_HOUR: date.bind(null, {hour: \"2-digit\", hour12: false}),\n    CURRENT_MINUTE: date.bind(null, {minute: \"2-digit\"}),\n    CURRENT_SECOND: date.bind(null, {second: \"2-digit\"})\n};\n\nVARIABLES.SELECTED_TEXT = VARIABLES.SELECTION;\n\nfunction date(dateFormat) {\n    var str = new Date().toLocaleString(\"en-us\", dateFormat);\n    return str.length == 1 ? \"0\" + str : str;\n}\n\nvar SnippetManager = function() {\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n};\n\n(function() {\n    oop.implement(this, EventEmitter);\n    \n    this.getTokenizer = function() {\n        return SnippetManager.$tokenizer || this.createTokenizer();\n    };\n    \n    this.createTokenizer = function() {\n        function TabstopToken(str) {\n            str = str.substr(1);\n            if (/^\\d+$/.test(str))\n                return [{tabstopId: parseInt(str, 10)}];\n            return [{text: str}];\n        }\n        function escape(ch) {\n            return \"(?:[^\\\\\\\\\" + ch + \"]|\\\\\\\\.)\";\n        }\n        var formatMatcher = {\n            regex: \"/(\" + escape(\"/\") + \"+)/\", \n            onMatch: function(val, state, stack) {\n                var ts = stack[0];\n                ts.fmtString = true;\n                ts.guard = val.slice(1, -1);\n                ts.flag = \"\";\n                return \"\";\n            },\n            next: \"formatString\"\n        };\n        \n        SnippetManager.$tokenizer = new Tokenizer({\n            start: [\n                {regex: /\\\\./, onMatch: function(val, state, stack) {\n                    var ch = val[1];\n                    if (ch == \"}\" && stack.length) {\n                        val = ch;\n                    } else if (\"`$\\\\\".indexOf(ch) != -1) {\n                        val = ch;\n                    }\n                    return [val];\n                }},\n                {regex: /}/, onMatch: function(val, state, stack) {\n                    return [stack.length ? stack.shift() : val];\n                }},\n                {regex: /\\$(?:\\d+|\\w+)/, onMatch: TabstopToken},\n                {regex: /\\$\\{[\\dA-Z_a-z]+/, onMatch: function(str, state, stack) {\n                    var t = TabstopToken(str.substr(1));\n                    stack.unshift(t[0]);\n                    return t;\n                }, next: \"snippetVar\"},\n                {regex: /\\n/, token: \"newline\", merge: false}\n            ],\n            snippetVar: [\n                {regex: \"\\\\|\" + escape(\"\\\\|\") + \"*\\\\|\", onMatch: function(val, state, stack) {\n                    var choices = val.slice(1, -1).replace(/\\\\[,|\\\\]|,/g, function(operator) {\n                        return operator.length == 2 ? operator[1] : \"\\x00\";\n                    }).split(\"\\x00\").map(function(value){\n                        return {value: value};\n                    });\n                    stack[0].choices = choices;\n                    return [choices[0]];\n                }, next: \"start\"},\n                formatMatcher,\n                {regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"start\"}\n            ],\n            formatString: [\n                {regex: /:/, onMatch: function(val, state, stack) {\n                    if (stack.length && stack[0].expectElse) {\n                        stack[0].expectElse = false;\n                        stack[0].ifEnd = {elseEnd: stack[0]};\n                        return [stack[0].ifEnd];\n                    }\n                    return \":\";\n                }},\n                {regex: /\\\\./, onMatch: function(val, state, stack) {\n                    var ch = val[1];\n                    if (ch == \"}\" && stack.length)\n                        val = ch;\n                    else if (\"`$\\\\\".indexOf(ch) != -1)\n                        val = ch;\n                    else if (ch == \"n\")\n                        val = \"\\n\";\n                    else if (ch == \"t\")\n                        val = \"\\t\";\n                    else if (\"ulULE\".indexOf(ch) != -1)\n                        val = {changeCase: ch, local: ch > \"a\"};\n                    return [val];\n                }},\n                {regex: \"/\\\\w*}\", onMatch: function(val, state, stack) {\n                    var next = stack.shift();\n                    if (next)\n                        next.flag = val.slice(1, -1);\n                    this.next = next && next.tabstopId ? \"start\" : \"\";\n                    return [next || val];\n                }, next: \"start\"},\n                {regex: /\\$(?:\\d+|\\w+)/, onMatch: function(val, state, stack) {\n                    return [{text: val.slice(1)}];\n                }},\n                {regex: /\\${\\w+/, onMatch: function(val, state, stack) {\n                    var token = {text: val.slice(2)};\n                    stack.unshift(token);\n                    return [token];\n                }, next: \"formatStringVar\"},\n                {regex: /\\n/, token: \"newline\", merge: false},\n                {regex: /}/, onMatch: function(val, state, stack) {\n                    var next = stack.shift();\n                    this.next = next && next.tabstopId ? \"start\" : \"\";\n                    return [next || val];\n                }, next: \"start\"}\n            ],\n            formatStringVar: [\n                {regex: /:\\/\\w+}/, onMatch: function(val, state, stack) {\n                    var ts = stack[0];\n                    ts.formatFunction = val.slice(2, -1);\n                    return [stack.shift()];\n                }, next: \"formatString\"},\n                formatMatcher,\n                {regex: /:[\\?\\-+]?/, onMatch: function(val, state, stack) {\n                    if (val[1] == \"+\")\n                        stack[0].ifEnd = stack[0];\n                    if (val[1] == \"?\")\n                        stack[0].expectElse = true;\n                }, next: \"formatString\"},\n                {regex: \"([^:}\\\\\\\\]|\\\\\\\\.)*:?\", token: \"\", next: \"formatString\"}\n            ]\n        });\n        return SnippetManager.$tokenizer;\n    };\n\n    this.tokenizeTmSnippet = function(str, startState) {\n        return this.getTokenizer().getLineTokens(str, startState).tokens.map(function(x) {\n            return x.value || x;\n        });\n    };\n    \n    this.getVariableValue = function(editor, name, indentation) {\n        if (/^\\d+$/.test(name))\n            return (this.variables.__ || {})[name] || \"\";\n        if (/^[A-Z]\\d+$/.test(name))\n            return (this.variables[name[0] + \"__\"] || {})[name.substr(1)] || \"\";\n        \n        name = name.replace(/^TM_/, \"\");\n        if (!this.variables.hasOwnProperty(name))\n            return \"\";\n        var value = this.variables[name];\n        if (typeof value == \"function\")\n            value = this.variables[name](editor, name, indentation);\n        return value == null ? \"\" : value;\n    };\n    \n    this.variables = VARIABLES;\n    this.tmStrFormat = function(str, ch, editor) {\n        if (!ch.fmt) return str;\n        var flag = ch.flag || \"\";\n        var re = ch.guard;\n        re = new RegExp(re, flag.replace(/[^gim]/g, \"\"));\n        var fmtTokens = typeof ch.fmt == \"string\" ? this.tokenizeTmSnippet(ch.fmt, \"formatString\") : ch.fmt;\n        var _self = this;\n        var formatted = str.replace(re, function() {\n            var oldArgs = _self.variables.__;\n            _self.variables.__ = [].slice.call(arguments);\n            var fmtParts = _self.resolveVariables(fmtTokens, editor);\n            var gChangeCase = \"E\";\n            for (var i  = 0; i < fmtParts.length; i++) {\n                var ch = fmtParts[i];\n                if (typeof ch == \"object\") {\n                    fmtParts[i] = \"\";\n                    if (ch.changeCase && ch.local) {\n                        var next = fmtParts[i + 1];\n                        if (next && typeof next == \"string\") {\n                            if (ch.changeCase == \"u\")\n                                fmtParts[i] = next[0].toUpperCase();\n                            else\n                                fmtParts[i] = next[0].toLowerCase();\n                            fmtParts[i + 1] = next.substr(1);\n                        }\n                    } else if (ch.changeCase) {\n                        gChangeCase = ch.changeCase;\n                    }\n                } else if (gChangeCase == \"U\") {\n                    fmtParts[i] = ch.toUpperCase();\n                } else if (gChangeCase == \"L\") {\n                    fmtParts[i] = ch.toLowerCase();\n                }\n            }\n            _self.variables.__ = oldArgs;\n            return fmtParts.join(\"\");\n        });\n        return formatted;\n    };\n    \n    this.tmFormatFunction = function(str, ch, editor) {\n        if (ch.formatFunction == \"upcase\")\n            return str.toUpperCase();\n        if (ch.formatFunction == \"downcase\")\n            return str.toLowerCase();\n        return str;\n    };\n\n    this.resolveVariables = function(snippet, editor) {\n        var result = [];\n        var indentation = \"\";\n        var afterNewLine = true;\n        for (var i = 0; i < snippet.length; i++) {\n            var ch = snippet[i];\n            if (typeof ch == \"string\") {\n                result.push(ch);\n                if (ch == \"\\n\") {\n                    afterNewLine = true;\n                    indentation = \"\";\n                }\n                else if (afterNewLine) {\n                    indentation = /^\\t*/.exec(ch)[0];\n                    afterNewLine = /\\S/.test(ch);\n                }\n                continue;\n            }\n            if (!ch)  continue;\n            afterNewLine = false;\n            \n            if (ch.fmtString) {\n                var j = snippet.indexOf(ch, i + 1);\n                if (j == -1) j = snippet.length;\n                ch.fmt = snippet.slice(i + 1, j);\n                i = j;\n            }\n            \n            if (ch.text) {\n                var value = this.getVariableValue(editor, ch.text, indentation) + \"\";\n                if (ch.fmtString)\n                    value = this.tmStrFormat(value, ch, editor);\n                if (ch.formatFunction)\n                    value = this.tmFormatFunction(value, ch, editor);\n                \n                if (value && !ch.ifEnd) {\n                    result.push(value);\n                    gotoNext(ch);\n                } else if (!value && ch.ifEnd) {\n                    gotoNext(ch.ifEnd);\n                }\n            } else if (ch.elseEnd) {\n                gotoNext(ch.elseEnd);\n            } else if (ch.tabstopId != null) {\n                result.push(ch);\n            } else if (ch.changeCase != null) {\n                result.push(ch);\n            }\n        }\n        function gotoNext(ch) {\n            var i1 = snippet.indexOf(ch, i + 1);\n            if (i1 != -1)\n                i = i1;\n        }\n        return result;\n    };\n\n    this.insertSnippetForSelection = function(editor, snippetText) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var tabString = editor.session.getTabString();\n        var indentString = line.match(/^\\s*/)[0];\n        \n        if (cursor.column < indentString.length)\n            indentString = indentString.slice(0, cursor.column);\n\n        snippetText = snippetText.replace(/\\r/g, \"\");\n        var tokens = this.tokenizeTmSnippet(snippetText);\n        tokens = this.resolveVariables(tokens, editor);\n        tokens = tokens.map(function(x) {\n            if (x == \"\\n\")\n                return x + indentString;\n            if (typeof x == \"string\")\n                return x.replace(/\\t/g, tabString);\n            return x;\n        });\n        var tabstops = [];\n        tokens.forEach(function(p, i) {\n            if (typeof p != \"object\")\n                return;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            if (!ts) {\n                ts = tabstops[id] = [];\n                ts.index = id;\n                ts.value = \"\";\n                ts.parents = {};\n            }\n            if (ts.indexOf(p) !== -1)\n                return;\n            if (p.choices && !ts.choices)\n                ts.choices = p.choices;\n            ts.push(p);\n            var i1 = tokens.indexOf(p, i + 1);\n            if (i1 === -1)\n                return;\n\n            var value = tokens.slice(i + 1, i1);\n            var isNested = value.some(function(t) {return typeof t === \"object\";});\n            if (isNested && !ts.value) {\n                ts.value = value;\n            } else if (value.length && (!ts.value || typeof ts.value !== \"string\")) {\n                ts.value = value.join(\"\");\n            }\n        });\n        tabstops.forEach(function(ts) {ts.length = 0;});\n        var expanding = {};\n        function copyValue(val) {\n            var copy = [];\n            for (var i = 0; i < val.length; i++) {\n                var p = val[i];\n                if (typeof p == \"object\") {\n                    if (expanding[p.tabstopId])\n                        continue;\n                    var j = val.lastIndexOf(p, i - 1);\n                    p = copy[j] || {tabstopId: p.tabstopId};\n                }\n                copy[i] = p;\n            }\n            return copy;\n        }\n        for (var i = 0; i < tokens.length; i++) {\n            var p = tokens[i];\n            if (typeof p != \"object\")\n                continue;\n            var id = p.tabstopId;\n            var ts = tabstops[id];\n            var i1 = tokens.indexOf(p, i + 1);\n            if (expanding[id]) {\n                if (expanding[id] === p) {\n                    delete expanding[id];\n                    Object.keys(expanding).forEach(function(parentId) {\n                        ts.parents[parentId] = true;\n                    });\n                }\n                continue;\n            }\n            expanding[id] = p;\n            var value = ts.value;\n            if (typeof value !== \"string\")\n                value = copyValue(value);\n            else if (p.fmt)\n                value = this.tmStrFormat(value, p, editor);\n            tokens.splice.apply(tokens, [i + 1, Math.max(0, i1 - i)].concat(value, p));\n\n            if (ts.indexOf(p) === -1)\n                ts.push(p);\n        }\n        var row = 0, column = 0;\n        var text = \"\";\n        tokens.forEach(function(t) {\n            if (typeof t === \"string\") {\n                var lines = t.split(\"\\n\");\n                if (lines.length > 1){\n                    column = lines[lines.length - 1].length;\n                    row += lines.length - 1;\n                } else\n                    column += t.length;\n                text += t;\n            } else if (t) {\n                if (!t.start)\n                    t.start = {row: row, column: column};\n                else\n                    t.end = {row: row, column: column};\n            }\n        });\n        var range = editor.getSelectionRange();\n        var end = editor.session.replace(range, text);\n\n        var tabstopManager = new TabstopManager(editor);\n        var selectionId = editor.inVirtualSelectionMode && editor.selection.index;\n        tabstopManager.addTabstops(tabstops, range.start, end, selectionId);\n    };\n    \n    this.insertSnippet = function(editor, snippetText) {\n        var self = this;\n        if (editor.inVirtualSelectionMode)\n            return self.insertSnippetForSelection(editor, snippetText);\n        \n        editor.forEachSelection(function() {\n            self.insertSnippetForSelection(editor, snippetText);\n        }, null, {keepOrder: true});\n        \n        if (editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n    };\n\n    this.$getScope = function(editor) {\n        var scope = editor.session.$mode.$id || \"\";\n        scope = scope.split(\"/\").pop();\n        if (scope === \"html\" || scope === \"php\") {\n            if (scope === \"php\" && !editor.session.$mode.inlinePhp) \n                scope = \"html\";\n            var c = editor.getCursorPosition();\n            var state = editor.session.getState(c.row);\n            if (typeof state === \"object\") {\n                state = state[0];\n            }\n            if (state.substring) {\n                if (state.substring(0, 3) == \"js-\")\n                    scope = \"javascript\";\n                else if (state.substring(0, 4) == \"css-\")\n                    scope = \"css\";\n                else if (state.substring(0, 4) == \"php-\")\n                    scope = \"php\";\n            }\n        }\n        \n        return scope;\n    };\n\n    this.getActiveScopes = function(editor) {\n        var scope = this.$getScope(editor);\n        var scopes = [scope];\n        var snippetMap = this.snippetMap;\n        if (snippetMap[scope] && snippetMap[scope].includeScopes) {\n            scopes.push.apply(scopes, snippetMap[scope].includeScopes);\n        }\n        scopes.push(\"_\");\n        return scopes;\n    };\n\n    this.expandWithTab = function(editor, options) {\n        var self = this;\n        var result = editor.forEachSelection(function() {\n            return self.expandSnippetForSelection(editor, options);\n        }, null, {keepOrder: true});\n        if (result && editor.tabstopManager)\n            editor.tabstopManager.tabNext();\n        return result;\n    };\n    \n    this.expandSnippetForSelection = function(editor, options) {\n        var cursor = editor.getCursorPosition();\n        var line = editor.session.getLine(cursor.row);\n        var before = line.substring(0, cursor.column);\n        var after = line.substr(cursor.column);\n\n        var snippetMap = this.snippetMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function(scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = this.findMatchingSnippet(snippets, before, after);\n            return !!snippet;\n        }, this);\n        if (!snippet)\n            return false;\n        if (options && options.dryRun)\n            return true;\n        editor.session.doc.removeInLine(cursor.row,\n            cursor.column - snippet.replaceBefore.length,\n            cursor.column + snippet.replaceAfter.length\n        );\n\n        this.variables.M__ = snippet.matchBefore;\n        this.variables.T__ = snippet.matchAfter;\n        this.insertSnippetForSelection(editor, snippet.content);\n\n        this.variables.M__ = this.variables.T__ = null;\n        return true;\n    };\n\n    this.findMatchingSnippet = function(snippetList, before, after) {\n        for (var i = snippetList.length; i--;) {\n            var s = snippetList[i];\n            if (s.startRe && !s.startRe.test(before))\n                continue;\n            if (s.endRe && !s.endRe.test(after))\n                continue;\n            if (!s.startRe && !s.endRe)\n                continue;\n\n            s.matchBefore = s.startRe ? s.startRe.exec(before) : [\"\"];\n            s.matchAfter = s.endRe ? s.endRe.exec(after) : [\"\"];\n            s.replaceBefore = s.triggerRe ? s.triggerRe.exec(before)[0] : \"\";\n            s.replaceAfter = s.endTriggerRe ? s.endTriggerRe.exec(after)[0] : \"\";\n            return s;\n        }\n    };\n\n    this.snippetMap = {};\n    this.snippetNameMap = {};\n    this.register = function(snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n        var self = this;\n        \n        if (!snippets) \n            snippets = [];\n        \n        function wrapRegexp(src) {\n            if (src && !/^\\^?\\(.*\\)\\$?$|^\\\\b$/.test(src))\n                src = \"(?:\" + src + \")\";\n\n            return src || \"\";\n        }\n        function guardedRegexp(re, guard, opening) {\n            re = wrapRegexp(re);\n            guard = wrapRegexp(guard);\n            if (opening) {\n                re = guard + re;\n                if (re && re[re.length - 1] != \"$\")\n                    re = re + \"$\";\n            } else {\n                re = re + guard;\n                if (re && re[0] != \"^\")\n                    re = \"^\" + re;\n            }\n            return new RegExp(re);\n        }\n\n        function addSnippet(s) {\n            if (!s.scope)\n                s.scope = scope || \"_\";\n            scope = s.scope;\n            if (!snippetMap[scope]) {\n                snippetMap[scope] = [];\n                snippetNameMap[scope] = {};\n            }\n\n            var map = snippetNameMap[scope];\n            if (s.name) {\n                var old = map[s.name];\n                if (old)\n                    self.unregister(old);\n                map[s.name] = s;\n            }\n            snippetMap[scope].push(s);\n\n            if (s.prefix)\n                s.tabTrigger = s.prefix;\n\n            if (!s.content && s.body)\n                s.content = Array.isArray(s.body) ? s.body.join(\"\\n\") : s.body;\n\n            if (s.tabTrigger && !s.trigger) {\n                if (!s.guard && /^\\w/.test(s.tabTrigger))\n                    s.guard = \"\\\\b\";\n                s.trigger = lang.escapeRegExp(s.tabTrigger);\n            }\n            \n            if (!s.trigger && !s.guard && !s.endTrigger && !s.endGuard)\n                return;\n            \n            s.startRe = guardedRegexp(s.trigger, s.guard, true);\n            s.triggerRe = new RegExp(s.trigger);\n\n            s.endRe = guardedRegexp(s.endTrigger, s.endGuard, true);\n            s.endTriggerRe = new RegExp(s.endTrigger);\n        }\n\n        if (Array.isArray(snippets)) {\n            snippets.forEach(addSnippet);\n        } else {\n            Object.keys(snippets).forEach(function(key) {\n                addSnippet(snippets[key]);\n            });\n        }\n        \n        this._signal(\"registerSnippets\", {scope: scope});\n    };\n    this.unregister = function(snippets, scope) {\n        var snippetMap = this.snippetMap;\n        var snippetNameMap = this.snippetNameMap;\n\n        function removeSnippet(s) {\n            var nameMap = snippetNameMap[s.scope||scope];\n            if (nameMap && nameMap[s.name]) {\n                delete nameMap[s.name];\n                var map = snippetMap[s.scope||scope];\n                var i = map && map.indexOf(s);\n                if (i >= 0)\n                    map.splice(i, 1);\n            }\n        }\n        if (snippets.content)\n            removeSnippet(snippets);\n        else if (Array.isArray(snippets))\n            snippets.forEach(removeSnippet);\n    };\n    this.parseSnippetFile = function(str) {\n        str = str.replace(/\\r/g, \"\");\n        var list = [], snippet = {};\n        var re = /^#.*|^({[\\s\\S]*})\\s*$|^(\\S+) (.*)$|^((?:\\n*\\t.*)+)/gm;\n        var m;\n        while (m = re.exec(str)) {\n            if (m[1]) {\n                try {\n                    snippet = JSON.parse(m[1]);\n                    list.push(snippet);\n                } catch (e) {}\n            } if (m[4]) {\n                snippet.content = m[4].replace(/^\\t/gm, \"\");\n                list.push(snippet);\n                snippet = {};\n            } else {\n                var key = m[2], val = m[3];\n                if (key == \"regex\") {\n                    var guardRe = /\\/((?:[^\\/\\\\]|\\\\.)*)|$/g;\n                    snippet.guard = guardRe.exec(val)[1];\n                    snippet.trigger = guardRe.exec(val)[1];\n                    snippet.endTrigger = guardRe.exec(val)[1];\n                    snippet.endGuard = guardRe.exec(val)[1];\n                } else if (key == \"snippet\") {\n                    snippet.tabTrigger = val.match(/^\\S*/)[0];\n                    if (!snippet.name)\n                        snippet.name = val;\n                } else if (key) {\n                    snippet[key] = val;\n                }\n            }\n        }\n        return list;\n    };\n    this.getSnippetByName = function(name, editor) {\n        var snippetMap = this.snippetNameMap;\n        var snippet;\n        this.getActiveScopes(editor).some(function(scope) {\n            var snippets = snippetMap[scope];\n            if (snippets)\n                snippet = snippets[name];\n            return !!snippet;\n        }, this);\n        return snippet;\n    };\n\n}).call(SnippetManager.prototype);\n\n\nvar TabstopManager = function(editor) {\n    if (editor.tabstopManager)\n        return editor.tabstopManager;\n    editor.tabstopManager = this;\n    this.$onChange = this.onChange.bind(this);\n    this.$onChangeSelection = lang.delayedCall(this.onChangeSelection.bind(this)).schedule;\n    this.$onChangeSession = this.onChangeSession.bind(this);\n    this.$onAfterExec = this.onAfterExec.bind(this);\n    this.attach(editor);\n};\n(function() {\n    this.attach = function(editor) {\n        this.index = 0;\n        this.ranges = [];\n        this.tabstops = [];\n        this.$openTabstops = null;\n        this.selectedTabstop = null;\n\n        this.editor = editor;\n        this.editor.on(\"change\", this.$onChange);\n        this.editor.on(\"changeSelection\", this.$onChangeSelection);\n        this.editor.on(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.on(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n    };\n    this.detach = function() {\n        this.tabstops.forEach(this.removeTabstopMarkers, this);\n        this.ranges = null;\n        this.tabstops = null;\n        this.selectedTabstop = null;\n        this.editor.removeListener(\"change\", this.$onChange);\n        this.editor.removeListener(\"changeSelection\", this.$onChangeSelection);\n        this.editor.removeListener(\"changeSession\", this.$onChangeSession);\n        this.editor.commands.removeListener(\"afterExec\", this.$onAfterExec);\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.tabstopManager = null;\n        this.editor = null;\n    };\n\n    this.onChange = function(delta) {\n        var isRemove = delta.action[0] == \"r\";\n        var selectedTabstop = this.selectedTabstop || {};\n        var parents = selectedTabstop.parents || {};\n        var tabstops = (this.tabstops || []).slice();\n        for (var i = 0; i < tabstops.length; i++) {\n            var ts = tabstops[i];\n            var active = ts == selectedTabstop || parents[ts.index];\n            ts.rangeList.$bias = active ? 0 : 1;\n            \n            if (delta.action == \"remove\" && ts !== selectedTabstop) {\n                var parentActive = ts.parents && ts.parents[selectedTabstop.index];\n                var startIndex = ts.rangeList.pointIndex(delta.start, parentActive);\n                startIndex = startIndex < 0 ? -startIndex - 1 : startIndex + 1;\n                var endIndex = ts.rangeList.pointIndex(delta.end, parentActive);\n                endIndex = endIndex < 0 ? -endIndex - 1 : endIndex - 1;\n                var toRemove = ts.rangeList.ranges.slice(startIndex, endIndex);\n                for (var j = 0; j < toRemove.length; j++)\n                    this.removeRange(toRemove[j]);\n            }\n            ts.rangeList.$onChange(delta);\n        }\n        var session = this.editor.session;\n        if (!this.$inChange && isRemove && session.getLength() == 1 && !session.getValue())\n            this.detach();\n    };\n    this.updateLinkedFields = function() {\n        var ts = this.selectedTabstop;\n        if (!ts || !ts.hasLinkedRanges || !ts.firstNonLinked)\n            return;\n        this.$inChange = true;\n        var session = this.editor.session;\n        var text = session.getTextRange(ts.firstNonLinked);\n        for (var i = 0; i < ts.length; i++) {\n            var range = ts[i];\n            if (!range.linked)\n                continue;\n            var original = range.original;\n            var fmt = exports.snippetManager.tmStrFormat(text, original, this.editor);\n            session.replace(range, fmt);\n        }\n        this.$inChange = false;\n    };\n    this.onAfterExec = function(e) {\n        if (e.command && !e.command.readOnly)\n            this.updateLinkedFields();\n    };\n    this.onChangeSelection = function() {\n        if (!this.editor)\n            return;\n        var lead = this.editor.selection.lead;\n        var anchor = this.editor.selection.anchor;\n        var isEmpty = this.editor.selection.isEmpty();\n        for (var i = 0; i < this.ranges.length; i++) {\n            if (this.ranges[i].linked)\n                continue;\n            var containsLead = this.ranges[i].contains(lead.row, lead.column);\n            var containsAnchor = isEmpty || this.ranges[i].contains(anchor.row, anchor.column);\n            if (containsLead && containsAnchor)\n                return;\n        }\n        this.detach();\n    };\n    this.onChangeSession = function() {\n        this.detach();\n    };\n    this.tabNext = function(dir) {\n        var max = this.tabstops.length;\n        var index = this.index + (dir || 1);\n        index = Math.min(Math.max(index, 1), max);\n        if (index == max)\n            index = 0;\n        this.selectTabstop(index);\n        if (index === 0)\n            this.detach();\n    };\n    this.selectTabstop = function(index) {\n        this.$openTabstops = null;\n        var ts = this.tabstops[this.index];\n        if (ts)\n            this.addTabstopMarkers(ts);\n        this.index = index;\n        ts = this.tabstops[this.index];\n        if (!ts || !ts.length)\n            return;\n        \n        this.selectedTabstop = ts;\n        var range = ts.firstNonLinked || ts;\n        if (ts.choices) range.cursor = range.start;\n        if (!this.editor.inVirtualSelectionMode) {\n            var sel = this.editor.multiSelect;\n            sel.toSingleRange(range);\n            for (var i = 0; i < ts.length; i++) {\n                if (ts.hasLinkedRanges && ts[i].linked)\n                    continue;\n                sel.addRange(ts[i].clone(), true);\n            }\n        } else {\n            this.editor.selection.fromOrientedRange(range);\n        }\n        \n        this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        if (this.selectedTabstop && this.selectedTabstop.choices)\n            this.editor.execCommand(\"startAutocomplete\", {matches: this.selectedTabstop.choices});\n    };\n    this.addTabstops = function(tabstops, start, end) {\n        var useLink = this.useLink || !this.editor.getOption(\"enableMultiselect\");\n        \n        if (!this.$openTabstops)\n            this.$openTabstops = [];\n        if (!tabstops[0]) {\n            var p = Range.fromPoints(end, end);\n            moveRelative(p.start, start);\n            moveRelative(p.end, start);\n            tabstops[0] = [p];\n            tabstops[0].index = 0;\n        }\n\n        var i = this.index;\n        var arg = [i + 1, 0];\n        var ranges = this.ranges;\n        tabstops.forEach(function(ts, index) {\n            var dest = this.$openTabstops[index] || ts;\n            \n            for (var i = 0; i < ts.length; i++) {\n                var p = ts[i];\n                var range = Range.fromPoints(p.start, p.end || p.start);\n                movePoint(range.start, start);\n                movePoint(range.end, start);\n                range.original = p;\n                range.tabstop = dest;\n                ranges.push(range);\n                if (dest != ts)\n                    dest.unshift(range);\n                else\n                    dest[i] = range;\n                if (p.fmtString || (dest.firstNonLinked && useLink)) {\n                    range.linked = true;\n                    dest.hasLinkedRanges = true;\n                } else if (!dest.firstNonLinked)\n                    dest.firstNonLinked = range;\n            }\n            if (!dest.firstNonLinked)\n                dest.hasLinkedRanges = false;\n            if (dest === ts) {\n                arg.push(dest);\n                this.$openTabstops[index] = dest;\n            }\n            this.addTabstopMarkers(dest);\n            dest.rangeList = dest.rangeList || new RangeList();\n            dest.rangeList.$bias = 0;\n            dest.rangeList.addList(dest);\n        }, this);\n        \n        if (arg.length > 2) {\n            if (this.tabstops.length)\n                arg.push(arg.splice(2, 1)[0]);\n            this.tabstops.splice.apply(this.tabstops, arg);\n        }\n    };\n\n    this.addTabstopMarkers = function(ts) {\n        var session = this.editor.session;\n        ts.forEach(function(range) {\n            if  (!range.markerId)\n                range.markerId = session.addMarker(range, \"ace_snippet-marker\", \"text\");\n        });\n    };\n    this.removeTabstopMarkers = function(ts) {\n        var session = this.editor.session;\n        ts.forEach(function(range) {\n            session.removeMarker(range.markerId);\n            range.markerId = null;\n        });\n    };\n    this.removeRange = function(range) {\n        var i = range.tabstop.indexOf(range);\n        if (i != -1) range.tabstop.splice(i, 1);\n        i = this.ranges.indexOf(range);\n        if (i != -1) this.ranges.splice(i, 1);\n        i = range.tabstop.rangeList.ranges.indexOf(range);\n        if (i != -1) range.tabstop.splice(i, 1);\n        this.editor.session.removeMarker(range.markerId);\n        if (!range.tabstop.length) {\n            i = this.tabstops.indexOf(range.tabstop);\n            if (i != -1)\n                this.tabstops.splice(i, 1);\n            if (!this.tabstops.length)\n                this.detach();\n        }\n    };\n\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys({\n        \"Tab\": function(editor) {\n            if (exports.snippetManager && exports.snippetManager.expandWithTab(editor))\n                return;\n            editor.tabstopManager.tabNext(1);\n            editor.renderer.scrollCursorIntoView();\n        },\n        \"Shift-Tab\": function(editor) {\n            editor.tabstopManager.tabNext(-1);\n            editor.renderer.scrollCursorIntoView();\n        },\n        \"Esc\": function(editor) {\n            editor.tabstopManager.detach();\n        }\n    });\n}).call(TabstopManager.prototype);\n\n\n\nvar movePoint = function(point, diff) {\n    if (point.row == 0)\n        point.column += diff.column;\n    point.row += diff.row;\n};\n\nvar moveRelative = function(point, start) {\n    if (point.row == start.row)\n        point.column -= start.column;\n    point.row -= start.row;\n};\n\n\nrequire(\"./lib/dom\").importCssString(\"\\\n.ace_snippet-marker {\\\n    -moz-box-sizing: border-box;\\\n    box-sizing: border-box;\\\n    background: rgba(194, 193, 208, 0.09);\\\n    border: 1px dotted rgba(211, 208, 235, 0.62);\\\n    position: absolute;\\\n}\");\n\nexports.snippetManager = new SnippetManager();\n\n\nvar Editor = require(\"./editor\").Editor;\n(function() {\n    this.insertSnippet = function(content, options) {\n        return exports.snippetManager.insertSnippet(this, content, options);\n    };\n    this.expandSnippet = function(options) {\n        return exports.snippetManager.expandWithTab(this, options);\n    };\n}).call(Editor.prototype);\n\n});\n\nace.define(\"ace/autocomplete/popup\",[\"require\",\"exports\",\"module\",\"ace/virtual_renderer\",\"ace/editor\",\"ace/range\",\"ace/lib/event\",\"ace/lib/lang\",\"ace/lib/dom\"], function(require, exports, module) {\n\"use strict\";\n\nvar Renderer = require(\"../virtual_renderer\").VirtualRenderer;\nvar Editor = require(\"../editor\").Editor;\nvar Range = require(\"../range\").Range;\nvar event = require(\"../lib/event\");\nvar lang = require(\"../lib/lang\");\nvar dom = require(\"../lib/dom\");\n\nvar $singleLineEditor = function(el) {\n    var renderer = new Renderer(el);\n\n    renderer.$maxLines = 4;\n\n    var editor = new Editor(renderer);\n\n    editor.setHighlightActiveLine(false);\n    editor.setShowPrintMargin(false);\n    editor.renderer.setShowGutter(false);\n    editor.renderer.setHighlightGutterLine(false);\n\n    editor.$mouseHandler.$focusTimeout = 0;\n    editor.$highlightTagPending = true;\n\n    return editor;\n};\n\nvar AcePopup = function(parentNode) {\n    var el = dom.createElement(\"div\");\n    var popup = new $singleLineEditor(el);\n\n    if (parentNode)\n        parentNode.appendChild(el);\n    el.style.display = \"none\";\n    popup.renderer.content.style.cursor = \"default\";\n    popup.renderer.setStyle(\"ace_autocomplete\");\n\n    popup.setOption(\"displayIndentGuides\", false);\n    popup.setOption(\"dragDelay\", 150);\n\n    var noop = function(){};\n\n    popup.focus = noop;\n    popup.$isFocused = true;\n\n    popup.renderer.$cursorLayer.restartTimer = noop;\n    popup.renderer.$cursorLayer.element.style.opacity = 0;\n\n    popup.renderer.$maxLines = 8;\n    popup.renderer.$keepTextAreaAtCursor = false;\n\n    popup.setHighlightActiveLine(false);\n    popup.session.highlight(\"\");\n    popup.session.$searchHighlight.clazz = \"ace_highlight-marker\";\n\n    popup.on(\"mousedown\", function(e) {\n        var pos = e.getDocumentPosition();\n        popup.selection.moveToPosition(pos);\n        selectionMarker.start.row = selectionMarker.end.row = pos.row;\n        e.stop();\n    });\n\n    var lastMouseEvent;\n    var hoverMarker = new Range(-1,0,-1,Infinity);\n    var selectionMarker = new Range(-1,0,-1,Infinity);\n    selectionMarker.id = popup.session.addMarker(selectionMarker, \"ace_active-line\", \"fullLine\");\n    popup.setSelectOnHover = function(val) {\n        if (!val) {\n            hoverMarker.id = popup.session.addMarker(hoverMarker, \"ace_line-hover\", \"fullLine\");\n        } else if (hoverMarker.id) {\n            popup.session.removeMarker(hoverMarker.id);\n            hoverMarker.id = null;\n        }\n    };\n    popup.setSelectOnHover(false);\n    popup.on(\"mousemove\", function(e) {\n        if (!lastMouseEvent) {\n            lastMouseEvent = e;\n            return;\n        }\n        if (lastMouseEvent.x == e.x && lastMouseEvent.y == e.y) {\n            return;\n        }\n        lastMouseEvent = e;\n        lastMouseEvent.scrollTop = popup.renderer.scrollTop;\n        var row = lastMouseEvent.getDocumentPosition().row;\n        if (hoverMarker.start.row != row) {\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row);\n        }\n    });\n    popup.renderer.on(\"beforeRender\", function() {\n        if (lastMouseEvent && hoverMarker.start.row != -1) {\n            lastMouseEvent.$pos = null;\n            var row = lastMouseEvent.getDocumentPosition().row;\n            if (!hoverMarker.id)\n                popup.setRow(row);\n            setHoverMarker(row, true);\n        }\n    });\n    popup.renderer.on(\"afterRender\", function() {\n        var row = popup.getRow();\n        var t = popup.renderer.$textLayer;\n        var selected = t.element.childNodes[row - t.config.firstRow];\n        if (selected !== t.selectedNode && t.selectedNode)\n            dom.removeCssClass(t.selectedNode, \"ace_selected\");\n        t.selectedNode = selected;\n        if (selected)\n            dom.addCssClass(selected, \"ace_selected\");\n    });\n    var hideHoverMarker = function() { setHoverMarker(-1); };\n    var setHoverMarker = function(row, suppressRedraw) {\n        if (row !== hoverMarker.start.row) {\n            hoverMarker.start.row = hoverMarker.end.row = row;\n            if (!suppressRedraw)\n                popup.session._emit(\"changeBackMarker\");\n            popup._emit(\"changeHoverMarker\");\n        }\n    };\n    popup.getHoveredRow = function() {\n        return hoverMarker.start.row;\n    };\n\n    event.addListener(popup.container, \"mouseout\", hideHoverMarker);\n    popup.on(\"hide\", hideHoverMarker);\n    popup.on(\"changeSelection\", hideHoverMarker);\n\n    popup.session.doc.getLength = function() {\n        return popup.data.length;\n    };\n    popup.session.doc.getLine = function(i) {\n        var data = popup.data[i];\n        if (typeof data == \"string\")\n            return data;\n        return (data && data.value) || \"\";\n    };\n\n    var bgTokenizer = popup.session.bgTokenizer;\n    bgTokenizer.$tokenizeRow = function(row) {\n        var data = popup.data[row];\n        var tokens = [];\n        if (!data)\n            return tokens;\n        if (typeof data == \"string\")\n            data = {value: data};\n        var caption = data.caption || data.value || data.name;\n\n        function addToken(value, className) {\n            value && tokens.push({\n                type: (data.className || \"\") + (className || \"\"), \n                value: value\n            });\n        }\n        \n        var lower = caption.toLowerCase();\n        var filterText = (popup.filterText || \"\").toLowerCase();\n        var lastIndex = 0;\n        var lastI = 0;\n        for (var i = 0; i <= filterText.length; i++) {\n            if (i != lastI && (data.matchMask & (1 << i) || i == filterText.length)) {\n                var sub = filterText.slice(lastI, i);\n                lastI = i;\n                var index = lower.indexOf(sub, lastIndex);\n                if (index == -1) continue;\n                addToken(caption.slice(lastIndex, index), \"\");\n                lastIndex = index + sub.length;\n                addToken(caption.slice(index, lastIndex), \"completion-highlight\");\n            }\n        }\n        addToken(caption.slice(lastIndex, caption.length), \"\");\n        \n        if (data.meta)\n            tokens.push({type: \"completion-meta\", value: data.meta});\n        if (data.message)\n            tokens.push({type: \"completion-message\", value: data.message});\n\n        return tokens;\n    };\n    bgTokenizer.$updateOnChange = noop;\n    bgTokenizer.start = noop;\n\n    popup.session.$computeWidth = function() {\n        return this.screenWidth = 0;\n    };\n    popup.isOpen = false;\n    popup.isTopdown = false;\n    popup.autoSelect = true;\n    popup.filterText = \"\";\n\n    popup.data = [];\n    popup.setData = function(list, filterText) {\n        popup.filterText = filterText || \"\";\n        popup.setValue(lang.stringRepeat(\"\\n\", list.length), -1);\n        popup.data = list || [];\n        popup.setRow(0);\n    };\n    popup.getData = function(row) {\n        return popup.data[row];\n    };\n\n    popup.getRow = function() {\n        return selectionMarker.start.row;\n    };\n    popup.setRow = function(line) {\n        line = Math.max(this.autoSelect ? 0 : -1, Math.min(this.data.length, line));\n        if (selectionMarker.start.row != line) {\n            popup.selection.clearSelection();\n            selectionMarker.start.row = selectionMarker.end.row = line || 0;\n            popup.session._emit(\"changeBackMarker\");\n            popup.moveCursorTo(line || 0, 0);\n            if (popup.isOpen)\n                popup._signal(\"select\");\n        }\n    };\n\n    popup.on(\"changeSelection\", function() {\n        if (popup.isOpen)\n            popup.setRow(popup.selection.lead.row);\n        popup.renderer.scrollCursorIntoView();\n    });\n\n    popup.hide = function() {\n        this.container.style.display = \"none\";\n        this._signal(\"hide\");\n        popup.isOpen = false;\n    };\n    popup.show = function(pos, lineHeight, topdownOnly) {\n        var el = this.container;\n        var screenHeight = window.innerHeight;\n        var screenWidth = window.innerWidth;\n        var renderer = this.renderer;\n        var maxH = renderer.$maxLines * lineHeight * 1.4;\n        var top = pos.top + this.$borderSize;\n        var allowTopdown = top > screenHeight / 2 && !topdownOnly;\n        if (allowTopdown && top + lineHeight + maxH > screenHeight) {\n            renderer.$maxPixelHeight = top - 2 * this.$borderSize;\n            el.style.top = \"\";\n            el.style.bottom = screenHeight - top + \"px\";\n            popup.isTopdown = false;\n        } else {\n            top += lineHeight;\n            renderer.$maxPixelHeight = screenHeight - top - 0.2 * lineHeight;\n            el.style.top = top + \"px\";\n            el.style.bottom = \"\";\n            popup.isTopdown = true;\n        }\n\n        el.style.display = \"\";\n\n        var left = pos.left;\n        if (left + el.offsetWidth > screenWidth)\n            left = screenWidth - el.offsetWidth;\n\n        el.style.left = left + \"px\";\n\n        this._signal(\"show\");\n        lastMouseEvent = null;\n        popup.isOpen = true;\n    };\n\n    popup.goTo = function(where) {\n        var row = this.getRow();\n        var max = this.session.getLength() - 1;\n\n        switch(where) {\n            case \"up\": row = row <= 0 ? max : row - 1; break;\n            case \"down\": row = row >= max ? -1 : row + 1; break;\n            case \"start\": row = 0; break;\n            case \"end\": row = max; break;\n        }\n\n        this.setRow(row);\n    };\n\n\n    popup.getTextLeftOffset = function() {\n        return this.$borderSize + this.renderer.$padding + this.$imageSize;\n    };\n\n    popup.$imageSize = 0;\n    popup.$borderSize = 1;\n\n    return popup;\n};\n\ndom.importCssString(\"\\\n.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\\n    background-color: #CAD6FA;\\\n    z-index: 1;\\\n}\\\n.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {\\\n    background-color: #3a674e;\\\n}\\\n.ace_editor.ace_autocomplete .ace_line-hover {\\\n    border: 1px solid #abbffe;\\\n    margin-top: -1px;\\\n    background: rgba(233,233,253,0.4);\\\n    position: absolute;\\\n    z-index: 2;\\\n}\\\n.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {\\\n    border: 1px solid rgba(109, 150, 13, 0.8);\\\n    background: rgba(58, 103, 78, 0.62);\\\n}\\\n.ace_completion-meta {\\\n    opacity: 0.5;\\\n    margin: 0.9em;\\\n}\\\n.ace_completion-message {\\\n    color: blue;\\\n}\\\n.ace_editor.ace_autocomplete .ace_completion-highlight{\\\n    color: #2d69c7;\\\n}\\\n.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{\\\n    color: #93ca12;\\\n}\\\n.ace_editor.ace_autocomplete {\\\n    width: 300px;\\\n    z-index: 200000;\\\n    border: 1px lightgray solid;\\\n    position: fixed;\\\n    box-shadow: 2px 3px 5px rgba(0,0,0,.2);\\\n    line-height: 1.4;\\\n    background: #fefefe;\\\n    color: #111;\\\n}\\\n.ace_dark.ace_editor.ace_autocomplete {\\\n    border: 1px #484747 solid;\\\n    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);\\\n    line-height: 1.4;\\\n    background: #25282c;\\\n    color: #c1c1c1;\\\n}\", \"autocompletion.css\");\n\nexports.AcePopup = AcePopup;\nexports.$singleLineEditor = $singleLineEditor;\n});\n\nace.define(\"ace/autocomplete/util\",[\"require\",\"exports\",\"module\"], function(require, exports, module) {\n\"use strict\";\n\nexports.parForEach = function(array, fn, callback) {\n    var completed = 0;\n    var arLength = array.length;\n    if (arLength === 0)\n        callback();\n    for (var i = 0; i < arLength; i++) {\n        fn(array[i], function(result, err) {\n            completed++;\n            if (completed === arLength)\n                callback(result, err);\n        });\n    }\n};\n\nvar ID_REGEX = /[a-zA-Z_0-9\\$\\-\\u00A2-\\u2000\\u2070-\\uFFFF]/;\n\nexports.retrievePrecedingIdentifier = function(text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos-1; i >= 0; i--) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf.reverse().join(\"\");\n};\n\nexports.retrieveFollowingIdentifier = function(text, pos, regex) {\n    regex = regex || ID_REGEX;\n    var buf = [];\n    for (var i = pos; i < text.length; i++) {\n        if (regex.test(text[i]))\n            buf.push(text[i]);\n        else\n            break;\n    }\n    return buf;\n};\n\nexports.getCompletionPrefix = function (editor) {\n    var pos = editor.getCursorPosition();\n    var line = editor.session.getLine(pos.row);\n    var prefix;\n    editor.completers.forEach(function(completer) {\n        if (completer.identifierRegexps) {\n            completer.identifierRegexps.forEach(function(identifierRegex) {\n                if (!prefix && identifierRegex)\n                    prefix = this.retrievePrecedingIdentifier(line, pos.column, identifierRegex);\n            }.bind(this));\n        }\n    }.bind(this));\n    return prefix || this.retrievePrecedingIdentifier(line, pos.column);\n};\n\n});\n\nace.define(\"ace/autocomplete\",[\"require\",\"exports\",\"module\",\"ace/keyboard/hash_handler\",\"ace/autocomplete/popup\",\"ace/autocomplete/util\",\"ace/lib/lang\",\"ace/lib/dom\",\"ace/snippets\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar HashHandler = require(\"./keyboard/hash_handler\").HashHandler;\nvar AcePopup = require(\"./autocomplete/popup\").AcePopup;\nvar util = require(\"./autocomplete/util\");\nvar lang = require(\"./lib/lang\");\nvar dom = require(\"./lib/dom\");\nvar snippetManager = require(\"./snippets\").snippetManager;\nvar config = require(\"./config\");\n\nvar Autocomplete = function() {\n    this.autoInsert = false;\n    this.autoSelect = true;\n    this.exactMatch = false;\n    this.gatherCompletionsId = 0;\n    this.keyboardHandler = new HashHandler();\n    this.keyboardHandler.bindKeys(this.commands);\n\n    this.blurListener = this.blurListener.bind(this);\n    this.changeListener = this.changeListener.bind(this);\n    this.mousedownListener = this.mousedownListener.bind(this);\n    this.mousewheelListener = this.mousewheelListener.bind(this);\n\n    this.changeTimer = lang.delayedCall(function() {\n        this.updateCompletions(true);\n    }.bind(this));\n\n    this.tooltipTimer = lang.delayedCall(this.updateDocTooltip.bind(this), 50);\n};\n\n(function() {\n\n    this.$init = function() {\n        this.popup = new AcePopup(document.body || document.documentElement);\n        this.popup.on(\"click\", function(e) {\n            this.insertMatch();\n            e.stop();\n        }.bind(this));\n        this.popup.focus = this.editor.focus.bind(this.editor);\n        this.popup.on(\"show\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"select\", this.tooltipTimer.bind(null, null));\n        this.popup.on(\"changeHoverMarker\", this.tooltipTimer.bind(null, null));\n        return this.popup;\n    };\n\n    this.getPopup = function() {\n        return this.popup || this.$init();\n    };\n\n    this.openPopup = function(editor, prefix, keepPopupPosition) {\n        if (!this.popup)\n            this.$init();\n\n        this.popup.autoSelect = this.autoSelect;\n\n        this.popup.setData(this.completions.filtered, this.completions.filterText);\n\n        editor.keyBinding.addKeyboardHandler(this.keyboardHandler);\n        \n        var renderer = editor.renderer;\n        this.popup.setRow(this.autoSelect ? 0 : -1);\n        if (!keepPopupPosition) {\n            this.popup.setTheme(editor.getTheme());\n            this.popup.setFontSize(editor.getFontSize());\n\n            var lineHeight = renderer.layerConfig.lineHeight;\n\n            var pos = renderer.$cursorLayer.getPixelPosition(this.base, true);\n            pos.left -= this.popup.getTextLeftOffset();\n\n            var rect = editor.container.getBoundingClientRect();\n            pos.top += rect.top - renderer.layerConfig.offset;\n            pos.left += rect.left - editor.renderer.scrollLeft;\n            pos.left += renderer.gutterWidth;\n\n            this.popup.show(pos, lineHeight);\n        } else if (keepPopupPosition && !prefix) {\n            this.detach();\n        }\n        this.changeTimer.cancel();\n    };\n\n    this.detach = function() {\n        this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler);\n        this.editor.off(\"changeSelection\", this.changeListener);\n        this.editor.off(\"blur\", this.blurListener);\n        this.editor.off(\"mousedown\", this.mousedownListener);\n        this.editor.off(\"mousewheel\", this.mousewheelListener);\n        this.changeTimer.cancel();\n        this.hideDocTooltip();\n\n        this.gatherCompletionsId += 1;\n        if (this.popup && this.popup.isOpen)\n            this.popup.hide();\n\n        if (this.base)\n            this.base.detach();\n        this.activated = false;\n        this.completions = this.base = null;\n    };\n\n    this.changeListener = function(e) {\n        var cursor = this.editor.selection.lead;\n        if (cursor.row != this.base.row || cursor.column < this.base.column) {\n            this.detach();\n        }\n        if (this.activated)\n            this.changeTimer.schedule();\n        else\n            this.detach();\n    };\n\n    this.blurListener = function(e) {\n        var el = document.activeElement;\n        var text = this.editor.textInput.getElement();\n        var fromTooltip = e.relatedTarget && this.tooltipNode && this.tooltipNode.contains(e.relatedTarget);\n        var container = this.popup && this.popup.container;\n        if (el != text && el.parentNode != container && !fromTooltip\n            && el != this.tooltipNode && e.relatedTarget != text\n        ) {\n            this.detach();\n        }\n    };\n\n    this.mousedownListener = function(e) {\n        this.detach();\n    };\n\n    this.mousewheelListener = function(e) {\n        this.detach();\n    };\n\n    this.goTo = function(where) {\n        this.popup.goTo(where);\n    };\n\n    this.insertMatch = function(data, options) {\n        if (!data)\n            data = this.popup.getData(this.popup.getRow());\n        if (!data)\n            return false;\n\n        var completions = this.completions;\n        this.editor.startOperation({command: {name: \"insertMatch\"}});\n        if (data.completer && data.completer.insertMatch) {\n            data.completer.insertMatch(this.editor, data);\n        } else {\n            if (completions.filterText) {\n                var ranges = this.editor.selection.getAllRanges();\n                for (var i = 0, range; range = ranges[i]; i++) {\n                    range.start.column -= completions.filterText.length;\n                    this.editor.session.remove(range);\n                }\n            }\n            if (data.snippet)\n                snippetManager.insertSnippet(this.editor, data.snippet);\n            else\n                this.editor.execCommand(\"insertstring\", data.value || data);\n        }\n        if (this.completions == completions)\n            this.detach();\n        this.editor.endOperation();\n    };\n\n\n    this.commands = {\n        \"Up\": function(editor) { editor.completer.goTo(\"up\"); },\n        \"Down\": function(editor) { editor.completer.goTo(\"down\"); },\n        \"Ctrl-Up|Ctrl-Home\": function(editor) { editor.completer.goTo(\"start\"); },\n        \"Ctrl-Down|Ctrl-End\": function(editor) { editor.completer.goTo(\"end\"); },\n\n        \"Esc\": function(editor) { editor.completer.detach(); },\n        \"Return\": function(editor) { return editor.completer.insertMatch(); },\n        \"Shift-Return\": function(editor) { editor.completer.insertMatch(null, {deleteSuffix: true}); },\n        \"Tab\": function(editor) {\n            var result = editor.completer.insertMatch();\n            if (!result && !editor.tabstopManager)\n                editor.completer.goTo(\"down\");\n            else\n                return result;\n        },\n\n        \"PageUp\": function(editor) { editor.completer.popup.gotoPageUp(); },\n        \"PageDown\": function(editor) { editor.completer.popup.gotoPageDown(); }\n    };\n\n    this.gatherCompletions = function(editor, callback) {\n        var session = editor.getSession();\n        var pos = editor.getCursorPosition();\n\n        var prefix = util.getCompletionPrefix(editor);\n\n        this.base = session.doc.createAnchor(pos.row, pos.column - prefix.length);\n        this.base.$insertRight = true;\n\n        var matches = [];\n        var total = editor.completers.length;\n        editor.completers.forEach(function(completer, i) {\n            completer.getCompletions(editor, session, pos, prefix, function(err, results) {\n                if (!err && results)\n                    matches = matches.concat(results);\n                callback(null, {\n                    prefix: util.getCompletionPrefix(editor),\n                    matches: matches,\n                    finished: (--total === 0)\n                });\n            });\n        });\n        return true;\n    };\n\n    this.showPopup = function(editor, options) {\n        if (this.editor)\n            this.detach();\n\n        this.activated = true;\n\n        this.editor = editor;\n        if (editor.completer != this) {\n            if (editor.completer)\n                editor.completer.detach();\n            editor.completer = this;\n        }\n\n        editor.on(\"changeSelection\", this.changeListener);\n        editor.on(\"blur\", this.blurListener);\n        editor.on(\"mousedown\", this.mousedownListener);\n        editor.on(\"mousewheel\", this.mousewheelListener);\n\n        this.updateCompletions(false, options);\n    };\n\n    this.updateCompletions = function(keepPopupPosition, options) {\n        if (keepPopupPosition && this.base && this.completions) {\n            var pos = this.editor.getCursorPosition();\n            var prefix = this.editor.session.getTextRange({start: this.base, end: pos});\n            if (prefix == this.completions.filterText)\n                return;\n            this.completions.setFilter(prefix);\n            if (!this.completions.filtered.length)\n                return this.detach();\n            if (this.completions.filtered.length == 1\n            && this.completions.filtered[0].value == prefix\n            && !this.completions.filtered[0].snippet)\n                return this.detach();\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n            return;\n        }\n        \n        if (options && options.matches) {\n            var pos = this.editor.getSelectionRange().start;\n            this.base = this.editor.session.doc.createAnchor(pos.row, pos.column);\n            this.base.$insertRight = true;\n            this.completions = new FilteredList(options.matches);\n            return this.openPopup(this.editor, \"\", keepPopupPosition);\n        }\n        var _id = this.gatherCompletionsId;\n        this.gatherCompletions(this.editor, function(err, results) {\n            var detachIfFinished = function() {\n                if (!results.finished) return;\n                return this.detach();\n            }.bind(this);\n\n            var prefix = results.prefix;\n            var matches = results && results.matches;\n\n            if (!matches || !matches.length)\n                return detachIfFinished();\n            if (prefix.indexOf(results.prefix) !== 0 || _id != this.gatherCompletionsId)\n                return;\n\n            this.completions = new FilteredList(matches);\n\n            if (this.exactMatch)\n                this.completions.exactMatch = true;\n\n            this.completions.setFilter(prefix);\n            var filtered = this.completions.filtered;\n            if (!filtered.length)\n                return detachIfFinished();\n            if (filtered.length == 1 && filtered[0].value == prefix && !filtered[0].snippet)\n                return detachIfFinished();\n            if (this.autoInsert && filtered.length == 1 && results.finished)\n                return this.insertMatch(filtered[0]);\n\n            this.openPopup(this.editor, prefix, keepPopupPosition);\n        }.bind(this));\n    };\n\n    this.cancelContextMenu = function() {\n        this.editor.$mouseHandler.cancelContextMenu();\n    };\n\n    this.updateDocTooltip = function() {\n        var popup = this.popup;\n        var all = popup.data;\n        var selected = all && (all[popup.getHoveredRow()] || all[popup.getRow()]);\n        var doc = null;\n        if (!selected || !this.editor || !this.popup.isOpen)\n            return this.hideDocTooltip();\n        this.editor.completers.some(function(completer) {\n            if (completer.getDocTooltip)\n                doc = completer.getDocTooltip(selected);\n            return doc;\n        });\n        if (!doc && typeof selected != \"string\")\n            doc = selected;\n\n        if (typeof doc == \"string\")\n            doc = {docText: doc};\n        if (!doc || !(doc.docHTML || doc.docText))\n            return this.hideDocTooltip();\n        this.showDocTooltip(doc);\n    };\n\n    this.showDocTooltip = function(item) {\n        if (!this.tooltipNode) {\n            this.tooltipNode = dom.createElement(\"div\");\n            this.tooltipNode.className = \"ace_tooltip ace_doc-tooltip\";\n            this.tooltipNode.style.margin = 0;\n            this.tooltipNode.style.pointerEvents = \"auto\";\n            this.tooltipNode.tabIndex = -1;\n            this.tooltipNode.onblur = this.blurListener.bind(this);\n            this.tooltipNode.onclick = this.onTooltipClick.bind(this);\n        }\n\n        var tooltipNode = this.tooltipNode;\n        if (item.docHTML) {\n            tooltipNode.innerHTML = item.docHTML;\n        } else if (item.docText) {\n            tooltipNode.textContent = item.docText;\n        }\n\n        if (!tooltipNode.parentNode)\n            document.body.appendChild(tooltipNode);\n        var popup = this.popup;\n        var rect = popup.container.getBoundingClientRect();\n        tooltipNode.style.top = popup.container.style.top;\n        tooltipNode.style.bottom = popup.container.style.bottom;\n\n        tooltipNode.style.display = \"block\";\n        if (window.innerWidth - rect.right < 320) {\n            if (rect.left < 320) {\n                if(popup.isTopdown) {\n                    tooltipNode.style.top = rect.bottom + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                } else {\n                    tooltipNode.style.top = popup.container.offsetTop - tooltipNode.offsetHeight + \"px\";\n                    tooltipNode.style.left = rect.left + \"px\";\n                    tooltipNode.style.right = \"\";\n                    tooltipNode.style.bottom = \"\";\n                }\n            } else {\n                tooltipNode.style.right = window.innerWidth - rect.left + \"px\";\n                tooltipNode.style.left = \"\";\n            }\n        } else {\n            tooltipNode.style.left = (rect.right + 1) + \"px\";\n            tooltipNode.style.right = \"\";\n        }\n    };\n\n    this.hideDocTooltip = function() {\n        this.tooltipTimer.cancel();\n        if (!this.tooltipNode) return;\n        var el = this.tooltipNode;\n        if (!this.editor.isFocused() && document.activeElement == el)\n            this.editor.focus();\n        this.tooltipNode = null;\n        if (el.parentNode)\n            el.parentNode.removeChild(el);\n    };\n    \n    this.onTooltipClick = function(e) {\n        var a = e.target;\n        while (a && a != this.tooltipNode) {\n            if (a.nodeName == \"A\" && a.href) {\n                a.rel = \"noreferrer\";\n                a.target = \"_blank\";\n                break;\n            }\n            a = a.parentNode;\n        }\n    };\n\n    this.destroy = function() {\n        this.detach();\n        if (this.popup) {\n            this.popup.destroy();\n            var el = this.popup.container;\n            if (el && el.parentNode)\n                el.parentNode.removeChild(el);\n        }\n        if (this.editor && this.editor.completer == this)\n            this.editor.completer == null;\n        this.popup = null;\n    };\n\n}).call(Autocomplete.prototype);\n\n\nAutocomplete.for = function(editor) {\n    if (editor.completer) {\n        return editor.completer;\n    }\n    if (config.get(\"sharedPopups\")) {\n        if (!Autocomplete.$shared)\n            Autocomplete.$sharedInstance = new Autocomplete();\n        editor.completer = Autocomplete.$sharedInstance;\n    } else {\n        editor.completer = new Autocomplete();\n        editor.once(\"destroy\", function(e, editor) {\n            editor.completer.destroy();\n        });\n    }\n    return editor.completer;\n};\n\nAutocomplete.startCommand = {\n    name: \"startAutocomplete\",\n    exec: function(editor, options) {\n        var completer = Autocomplete.for(editor);\n        completer.autoInsert = false;\n        completer.autoSelect = true;\n        completer.showPopup(editor, options);\n        completer.cancelContextMenu();\n    },\n    bindKey: \"Ctrl-Space|Ctrl-Shift-Space|Alt-Space\"\n};\n\nvar FilteredList = function(array, filterText) {\n    this.all = array;\n    this.filtered = array;\n    this.filterText = filterText || \"\";\n    this.exactMatch = false;\n};\n(function(){\n    this.setFilter = function(str) {\n        if (str.length > this.filterText && str.lastIndexOf(this.filterText, 0) === 0)\n            var matches = this.filtered;\n        else\n            var matches = this.all;\n\n        this.filterText = str;\n        matches = this.filterCompletions(matches, this.filterText);\n        matches = matches.sort(function(a, b) {\n            return b.exactMatch - a.exactMatch || b.$score - a.$score \n                || (a.caption || a.value).localeCompare(b.caption || b.value);\n        });\n        var prev = null;\n        matches = matches.filter(function(item){\n            var caption = item.snippet || item.caption || item.value;\n            if (caption === prev) return false;\n            prev = caption;\n            return true;\n        });\n\n        this.filtered = matches;\n    };\n    this.filterCompletions = function(items, needle) {\n        var results = [];\n        var upper = needle.toUpperCase();\n        var lower = needle.toLowerCase();\n        loop: for (var i = 0, item; item = items[i]; i++) {\n            var caption = item.caption || item.value || item.snippet;\n            if (!caption) continue;\n            var lastIndex = -1;\n            var matchMask = 0;\n            var penalty = 0;\n            var index, distance;\n\n            if (this.exactMatch) {\n                if (needle !== caption.substr(0, needle.length))\n                    continue loop;\n            } else {\n                var fullMatchIndex = caption.toLowerCase().indexOf(lower);\n                if (fullMatchIndex > -1) {\n                    penalty = fullMatchIndex;\n                } else {\n                    for (var j = 0; j < needle.length; j++) {\n                        var i1 = caption.indexOf(lower[j], lastIndex + 1);\n                        var i2 = caption.indexOf(upper[j], lastIndex + 1);\n                        index = (i1 >= 0) ? ((i2 < 0 || i1 < i2) ? i1 : i2) : i2;\n                        if (index < 0)\n                            continue loop;\n                        distance = index - lastIndex - 1;\n                        if (distance > 0) {\n                            if (lastIndex === -1)\n                                penalty += 10;\n                            penalty += distance;\n                            matchMask = matchMask | (1 << j);\n                        }\n                        lastIndex = index;\n                    }\n                }\n            }\n            item.matchMask = matchMask;\n            item.exactMatch = penalty ? 0 : 1;\n            item.$score = (item.score || 0) - penalty;\n            results.push(item);\n        }\n        return results;\n    };\n}).call(FilteredList.prototype);\n\nexports.Autocomplete = Autocomplete;\nexports.FilteredList = FilteredList;\n\n});\n\nace.define(\"ace/autocomplete/text_completer\",[\"require\",\"exports\",\"module\",\"ace/range\"], function(require, exports, module) {\n    var Range = require(\"../range\").Range;\n    \n    var splitRegex = /[^a-zA-Z_0-9\\$\\-\\u00C0-\\u1FFF\\u2C00-\\uD7FF\\w]+/;\n\n    function getWordIndex(doc, pos) {\n        var textBefore = doc.getTextRange(Range.fromPoints({row: 0, column:0}, pos));\n        return textBefore.split(splitRegex).length - 1;\n    }\n    function wordDistance(doc, pos) {\n        var prefixPos = getWordIndex(doc, pos);\n        var words = doc.getValue().split(splitRegex);\n        var wordScores = Object.create(null);\n        \n        var currentWord = words[prefixPos];\n\n        words.forEach(function(word, idx) {\n            if (!word || word === currentWord) return;\n\n            var distance = Math.abs(prefixPos - idx);\n            var score = words.length - distance;\n            if (wordScores[word]) {\n                wordScores[word] = Math.max(score, wordScores[word]);\n            } else {\n                wordScores[word] = score;\n            }\n        });\n        return wordScores;\n    }\n\n    exports.getCompletions = function(editor, session, pos, prefix, callback) {\n        var wordScore = wordDistance(session, pos);\n        var wordList = Object.keys(wordScore);\n        callback(null, wordList.map(function(word) {\n            return {\n                caption: word,\n                value: word,\n                score: wordScore[word],\n                meta: \"local\"\n            };\n        }));\n    };\n});\n\nace.define(\"ace/ext/language_tools\",[\"require\",\"exports\",\"module\",\"ace/snippets\",\"ace/autocomplete\",\"ace/config\",\"ace/lib/lang\",\"ace/autocomplete/util\",\"ace/autocomplete/text_completer\",\"ace/editor\",\"ace/config\"], function(require, exports, module) {\n\"use strict\";\n\nvar snippetManager = require(\"../snippets\").snippetManager;\nvar Autocomplete = require(\"../autocomplete\").Autocomplete;\nvar config = require(\"../config\");\nvar lang = require(\"../lib/lang\");\nvar util = require(\"../autocomplete/util\");\n\nvar textCompleter = require(\"../autocomplete/text_completer\");\nvar keyWordCompleter = {\n    getCompletions: function(editor, session, pos, prefix, callback) {\n        if (session.$mode.completer) {\n            return session.$mode.completer.getCompletions(editor, session, pos, prefix, callback);\n        }\n        var state = editor.session.getState(pos.row);\n        var completions = session.$mode.getCompletions(state, session, pos, prefix);\n        callback(null, completions);\n    }\n};\n\nvar snippetCompleter = {\n    getCompletions: function(editor, session, pos, prefix, callback) {\n        var scopes = [];\n        var token = session.getTokenAt(pos.row, pos.column);\n        if (token && token.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\\.xml$/))\n            scopes.push('html-tag');\n        else\n            scopes = snippetManager.getActiveScopes(editor);\n\n        var snippetMap = snippetManager.snippetMap;\n        var completions = [];\n        scopes.forEach(function(scope) {\n            var snippets = snippetMap[scope] || [];\n            for (var i = snippets.length; i--;) {\n                var s = snippets[i];\n                var caption = s.name || s.tabTrigger;\n                if (!caption)\n                    continue;\n                completions.push({\n                    caption: caption,\n                    snippet: s.content,\n                    meta: s.tabTrigger && !s.name ? s.tabTrigger + \"\\u21E5 \" : \"snippet\",\n                    type: \"snippet\"\n                });\n            }\n        }, this);\n        callback(null, completions);\n    },\n    getDocTooltip: function(item) {\n        if (item.type == \"snippet\" && !item.docHTML) {\n            item.docHTML = [\n                \"<b>\", lang.escapeHTML(item.caption), \"</b>\", \"<hr></hr>\",\n                lang.escapeHTML(item.snippet)\n            ].join(\"\");\n        }\n    }\n};\n\nvar completers = [snippetCompleter, textCompleter, keyWordCompleter];\nexports.setCompleters = function(val) {\n    completers.length = 0;\n    if (val) completers.push.apply(completers, val);\n};\nexports.addCompleter = function(completer) {\n    completers.push(completer);\n};\nexports.textCompleter = textCompleter;\nexports.keyWordCompleter = keyWordCompleter;\nexports.snippetCompleter = snippetCompleter;\n\nvar expandSnippet = {\n    name: \"expandSnippet\",\n    exec: function(editor) {\n        return snippetManager.expandWithTab(editor);\n    },\n    bindKey: \"Tab\"\n};\n\nvar onChangeMode = function(e, editor) {\n    loadSnippetsForMode(editor.session.$mode);\n};\n\nvar loadSnippetsForMode = function(mode) {\n    if (typeof mode == \"string\")\n        mode = config.$modes[mode];\n    if (!mode)\n        return;\n    if (!snippetManager.files)\n        snippetManager.files = {};\n    \n    loadSnippetFile(mode.$id, mode.snippetFileId);\n    if (mode.modes)\n        mode.modes.forEach(loadSnippetsForMode);\n};\n\nvar loadSnippetFile = function(id, snippetFilePath) {\n    if (!snippetFilePath || !id || snippetManager.files[id])\n        return;\n    snippetManager.files[id] = {};\n    config.loadModule(snippetFilePath, function(m) {\n        if (!m) return;\n        snippetManager.files[id] = m;\n        if (!m.snippets && m.snippetText)\n            m.snippets = snippetManager.parseSnippetFile(m.snippetText);\n        snippetManager.register(m.snippets || [], m.scope);\n        if (m.includeScopes) {\n            snippetManager.snippetMap[m.scope].includeScopes = m.includeScopes;\n            m.includeScopes.forEach(function(x) {\n                loadSnippetsForMode(\"ace/mode/\" + x);\n            });\n        }\n    });\n};\n\nvar doLiveAutocomplete = function(e) {\n    var editor = e.editor;\n    var hasCompleter = editor.completer && editor.completer.activated;\n    if (e.command.name === \"backspace\") {\n        if (hasCompleter && !util.getCompletionPrefix(editor))\n            editor.completer.detach();\n    }\n    else if (e.command.name === \"insertstring\") {\n        var prefix = util.getCompletionPrefix(editor);\n        if (prefix && !hasCompleter) {\n            var completer = Autocomplete.for(editor);\n            completer.autoInsert = false;\n            completer.showPopup(editor);\n        }\n    }\n};\n\nvar Editor = require(\"../editor\").Editor;\nrequire(\"../config\").defineOptions(Editor.prototype, \"editor\", {\n    enableBasicAutocompletion: {\n        set: function(val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val)? val: completers;\n                this.commands.addCommand(Autocomplete.startCommand);\n            } else {\n                this.commands.removeCommand(Autocomplete.startCommand);\n            }\n        },\n        value: false\n    },\n    enableLiveAutocompletion: {\n        set: function(val) {\n            if (val) {\n                if (!this.completers)\n                    this.completers = Array.isArray(val)? val: completers;\n                this.commands.on('afterExec', doLiveAutocomplete);\n            } else {\n                this.commands.removeListener('afterExec', doLiveAutocomplete);\n            }\n        },\n        value: false\n    },\n    enableSnippets: {\n        set: function(val) {\n            if (val) {\n                this.commands.addCommand(expandSnippet);\n                this.on(\"changeMode\", onChangeMode);\n                onChangeMode(null, this);\n            } else {\n                this.commands.removeCommand(expandSnippet);\n                this.off(\"changeMode\", onChangeMode);\n            }\n        },\n        value: false\n    }\n});\n});                (function() {\n                    ace.require([\"ace/ext/language_tools\"], function(m) {\n                        if (typeof module == \"object\" && typeof exports == \"object\" && module) {\n                            module.exports = m;\n                        }\n                    });\n                })();\n            ","\r\nexport type vec2 = Vector2;\r\n\r\nconst V2Constructor: new (...p: [number, number]) => [number, number] = Array as any;\r\nexport class Vector2 extends V2Constructor\r\n{\r\n    get x() { return this[0]; }\r\n    set x(x: number) { this[0] = x; }\r\n    get y() { return this[1]; }\r\n    set y(y: number) { this[1] = y; }\r\n\r\n    get magnitude()\r\n    {\r\n        return Math.hypot(...this);\r\n    }\r\n\r\n    get normalized()\r\n    {\r\n        const m = this.magnitude;\r\n        return m == 0 ? vec2.zero() : this.clone().div(vec2(m, m));\r\n    }\r\n    get negative()\r\n    {\r\n        return this.clone().negate();\r\n    }\r\n    get inversed()\r\n    {\r\n        return this.clone().inverse();\r\n    }\r\n\r\n    constructor(x: number, y: number)\r\n    {\r\n        super(x, y);\r\n    }\r\n\r\n    static zero()\r\n    {\r\n        return new Vector2(0, 0);\r\n    }\r\n    static one()\r\n    {\r\n        return new Vector2(1, 1);\r\n    }\r\n    static up()\r\n    {\r\n        return new Vector2(0, 1);\r\n    }\r\n    static down()\r\n    {\r\n        return new Vector2(0, -1);\r\n    }\r\n    static left() { return new Vector2(-1, 0) }\r\n    static right() { return new Vector2(1, 0) }\r\n\r\n    plus(v: Vector2)\r\n    {\r\n        this[0] += v[0];\r\n        this[1] += v[1];\r\n        return this;\r\n    }\r\n    minus(v: Vector2)\r\n    {\r\n        this[0] -= v[0];\r\n        this[1] -= v[1];\r\n        return this;\r\n    }\r\n    mul(v: Vector2)\r\n    {\r\n        this[0] *= v[0];\r\n        this[1] *= v[1];\r\n        return this;\r\n    }\r\n    div(v: Vector2)\r\n    {\r\n        this[0] /= v[0];\r\n        this[1] /= v[1];\r\n        return this;\r\n    }\r\n    dot(v: Vector2)\r\n    {\r\n        return this[0] * v[0]\r\n            + this[1] * v[1];\r\n    }\r\n    normalize()\r\n    {\r\n        const m = this.magnitude;\r\n        return m == 0 ? vec2.zero() : this.clone().div(vec2(m, m));\r\n    }\r\n    inverse()\r\n    {\r\n        this[0] = 1 / this[0];\r\n        this[1] = 1 / this[1];\r\n        return this;\r\n    }\r\n    negate()\r\n    {\r\n        this[0] = -this[0];\r\n        this[1] = -this[1];\r\n        return this;\r\n    }\r\n    /**\r\n     * cross product with vec3\r\n     * @param a u\r\n     * @param b v\r\n     */\r\n    cross(b: Vector2)\r\n    {\r\n        return this.x * b.y - this.y * b.x;\r\n    }\r\n\r\n    clone()\r\n    {\r\n        return vec2(this[0], this[1]);\r\n    }\r\n\r\n    toVec3(z = 0)\r\n    {\r\n        return vec3(this[0], this[1], z);\r\n    }\r\n    __to(type: Function)\r\n    {\r\n        switch (type)\r\n        {\r\n            case Vector4:\r\n                return vec4(this[0], this[1], 0, 0);\r\n            case Vector3:\r\n                return vec3(this[0], this[1], 0);\r\n        }\r\n        return this.clone();\r\n    }\r\n}\r\n\r\nexport function vec2(x: number): Vector2\r\nexport function vec2(x: number, y: number): Vector2\r\nexport function vec2(x: number, y = x): Vector2\r\n{\r\n    return new Vector2(x, y);\r\n}\r\nvec2.from = (src: Iterable<number>) =>\r\n{\r\n    const [x = 0, y = 0] = src;\r\n    return vec2(x, y);\r\n}\r\nvec2.zero = Vector2.zero;\r\nvec2.one = Vector2.one;\r\nvec2.left = Vector2.left;\r\nvec2.right = Vector2.right;\r\nvec2.down = Vector2.down;\r\nvec2.up = Vector2.up;\r\n\r\n\r\n/// Vec3\r\n\r\nexport type vec3 = Vector3;\r\n\r\nconst V3Constructor: new (...p: [number, number, number]) => [number, number, number] = Array as any;\r\nexport class Vector3 extends V3Constructor\r\n{\r\n    get x() { return this[0]; }\r\n    set x(x: number) { this[0] = x; }\r\n    get y() { return this[1]; }\r\n    set y(y: number) { this[1] = y; }\r\n    get z() { return this[2]; }\r\n    set z(z: number) { this[2] = z; }\r\n\r\n    get magnitude()\r\n    {\r\n        return Math.hypot(...this);\r\n    }\r\n\r\n    get normalized()\r\n    {\r\n        const m = this.magnitude;\r\n        return m == 0 ? vec3.zero() : this.clone().div(vec3(m, m, m));\r\n    }\r\n\r\n    get negative()\r\n    {\r\n        return this.clone().negate();\r\n    }\r\n    get inversed()\r\n    {\r\n        return this.clone().inverse();\r\n    }\r\n\r\n    constructor(x: number, y: number, z: number)\r\n    {\r\n        super(x, y, z);\r\n    }\r\n\r\n    static zero()\r\n    {\r\n        return new Vector3(0, 0, 0);\r\n    }\r\n    static one()\r\n    {\r\n        return new Vector3(1, 1, 1);\r\n    }\r\n    plus(v: Vector3)\r\n    {\r\n        this[0] += v[0];\r\n        this[1] += v[1];\r\n        this[2] += v[2];\r\n        return this;\r\n    }\r\n    minus(v: Vector3)\r\n    {\r\n        this[0] -= v[0];\r\n        this[1] -= v[1];\r\n        this[2] -= v[2];\r\n        return this;\r\n    }\r\n    mul(v: Vector3)\r\n    {\r\n        this[0] *= v[0];\r\n        this[1] *= v[1];\r\n        this[2] *= v[2];\r\n        return this;\r\n    }\r\n    div(v: Vector3)\r\n    {\r\n        this[0] /= v[0];\r\n        this[1] /= v[1];\r\n        this[2] /= v[2];\r\n        return this;\r\n    }\r\n    dot(v: Vector3)\r\n    {\r\n        return this[0] * v[0]\r\n            + this[1] * v[1]\r\n            + this[2] * v[2];\r\n    }\r\n    normalize()\r\n    {\r\n        const m = this.magnitude;\r\n        return m == 0 ? vec3.zero() : this.clone().div(vec3(m, m, m));\r\n    }\r\n    inverse()\r\n    {\r\n        this[0] = 1 / this[0];\r\n        this[1] = 1 / this[1];\r\n        this[2] = 1 / this[2];\r\n        return this;\r\n    }\r\n    negate()\r\n    {\r\n        this[0] = -this[0];\r\n        this[1] = -this[1];\r\n        this[2] = -this[2];\r\n        return this;\r\n    }\r\n    /**\r\n     * cross product with vec3\r\n     * @param a u\r\n     * @param b v\r\n     */\r\n    cross(b: Vector3)\r\n    {\r\n        return vec3(\r\n            this.y * b.z - this.z * b.y,\r\n            this.z * b.x - this.x * b.z,\r\n            this.x * b.y - this.y * b.x\r\n        );\r\n    }\r\n\r\n    clone()\r\n    {\r\n        return vec3(this[0], this[1], this[2]);\r\n    }\r\n\r\n    toVec2()\r\n    {\r\n        return vec2(this[0], this[1]);\r\n    }\r\n\r\n    __to(type: Function)\r\n    {\r\n        switch (type)\r\n        {\r\n            case Vector4:\r\n                return vec4(this[0], this[1], this[2], 0);\r\n            case Vector2:\r\n                return vec2(this[0], this[1]);\r\n        }\r\n        return this.clone();\r\n    }\r\n}\r\nexport function vec3(x: number): Vector3\r\nexport function vec3(x: number, y: number, z: number): Vector3\r\nexport function vec3(x: number, y: number = x, z: number = x): Vector3\r\n{\r\n    return new Vector3(x, y, z);\r\n}\r\nvec3.from = (src: Iterable<number>) =>\r\n{\r\n    const [x = 0, y = 0, z = 0] = src;\r\n    return vec3(x, y, z);\r\n}\r\nvec3.zero = Vector3.zero;\r\nvec3.one = Vector3.one;\r\n\r\n\r\n\r\n/// Vec4\r\n\r\nexport type vec4 = Vector4;\r\n\r\nconst V4Constructor: new (...p: [number, number, number, number]) => [number, number, number, number] = Array as any;\r\nexport class Vector4 extends V4Constructor\r\n{\r\n    get x() { return this[0]; }\r\n    set x(x: number) { this[0] = x; }\r\n    get y() { return this[1]; }\r\n    set y(y: number) { this[1] = y; }\r\n    get z() { return this[2]; }\r\n    set z(z: number) { this[2] = z; }\r\n    get w() { return this[3]; }\r\n    set w(w: number) { this[3] = w }\r\n\r\n    get magnitude()\r\n    {\r\n        return Math.hypot(...this);\r\n    }\r\n\r\n    get normalized()\r\n    {\r\n        const m = this.magnitude;\r\n        return m == 0 ? vec4.zero() : this.clone().div(vec4(m, m, m, m));\r\n    }\r\n    get negative()\r\n    {\r\n        return this.clone().negate();\r\n    }\r\n    get inversed()\r\n    {\r\n        return this.clone().inverse();\r\n    }\r\n\r\n    constructor(x: number, y: number, z: number = 0, w: number = 0)\r\n    {\r\n        super(x, y, z || 0, w || 0);\r\n    }\r\n\r\n    static zero()\r\n    {\r\n        return new Vector4(0, 0, 0, 0);\r\n    }\r\n    static one()\r\n    {\r\n        return new Vector4(1, 1, 1, 1);\r\n    }\r\n    plus(v: Vector4)\r\n    {\r\n        this[0] += v[0];\r\n        this[1] += v[1];\r\n        this[2] += v[2];\r\n        this[3] += v[3];\r\n        return this;\r\n    }\r\n    minus(v: Vector4)\r\n    {\r\n        this[0] -= v[0];\r\n        this[1] -= v[1];\r\n        this[2] -= v[2];\r\n        this[3] -= v[3];\r\n        return this;\r\n    }\r\n    mul(v: Vector4)\r\n    {\r\n        this[0] *= v[0];\r\n        this[1] *= v[1];\r\n        this[2] *= v[2];\r\n        this[3] *= v[3];\r\n        return this;\r\n    }\r\n    div(v: Vector4)\r\n    {\r\n        this[0] /= v[0];\r\n        this[1] /= v[1];\r\n        this[2] /= v[2];\r\n        this[3] /= v[3];\r\n        return this;\r\n    }\r\n    dot(v: Vector4)\r\n    {\r\n        return this[0] * v[0]\r\n            + this[1] * v[1]\r\n            + this[2] * v[2]\r\n            + this[3] * v[3];\r\n    }\r\n    normalize()\r\n    {\r\n        const m = this.magnitude;\r\n        return m == 0 ? vec4.zero() : this.clone().div(vec4(m, m, m, m));\r\n    }\r\n    inverse()\r\n    {\r\n        this[0] = 1 / this[0];\r\n        this[1] = 1 / this[1];\r\n        this[2] = 1 / this[2];\r\n        this[3] = 1 / this[3];\r\n        return this;\r\n    }\r\n    negate()\r\n    {\r\n        this[0] = -this[0];\r\n        this[1] = -this[1];\r\n        this[2] = -this[2];\r\n        this[3] = -this[3];\r\n        return this;\r\n    }\r\n    clone()\r\n    {\r\n        return vec4(this[0], this[1], this[2], this[3]);\r\n    }\r\n    __to(type: Function)\r\n    {\r\n        switch (type)\r\n        {\r\n            case Vector4:\r\n                return this.clone();\r\n            case Vector3:\r\n                return vec3(this[0], this[1], this[2]);\r\n            case Vector2:\r\n                return vec2(this[0], this[1]);\r\n        }\r\n        return this.clone();\r\n    }\r\n}\r\n\r\nexport function vec4(x: number): Vector4\r\nexport function vec4(x: number, y: number, z: number, w: number): Vector4\r\nexport function vec4(x: number, y: number = x, z: number = x, w: number = x): Vector4\r\n{\r\n    return new Vector4(x, y, z, w);\r\n}\r\n\r\nvec4.from = (src: Iterable<number>) =>\r\n{\r\n    const [x = 0, y = 0, z = 0, w = 0] = src;\r\n    return vec4(x, y, z, w);\r\n}\r\nvec4.zero = Vector4.zero;\r\nvec4.one = Vector4.one;\r\n\r\n\r\nexport class Color extends Vector4\r\n{\r\n    get r() { return this[0]; }\r\n    set r(r: number) { this[0] = r; }\r\n    get g() { return this[1]; }\r\n    set g(g: number) { this[1] = g; }\r\n    get b() { return this[2]; }\r\n    set b(b: number) { this[2] = b; }\r\n    get a() { return this[3]; }\r\n    set a(a: number) { this[3] = a }\r\n\r\n    constructor(r: number, g: number, b: number, a: number = 1)\r\n    {\r\n        super(r, g, b, a);\r\n    }\r\n\r\n    static get white() { return new Color(1, 1, 1); }\r\n    static get transparent() { return new Color(1, 1, 1, 0); }\r\n    static get black() { return new Color(0, 0, 0); }\r\n    static get red() { return new Color(1, 0, 0); }\r\n    static get green() { return new Color(0, 1, 0); }\r\n    static get blue() { return new Color(0, 0, 1); }\r\n    static get cyan() { return new Color(0, 1, 1); }\r\n    static get yellow() { return new Color(1, 1, 0); }\r\n    static get magenta() { return new Color(1, 0, 1); }\r\n    static get gray() { return new Color(.5, .5, .5); }\r\n}\r\n\r\nexport const rgba = (r: number, g: number, b: number, a: number = 1) => new Color(r, g, b, a);\r\nexport const rgb = (r: number, g: number, b: number) => new Color(r, g, b, 1);\r\n\r\n\r\n\r\ntype vec = number | vec2 | vec3 | vec4;\r\n\r\ntype Larger<U extends vec, V extends vec> =\r\n    U extends vec4 ? vec4 :\r\n    V extends vec4 ? vec4 :\r\n    U extends vec3 ? vec3 :\r\n    V extends vec3 ? vec3 :\r\n    U extends vec2 ? vec2 :\r\n    V extends vec2 ? vec2 :\r\n    number;\r\n\r\ntype ArithmeticType<U extends vec, V extends vec> = Larger<U, V>\r\n\r\n(Number as any).prototype.__to = function (type: Function)\r\n{\r\n    switch (type)\r\n    {\r\n        case Vector4:\r\n            return vec4(this.valueOf(), this.valueOf(), this.valueOf(), this.valueOf());\r\n        case Vector3:\r\n            return vec3(this.valueOf(), this.valueOf(), this.valueOf());\r\n        case Vector2:\r\n            return vec2(this.valueOf(), this.valueOf());\r\n    }\r\n    return this.valueOf();\r\n}\r\n\r\nfunction _arithOrder<U extends vec, V extends vec>(a: U, b: V): [any, any, boolean]\r\n{\r\n    if (typeof (a) === \"number\")\r\n        return [b, a, true];\r\n    else if (typeof (b) === \"number\")\r\n        return [a, b, false];\r\n    return ((b as number[]).length > (a as number[]).length ? [b, a, true] : [a, b, false]);\r\n}\r\n\r\n\r\nexport function plus<U extends vec, V extends vec>(a: U, b: V): ArithmeticType<U, V>\r\n{\r\n    const [lhs, rhs] = _arithOrder(a, b);\r\n    return rhs.__to(lhs.constructor).plus(lhs);\r\n}\r\nexport function minus<U extends vec, V extends vec>(a: U, b: V): ArithmeticType<U, V>\r\n{\r\n    const [lhs, rhs, invert] = _arithOrder(a, b);\r\n    return invert\r\n        ? rhs.__to(lhs.constructor).minus(lhs)\r\n        : rhs.__to(lhs.constructor).minus(lhs).negate();\r\n}\r\n\r\nexport function mul<U extends vec, V extends vec>(a: U, b: V): ArithmeticType<U, V>\r\n{\r\n    const [lhs, rhs] = _arithOrder(a, b);\r\n    return rhs.__to(lhs.constructor).mul(lhs);\r\n}\r\nexport function div<U extends vec, V extends vec>(a: U, b: V): ArithmeticType<U, V>\r\n{\r\n    const [lhs, rhs, invert] = _arithOrder(a, b);\r\n    return invert\r\n        ? rhs.__to(lhs.constructor).div(lhs)\r\n        : rhs.__to(lhs.constructor).div(lhs).inversed;\r\n}\r\n\r\nexport function dot(a: vec3, b: vec3): number\r\n{\r\n    return a.dot(b);\r\n}\r\nexport function cross(a: vec3, b: vec3)\r\n{\r\n    return a.cross(b);\r\n}\r\n\r\n\r\nconst Deg2Rad = Math.PI / 180;\r\nconst Rad2Deg = 180 / Math.PI;\r\n"],"sourceRoot":""}