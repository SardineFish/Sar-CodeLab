{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../dist/types/vec2.js","webpack:///../dist/types/vec3.js","webpack:///../dist/utils/util.js","webpack:///../dist/core/global.js","webpack:///../dist/types/vec4.js","webpack:///../dist/types/color.js","webpack:///../dist/core/material.js","webpack:///../node_modules/reflect-metadata/Reflect.js","webpack:///../dist/core/texture.js","webpack:///../dist/core/shader.js","webpack:///../dist/builtin-assets/shaders.js","webpack:///../node_modules/gl-matrix/esm/common.js","webpack:///../node_modules/gl-matrix/esm/mat2.js","webpack:///../node_modules/gl-matrix/esm/mat2d.js","webpack:///../node_modules/gl-matrix/esm/mat3.js","webpack:///../node_modules/gl-matrix/esm/mat4.js","webpack:///../node_modules/gl-matrix/esm/vec3.js","webpack:///../node_modules/gl-matrix/esm/vec4.js","webpack:///../node_modules/gl-matrix/esm/quat.js","webpack:///../node_modules/gl-matrix/esm/quat2.js","webpack:///../node_modules/gl-matrix/esm/vec2.js","webpack:///../node_modules/gl-matrix/esm/index.js","webpack:///../dist/core/texture-format.js","webpack:///../dist/types/math.js","webpack:///../dist/types/mat4.js","webpack:///../dist/types/quat.js","webpack:///../dist/core/material-type.js","webpack:///../dist/core/mesh.js","webpack:///../dist/core/render-target.js","webpack:///./src/shader/default-vert.glsl","webpack:///../dist/index.js","webpack:///../dist/types/types.js","webpack:///../dist/core/core.js","webpack:///./node_modules/process/browser.js","webpack:///(webpack)/buildin/global.js","webpack:///../dist/core/renderer.js","webpack:///../dist/builtin-assets/assets.js","webpack:///../dist/builtin-assets/materials.js","webpack:///../dist/builtin-assets/textures.js","webpack:///../dist/builtin-assets/mesh.js","webpack:///./src/css/base.css?6b6c","webpack:///./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack:///./src/css/base.css","webpack:///./node_modules/css-loader/dist/runtime/api.js","webpack:///./src/life-game.ts","webpack:///./src/shader/life-game.glsl","webpack:///./src/shader/life-game-render.glsl","webpack:///./src/asset/img/dual-gun.png","webpack:///./src/misc/util.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","vec4_1","vec3_1","Vector2","Array","this","x","y","Math","hypot","magnitude","clone","div","vec2","super","v","b","type","Vector4","vec4","Vector3","vec3","vec2_1","z","panicNull","msg","Error","panic","warn","console","decorator","defaultValue","dataWrapper","metadataKey","undefined","Reflect","metadata","target","propKey","getMetadata","getUniformsLocation","gl","program","uniforms","out","getUniformLocation","fillArray","element","count","arr","ctx","setGlobalContext","_ctx","GlobalContext","GL","w","Color","g","a","rgba","rgb","global_1","Material","shader","propertyBlock","data","_a","useProgram","prop","uniform1f","location","uniform2fv","uniform3fv","uniform4fv","uniformMatrix4fv","assets","DefaultTexture","loc","shaderPropMetaKey","shaderProp","MaterialFromShader","materialDefine","constructor","arg","factory","root","global","self","Function","exporter","makeExporter","previous","configurable","writable","hasOwn","supportsSymbol","toPrimitiveSymbol","toPrimitive","iteratorSymbol","iterator","supportsCreate","supportsProto","__proto__","downLevel","HashMap","MakeDictionary","has","map","functionPrototype","getPrototypeOf","usePolyfill","process","env","_Map","Map","entries","cacheSentinel","arraySentinel","MapIterator","keys","values","selector","_index","_keys","_values","_selector","next","index","length","result","done","throw","error","return","_cacheKey","_cacheIndex","_find","set","delete","size","clear","getKey","getValue","getEntry","insert","indexOf","push","_","CreateMapPolyfill","_Set","Set","_map","add","Metadata","WeakMap","rootKey","CreateUniqueKey","_key","table","GetOrCreateWeakMapTable","CreateUUID","FillRandomBytes","buffer","random","Uint8Array","crypto","getRandomValues","msCrypto","offset","byte","toString","toLowerCase","CreateWeakMapPolyfill","GetOrCreateMetadataMap","O","P","Create","targetMetadata","IsUndefined","metadataMap","OrdinaryHasOwnMetadata","MetadataKey","OrdinaryGetOwnMetadata","OrdinaryDefineOwnMetadata","MetadataValue","OrdinaryOwnMetadataKeys","obj","method","GetMethod","IsCallable","TypeError","IsObject","GetIterator","k","IteratorStep","nextValue","e","IteratorClose","Type","IsNull","ToPrimitive","input","PreferredType","hint","exoticToPrim","toString_1","valueOf","toString_2","OrdinaryToPrimitive","ToPropertyKey","argument","ToString","IsArray","isArray","IsConstructor","V","func","f","OrdinaryGetPrototypeOf","proto","prototypeProto","__","decorators","propertyKey","attributes","decorated","DecorateConstructor","descriptor","DecorateProperty","metadataValue","IsPropertyKey","OrdinaryHasMetadata","parent","OrdinaryGetMetadata","OrdinaryMetadataKeys","ownKeys","parentKeys","_i","ownKeys_1","parentKeys_1","texture_format_1","util_1","FilterMode","WrapMode","WebGL2RenderingContext","LINEAR","NEAREST","REPEAT","CLAMP_TO_EDGE","MIRRORED_REPEAT","TextureBase","width","height","format","TextureFormat","RGBA","filterMode","Linear","mipmapLevel","wrapMode","Repeat","glTex","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","TEXTURE_WRAP_T","activeTexture","TEXTURE0","nextTextureUnit","uniform1i","Texture2D","pixels","setup","internalFormat","mapGLFormat","texImage2D","flipTexture","DepthTexture","DEPTH_COMPONENT","Nearest","dst","src","texFormat","_b","srcTex","fbo","createFramebuffer","bindFramebuffer","FRAMEBUFFER","framebufferTexture2D","COLOR_ATTACHMENT0","viewport","drawBuffers","shaders","FlipTexture","builtinUniformLocations","mainTex","mesh","meshes","screenQuad","drawElements","TRIANGLE_STRIP","triangles","UNSIGNED_INT","deleteFramebuffer","deleteTexture","RenderTexture","depth","depthTexture","update","shaders_1","util_2","Shader","vertexShader","fragmentShader","BuiltinShaderSources","DefaultShaderAttributes","_compiled","createProgram","vertexShaderSource","fragmentShaderSouce","createShader","VERTEX_SHADER","FRAGMENT_SHADER","compile","vert","getAttribLocation","color","uv","normal","BuiltinUniforms","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","shader_1","DefaultVert","DefaultFrag","BlitCopyFrag","FlipTexVert","matM","matVP","matMVP","flipUV","compileBuiltinShaders","DefaultShader","BlitCopy","EPSILON","ARRAY_TYPE","Float32Array","RANDOM","setMatrixArrayType","degree","PI","toRadian","equals","abs","max","copy","identity","fromValues","m00","m01","m10","m11","transpose","a1","invert","a0","a2","a3","det","adjoint","determinant","multiply","b0","b1","b2","b3","rotate","rad","sin","cos","v0","v1","fromRotation","fromScaling","str","frob","LDU","L","D","U","subtract","exactEquals","multiplyScalar","multiplyScalarAndAdd","scale","arguments","sqrt","mul","sub","tx","ty","aa","ab","ac","ad","atx","aty","a4","a5","b4","b5","translate","fromTranslation","fromMat4","m02","m12","m20","m21","m22","a01","a02","a12","a00","a10","a11","a20","a21","a22","b01","b11","b21","b00","b02","b10","b12","b20","b22","fromMat2d","fromQuat","q","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","normalFromMat4","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","projection","a6","a7","a8","b6","b7","b8","m03","m13","m23","m30","m31","m32","m33","axis","len","rotateX","rotateY","rotateZ","fromXRotation","fromYRotation","fromZRotation","fromRotationTranslation","xy","xz","yz","fromQuat2","translation","bx","by","bz","bw","ax","ay","az","aw","getTranslation","mat","getScaling","getRotation","scaling","is1","is2","is3","sm11","sm12","sm13","sm21","sm22","sm23","sm31","sm32","sm33","trace","S","fromRotationTranslationScale","sx","sy","sz","fromRotationTranslationScaleOrigin","ox","oy","oz","out0","out1","out2","out4","out5","out6","out8","out9","out10","frustum","left","right","bottom","top","near","far","rl","tb","nf","perspective","fovy","aspect","tan","Infinity","perspectiveFromFieldOfView","fov","upTan","upDegrees","downTan","downDegrees","leftTan","leftDegrees","rightTan","rightDegrees","xScale","yScale","ortho","lr","bt","lookAt","eye","center","up","x0","x1","y0","y1","z0","z1","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","targetTo","a9","a14","a15","b9","b13","b14","b15","divide","ceil","floor","min","round","scaleAndAdd","distance","squaredDistance","squaredLength","negate","inverse","normalize","cross","lerp","hermite","factorTimes2","factor1","factor2","factor3","factor4","bezier","inverseFactor","inverseFactorTimesTwo","zScale","transformMat4","transformMat3","transformQuat","qx","qy","qz","qw","uvx","uvy","uvz","uuvx","uuvy","uuvz","w2","angle","tempA","tempB","cosine","acos","zero","vec","dist","sqrDist","sqrLen","forEach","stride","fn","u","A","B","C","E","F","G","H","I","J","v2","v3","v4","s1","s2","ix","iy","iz","iw","setAxisAngle","getAxisAngle","out_axis","getAngle","dotproduct","calculateW","exp","et","ln","atan2","log","pow","slerp","omega","cosom","sinom","scale0","scale1","u1","u2","u3","sqrt1MinusU1","sqrtU1","dot","invDot","conjugate","fromMat3","fRoot","fTrace","j","fromEuler","halfToRad","cx","cy","cz","tmpvec3","xUnitVec3","yUnitVec3","temp1","temp2","matr","rotationTo","sqlerp","setAxes","view","dq","w1","fromRotationTranslationValues","outer","getReal","getDual","setReal","setDual","ax1","ay1","az1","aw1","bx1","by1","bz1","ax2","ay2","az2","aw2","rotateByQuatAppend","rotateByQuatPrepend","rotateAroundAxis","axisLength","ax0","ay0","az0","aw0","bw1","bx0","by0","bz0","bw0","mt","sqlen","a_dot_b","transformMat2","transformMat2d","p0","p1","sinC","cosC","len1","len2","RGB","UNSIGNED_BYTE","LUMINANCE_ALPHA","LUMINANCE","ALPHA","R8","RED","R16F","HALF_FLOAT","R32F","FLOAT","R8UI","RED_INTEGER","RG8","RG","RG16F","RG32F","RG8UI","RG_INTEGER","RGB8","SRGB8","RGB565","R11F_G11F_B10F","UNSIGNED_INT_10F_11F_11F_REV","RGB9_E5","RGB16F","RGB32F","RGB8UI","RGB_INTEGER","RGBA8","SRGB8_ALPHA8","RGB5_A1","RGB10_A2","UNSIGNED_INT_2_10_10_10_REV","RGBA4","RGBA16F","RGBA32F","RGBA8UI","RGBA_INTEGER","DEPTH_STENCIL","gl_matrix_1","arithOrder","plus","lhs","rhs","to","minus","Matrix4x4","mat4","rts","rotation","Quaternion","quat","color_1","math_1","Mesh","_verts","_triangles","_uvs","_colors","_normals","dirty","uploaded","vertices","indices","Uint32Array","VBO","createBuffer","EBO","verts","uvs","colors","normals","angleThreshold","normalise","white","flatMap","idx","flat","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","ELEMENT_ARRAY_BUFFER","vertexAttribPointer","enableVertexAttribArray","FrameBufferAttachment","canvasOutput","tex","attachPoint","BACK","fromRenderTexture","rt","RenderTarget","colorAttachments","depthAttachment","isCanvasTarget","frameBuffer","DEPTH_ATTACHMENT","attachIdx","buffers","CanvasTarget","freeze","__export","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","run","marker","runClearTimeout","Item","array","noop","nextTick","args","apply","title","browser","argv","version","versions","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","window","mat4_1","render_target_1","texture_1","assets_1","quat_1","ZograRenderer","canvasElement","viewProjectionMatrix","globalUniforms","globalTextures","canvas","getContext","BuiltinAssets","use","release","addColorAttachment","setDepthAttachment","black","clearDepth","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","material","materials","blitCopy","prevVP","prevTarget","setGlobalTexture","drawMesh","quad","unsetGlobalTexture","transform","mateiral","mvp","val","texture","materials_1","textures_1","mesh_1","shaderSources","createBuiltinMesh","createDefaultTexture","types","createBuiltinMaterialTypes","createBuiltinMaterial","__decorate","desc","getOwnPropertyDescriptor","decorate","material_1","createDefaultMaterialType","defaultTex","DefaultMaterial","mainTexture","default","flip","context","document","createElement","fillStyle","fillRect","setData","calculateNormals","api","content","options","exported","locals","memo","isOldIE","Boolean","all","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","modulesToDom","list","part","css","media","sourceMap","addStyle","insertStyleElement","style","nonce","setAttribute","appendChild","textStore","replaceText","replacement","filter","join","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","btoa","unescape","encodeURIComponent","JSON","stringify","firstChild","singleton","singletonCounter","styleIndex","parentNode","removeStyleElement","newObj","base","newList","___CSS_LOADER_API_IMPORT___","useSourceMap","item","cssMapping","sourceMapping","base64","sourceURLs","sources","source","sourceRoot","cssWithMappingToString","mediaQuery","FPS","parseInt","exec","search","Offset","renderer","innerWidth","innerHeight","LifeGameMaterial","blitMat","setProp","Clamp","previousTime","startDelay","frameIdx","initial","ImageData","M","Width","seed","loadImage","setInterval","setGlobalUniform","setRenderTarget","dt","time","blit","lifeGame","updateFrame","delay","requestAnimationFrame","addEventListener","pos","clientX","clientY","Promise","resolve","reject","img","Image","complete","onload","onerror","event","lineno","colno"],"mappings":"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","file":"js/life-game.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 36);\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec4_1 = require(\"./vec4\");\r\nconst vec3_1 = require(\"./vec3\");\r\nclass Vector2 extends Array {\r\n    get x() { return this[0]; }\r\n    set x(x) { this[0] = x; }\r\n    get y() { return this[1]; }\r\n    set y(y) { this[1] = y; }\r\n    get magnitude() {\r\n        return Math.hypot(...this);\r\n    }\r\n    get normalized() {\r\n        const m = this.magnitude;\r\n        return this.clone().div(vec2(m, m));\r\n    }\r\n    constructor(x, y) {\r\n        super(x, y);\r\n    }\r\n    plus(v) {\r\n        this[0] += v[0];\r\n        this[1] += v[1];\r\n        return this;\r\n    }\r\n    minus(v) {\r\n        this[0] -= v[0];\r\n        this[1] -= v[1];\r\n        return this;\r\n    }\r\n    mul(v) {\r\n        this[0] *= v[0];\r\n        this[1] *= v[1];\r\n        return this;\r\n    }\r\n    div(v) {\r\n        this[0] /= v[0];\r\n        this[1] /= v[1];\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this[0] * v[0]\r\n            + this[1] * v[1];\r\n    }\r\n    normalise() {\r\n        const m = this.magnitude;\r\n        return this.clone().div(vec2(m, m));\r\n    }\r\n    /**\r\n     * cross product with vec3\r\n     * @param a u\r\n     * @param b v\r\n     */\r\n    cross(b) {\r\n        return this.x * b.y - this.y * b.x;\r\n    }\r\n    clone() {\r\n        return vec2(this[0], this[1]);\r\n    }\r\n    to(type) {\r\n        switch (type) {\r\n            case vec4_1.Vector4:\r\n                return vec4_1.vec4(this[0], this[1], 0, 0);\r\n            case vec3_1.Vector3:\r\n                return vec3_1.vec3(this[0], this[1], 0);\r\n        }\r\n        return this.clone();\r\n    }\r\n}\r\nexports.Vector2 = Vector2;\r\nfunction vec2(x, y) {\r\n    return new Vector2(x, y);\r\n}\r\nexports.vec2 = vec2;\r\n//# sourceMappingURL=vec2.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec4_1 = require(\"./vec4\");\r\nconst vec2_1 = require(\"./vec2\");\r\nclass Vector3 extends Array {\r\n    get x() { return this[0]; }\r\n    set x(x) { this[0] = x; }\r\n    get y() { return this[1]; }\r\n    set y(y) { this[1] = y; }\r\n    get z() { return this[2]; }\r\n    set z(z) { this[2] = z; }\r\n    get magnitude() {\r\n        return Math.hypot(...this);\r\n    }\r\n    get normalized() {\r\n        const m = this.magnitude;\r\n        return this.clone().div(vec3(m, m, m));\r\n    }\r\n    constructor(x, y, z) {\r\n        super(x, y, z);\r\n    }\r\n    plus(v) {\r\n        this[0] += v[0];\r\n        this[1] += v[1];\r\n        this[2] += v[2];\r\n        return this;\r\n    }\r\n    minus(v) {\r\n        this[0] -= v[0];\r\n        this[1] -= v[1];\r\n        this[2] -= v[2];\r\n        return this;\r\n    }\r\n    mul(v) {\r\n        this[0] *= v[0];\r\n        this[1] *= v[1];\r\n        this[2] *= v[2];\r\n        return this;\r\n    }\r\n    div(v) {\r\n        this[0] /= v[0];\r\n        this[1] /= v[1];\r\n        this[2] /= v[2];\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this[0] * v[0]\r\n            + this[1] * v[1]\r\n            + this[3] * v[3];\r\n    }\r\n    normalise() {\r\n        const m = this.magnitude;\r\n        return this.clone().div(vec3(m, m, m));\r\n    }\r\n    /**\r\n     * cross product with vec3\r\n     * @param a u\r\n     * @param b v\r\n     */\r\n    cross(b) {\r\n        return vec3(this.y * b.z - this.z * b.y, this.x * b.z - this.z * b.x, this.x * b.y - this.y * b.x);\r\n    }\r\n    clone() {\r\n        return vec3(this[0], this[1], this[2]);\r\n    }\r\n    to(type) {\r\n        switch (type) {\r\n            case vec4_1.Vector4:\r\n                return vec4_1.vec4(this[0], this[1], this[2], 0);\r\n            case vec2_1.Vector2:\r\n                return vec2_1.vec2(this[0], this[1]);\r\n        }\r\n        return this.clone();\r\n    }\r\n}\r\nexports.Vector3 = Vector3;\r\nfunction vec3(x, y, z) {\r\n    return new Vector3(x, y, z);\r\n}\r\nexports.vec3 = vec3;\r\n//# sourceMappingURL=vec3.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"reflect-metadata\");\r\nfunction panicNull(t, msg) {\r\n    if (t === null)\r\n        throw new Error(msg);\r\n    return t;\r\n}\r\nexports.panicNull = panicNull;\r\nfunction panic(msg) {\r\n    throw new Error(msg);\r\n}\r\nexports.panic = panic;\r\nfunction warn(msg) {\r\n    console.warn(msg);\r\n    return null;\r\n}\r\nexports.warn = warn;\r\nfunction decorator(name, defaultValue = undefined, dataWrapper = v => v) {\r\n    const metadataKey = Symbol(name);\r\n    return [\r\n        (value) => {\r\n            if (value === undefined)\r\n                value = defaultValue;\r\n            return Reflect.metadata(metadataKey, dataWrapper(value));\r\n        },\r\n        (target, propKey) => {\r\n            if (propKey === undefined)\r\n                return Reflect.getMetadata(metadataKey, target);\r\n            else\r\n                return Reflect.getMetadata(metadataKey, target, propKey);\r\n        }\r\n    ];\r\n}\r\nexports.decorator = decorator;\r\nfunction getUniformsLocation(gl, program, uniforms) {\r\n    const out = {};\r\n    for (const key in uniforms) {\r\n        out[key] = gl.getUniformLocation(program, uniforms[key]);\r\n    }\r\n    return out;\r\n}\r\nexports.getUniformsLocation = getUniformsLocation;\r\nfunction fillArray(element, count) {\r\n    const arr = new Array(count);\r\n    for (let i = 0; i < count; i++)\r\n        arr[i] = typeof (element) === \"function\" ? element(i) : element;\r\n    return arr;\r\n}\r\nexports.fillArray = fillArray;\r\n//# sourceMappingURL=util.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nlet ctx;\r\nexports.setGlobalContext = (_ctx) => ctx = _ctx;\r\nexports.GlobalContext = () => ctx;\r\nexports.GL = () => exports.GlobalContext().gl;\r\n//# sourceMappingURL=global.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec3_1 = require(\"./vec3\");\r\nconst vec2_1 = require(\"./vec2\");\r\nclass Vector4 extends Array {\r\n    get x() { return this[0]; }\r\n    set x(x) { this[0] = x; }\r\n    get y() { return this[1]; }\r\n    set y(y) { this[1] = y; }\r\n    get z() { return this[2]; }\r\n    set z(z) { this[2] = z; }\r\n    get w() { return this[3]; }\r\n    set w(w) { this[3] = w; }\r\n    get magnitude() {\r\n        return Math.hypot(...this);\r\n    }\r\n    get normalized() {\r\n        const m = this.magnitude;\r\n        return this.clone().div(vec4(m, m, m, m));\r\n    }\r\n    constructor(x, y, z = 0, w = 0) {\r\n        super(x, y, z || 0, w || 0);\r\n    }\r\n    plus(v) {\r\n        this[0] += v[0];\r\n        this[1] += v[1];\r\n        this[2] += v[2];\r\n        this[3] += v[3];\r\n        return this;\r\n    }\r\n    minus(v) {\r\n        this[0] -= v[0];\r\n        this[1] -= v[1];\r\n        this[2] -= v[2];\r\n        this[3] -= v[3];\r\n        return this;\r\n    }\r\n    mul(v) {\r\n        this[0] *= v[0];\r\n        this[1] *= v[1];\r\n        this[2] *= v[2];\r\n        this[3] *= v[3];\r\n        return this;\r\n    }\r\n    div(v) {\r\n        this[0] /= v[0];\r\n        this[1] /= v[1];\r\n        this[2] /= v[2];\r\n        this[3] /= v[3];\r\n        return this;\r\n    }\r\n    dot(v) {\r\n        return this[0] * v[0]\r\n            + this[1] * v[1]\r\n            + this[2] * v[2]\r\n            + this[3] * v[3];\r\n    }\r\n    normalise() {\r\n        const m = this.magnitude;\r\n        return this.clone().div(vec4(m, m, m, m));\r\n    }\r\n    clone() {\r\n        return vec4(this[0], this[1], this[2], this[3]);\r\n    }\r\n    to(type) {\r\n        switch (type) {\r\n            case Vector4:\r\n                return this.clone();\r\n            case vec3_1.Vector3:\r\n                return vec3_1.vec3(this[0], this[1], this[2]);\r\n            case vec2_1.Vector2:\r\n                return vec2_1.vec2(this[0], this[1]);\r\n        }\r\n        return this.clone();\r\n    }\r\n}\r\nexports.Vector4 = Vector4;\r\nfunction vec4(x, y, z, w) {\r\n    return new Vector4(x, y, z, w);\r\n}\r\nexports.vec4 = vec4;\r\n//# sourceMappingURL=vec4.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec4_1 = require(\"./vec4\");\r\nclass Color extends vec4_1.Vector4 {\r\n    get r() { return this[0]; }\r\n    set r(r) { this[0] = r; }\r\n    get g() { return this[1]; }\r\n    set g(g) { this[1] = g; }\r\n    get b() { return this[2]; }\r\n    set b(b) { this[2] = b; }\r\n    get a() { return this[3]; }\r\n    set a(a) { this[3] = a; }\r\n    constructor(r, g, b, a = 1) {\r\n        super(r, g, b, a);\r\n    }\r\n    static get white() { return new Color(1, 1, 1); }\r\n    static get transparent() { return new Color(1, 1, 1, 0); }\r\n    static get black() { return new Color(0, 0, 0); }\r\n    static get red() { return new Color(1, 0, 0); }\r\n    static get green() { return new Color(0, 1, 0); }\r\n    static get blue() { return new Color(0, 0, 1); }\r\n}\r\nexports.Color = Color;\r\nexports.rgba = (r, g, b, a = 1) => new Color(r, g, b, a);\r\nexports.rgb = (r, g, b) => new Color(r, g, b, 1);\r\n//# sourceMappingURL=color.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nrequire(\"reflect-metadata\");\r\nconst global_1 = require(\"./global\");\r\nrequire(\"reflect-metadata\");\r\nclass Material {\r\n    constructor(shader, gl = global_1.GL()) {\r\n        this.propertyBlock = {};\r\n        this.gl = gl;\r\n        this.shader = shader;\r\n    }\r\n    setup(data) {\r\n        var _a;\r\n        const gl = data.gl;\r\n        gl.useProgram(this.shader.program);\r\n        for (const key in this.propertyBlock) {\r\n            const prop = this.propertyBlock[key];\r\n            switch (prop.type) {\r\n                case \"float\":\r\n                    gl.uniform1f(prop.location, this[key]);\r\n                    break;\r\n                case \"vec2\":\r\n                    gl.uniform2fv(prop.location, this[key]);\r\n                    break;\r\n                case \"vec3\":\r\n                    gl.uniform3fv(prop.location, this[key]);\r\n                    break;\r\n                case \"vec4\":\r\n                    gl.uniform4fv(prop.location, this[key]);\r\n                    break;\r\n                case \"color\":\r\n                    gl.uniform4fv(prop.location, this[key]);\r\n                    break;\r\n                case \"mat4\":\r\n                    gl.uniformMatrix4fv(prop.location, false, this[key]);\r\n                    break;\r\n                case \"tex2d\":\r\n                    if (!this[key])\r\n                        data.assets.DefaultTexture.bind(prop.location, data);\r\n                    else\r\n                        (_a = (this[key] || null)) === null || _a === void 0 ? void 0 : _a.bind(prop.location, data);\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n    setProp(name, type, value) {\r\n        if (this.propertyBlock[name]) {\r\n            this.propertyBlock[name].type = type;\r\n        }\r\n        else {\r\n            const loc = this.gl.getUniformLocation(this.shader.program, name);\r\n            if (loc) {\r\n                this.propertyBlock[name] = {\r\n                    location: loc,\r\n                    type: type\r\n                };\r\n            }\r\n        }\r\n        this[name] = value;\r\n    }\r\n}\r\nexports.Material = Material;\r\nconst shaderPropMetaKey = Symbol(\"shaderProp\");\r\nfunction shaderProp(name, type) {\r\n    return Reflect.metadata(shaderPropMetaKey, { name: name, type: type });\r\n}\r\nexports.shaderProp = shaderProp;\r\nfunction getShaderProp(target, propKey) {\r\n    return Reflect.getMetadata(shaderPropMetaKey, target, propKey);\r\n}\r\nfunction MaterialFromShader(shader) {\r\n    return class Mat extends Material {\r\n        constructor(gl = global_1.GL()) {\r\n            super(shader, gl);\r\n        }\r\n    };\r\n}\r\nexports.MaterialFromShader = MaterialFromShader;\r\nfunction materialDefine(constructor) {\r\n    return class extends constructor {\r\n        constructor(...arg) {\r\n            var _a;\r\n            super(...arg);\r\n            const gl = this.gl;\r\n            const shader = this.shader;\r\n            const propertyBlock = this.propertyBlock;\r\n            for (const key in this) {\r\n                const prop = getShaderProp(this, key);\r\n                if (!prop)\r\n                    continue;\r\n                const loc = gl.getUniformLocation(shader.program, (_a = prop) === null || _a === void 0 ? void 0 : _a.name);\r\n                if (!loc)\r\n                    continue;\r\n                propertyBlock[key] = {\r\n                    type: prop.type,\r\n                    location: loc,\r\n                };\r\n            }\r\n            this.propertyBlock = propertyBlock;\r\n        }\r\n    };\r\n}\r\nexports.materialDefine = materialDefine;\r\n//# sourceMappingURL=material.js.map","/*! *****************************************************************************\nCopyright (C) Microsoft. All rights reserved.\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\nthis file except in compliance with the License. You may obtain a copy of the\nLicense at http://www.apache.org/licenses/LICENSE-2.0\n\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\nMERCHANTABLITY OR NON-INFRINGEMENT.\n\nSee the Apache Version 2.0 License for specific language governing permissions\nand limitations under the License.\n***************************************************************************** */\nvar Reflect;\n(function (Reflect) {\n    // Metadata Proposal\n    // https://rbuckton.github.io/reflect-metadata/\n    (function (factory) {\n        var root = typeof global === \"object\" ? global :\n            typeof self === \"object\" ? self :\n                typeof this === \"object\" ? this :\n                    Function(\"return this;\")();\n        var exporter = makeExporter(Reflect);\n        if (typeof root.Reflect === \"undefined\") {\n            root.Reflect = Reflect;\n        }\n        else {\n            exporter = makeExporter(root.Reflect, exporter);\n        }\n        factory(exporter);\n        function makeExporter(target, previous) {\n            return function (key, value) {\n                if (typeof target[key] !== \"function\") {\n                    Object.defineProperty(target, key, { configurable: true, writable: true, value: value });\n                }\n                if (previous)\n                    previous(key, value);\n            };\n        }\n    })(function (exporter) {\n        var hasOwn = Object.prototype.hasOwnProperty;\n        // feature test for Symbol support\n        var supportsSymbol = typeof Symbol === \"function\";\n        var toPrimitiveSymbol = supportsSymbol && typeof Symbol.toPrimitive !== \"undefined\" ? Symbol.toPrimitive : \"@@toPrimitive\";\n        var iteratorSymbol = supportsSymbol && typeof Symbol.iterator !== \"undefined\" ? Symbol.iterator : \"@@iterator\";\n        var supportsCreate = typeof Object.create === \"function\"; // feature test for Object.create support\n        var supportsProto = { __proto__: [] } instanceof Array; // feature test for __proto__ support\n        var downLevel = !supportsCreate && !supportsProto;\n        var HashMap = {\n            // create an object in dictionary mode (a.k.a. \"slow\" mode in v8)\n            create: supportsCreate\n                ? function () { return MakeDictionary(Object.create(null)); }\n                : supportsProto\n                    ? function () { return MakeDictionary({ __proto__: null }); }\n                    : function () { return MakeDictionary({}); },\n            has: downLevel\n                ? function (map, key) { return hasOwn.call(map, key); }\n                : function (map, key) { return key in map; },\n            get: downLevel\n                ? function (map, key) { return hasOwn.call(map, key) ? map[key] : undefined; }\n                : function (map, key) { return map[key]; },\n        };\n        // Load global or shim versions of Map, Set, and WeakMap\n        var functionPrototype = Object.getPrototypeOf(Function);\n        var usePolyfill = typeof process === \"object\" && process.env && process.env[\"REFLECT_METADATA_USE_MAP_POLYFILL\"] === \"true\";\n        var _Map = !usePolyfill && typeof Map === \"function\" && typeof Map.prototype.entries === \"function\" ? Map : CreateMapPolyfill();\n        var _Set = !usePolyfill && typeof Set === \"function\" && typeof Set.prototype.entries === \"function\" ? Set : CreateSetPolyfill();\n        var _WeakMap = !usePolyfill && typeof WeakMap === \"function\" ? WeakMap : CreateWeakMapPolyfill();\n        // [[Metadata]] internal slot\n        // https://rbuckton.github.io/reflect-metadata/#ordinary-object-internal-methods-and-internal-slots\n        var Metadata = new _WeakMap();\n        /**\n         * Applies a set of decorators to a property of a target object.\n         * @param decorators An array of decorators.\n         * @param target The target object.\n         * @param propertyKey (Optional) The property key to decorate.\n         * @param attributes (Optional) The property descriptor for the target key.\n         * @remarks Decorators are applied in reverse order.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Example = Reflect.decorate(decoratorsArray, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.decorate(decoratorsArray, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.decorate(decoratorsArray, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Object.defineProperty(Example, \"staticMethod\",\n         *         Reflect.decorate(decoratorsArray, Example, \"staticMethod\",\n         *             Object.getOwnPropertyDescriptor(Example, \"staticMethod\")));\n         *\n         *     // method (on prototype)\n         *     Object.defineProperty(Example.prototype, \"method\",\n         *         Reflect.decorate(decoratorsArray, Example.prototype, \"method\",\n         *             Object.getOwnPropertyDescriptor(Example.prototype, \"method\")));\n         *\n         */\n        function decorate(decorators, target, propertyKey, attributes) {\n            if (!IsUndefined(propertyKey)) {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsObject(attributes) && !IsUndefined(attributes) && !IsNull(attributes))\n                    throw new TypeError();\n                if (IsNull(attributes))\n                    attributes = undefined;\n                propertyKey = ToPropertyKey(propertyKey);\n                return DecorateProperty(decorators, target, propertyKey, attributes);\n            }\n            else {\n                if (!IsArray(decorators))\n                    throw new TypeError();\n                if (!IsConstructor(target))\n                    throw new TypeError();\n                return DecorateConstructor(decorators, target);\n            }\n        }\n        exporter(\"decorate\", decorate);\n        // 4.1.2 Reflect.metadata(metadataKey, metadataValue)\n        // https://rbuckton.github.io/reflect-metadata/#reflect.metadata\n        /**\n         * A default metadata decorator factory that can be used on a class, class member, or parameter.\n         * @param metadataKey The key for the metadata entry.\n         * @param metadataValue The value for the metadata entry.\n         * @returns A decorator function.\n         * @remarks\n         * If `metadataKey` is already defined for the target and target key, the\n         * metadataValue for that key will be overwritten.\n         * @example\n         *\n         *     // constructor\n         *     @Reflect.metadata(key, value)\n         *     class Example {\n         *     }\n         *\n         *     // property (on constructor, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticProperty;\n         *     }\n         *\n         *     // property (on prototype, TypeScript only)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         property;\n         *     }\n         *\n         *     // method (on constructor)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         static staticMethod() { }\n         *     }\n         *\n         *     // method (on prototype)\n         *     class Example {\n         *         @Reflect.metadata(key, value)\n         *         method() { }\n         *     }\n         *\n         */\n        function metadata(metadataKey, metadataValue) {\n            function decorator(target, propertyKey) {\n                if (!IsObject(target))\n                    throw new TypeError();\n                if (!IsUndefined(propertyKey) && !IsPropertyKey(propertyKey))\n                    throw new TypeError();\n                OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n            }\n            return decorator;\n        }\n        exporter(\"metadata\", metadata);\n        /**\n         * Define a unique metadata entry on the target.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param metadataValue A value that contains attached metadata.\n         * @param target The target object on which to define metadata.\n         * @param propertyKey (Optional) The property key for the target.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example);\n         *\n         *     // property (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     Reflect.defineMetadata(\"custom:annotation\", options, Example.prototype, \"method\");\n         *\n         *     // decorator factory as metadata-producing annotation.\n         *     function MyAnnotation(options): Decorator {\n         *         return (target, key?) => Reflect.defineMetadata(\"custom:annotation\", options, target, key);\n         *     }\n         *\n         */\n        function defineMetadata(metadataKey, metadataValue, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryDefineOwnMetadata(metadataKey, metadataValue, target, propertyKey);\n        }\n        exporter(\"defineMetadata\", defineMetadata);\n        /**\n         * Gets a value indicating whether the target object or its prototype chain has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object or its prototype chain; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasMetadata\", hasMetadata);\n        /**\n         * Gets a value indicating whether the target object has the provided metadata key defined.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata key was defined on the target object; otherwise, `false`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.hasOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function hasOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryHasOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"hasOwnMetadata\", hasOwnMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object or its prototype chain.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getMetadata\", getMetadata);\n        /**\n         * Gets the metadata value for the provided metadata key on the target object.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns The metadata value for the metadata key if found; otherwise, `undefined`.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryGetOwnMetadata(metadataKey, target, propertyKey);\n        }\n        exporter(\"getOwnMetadata\", getOwnMetadata);\n        /**\n         * Gets the metadata keys defined on the target object or its prototype chain.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getMetadataKeys\", getMetadataKeys);\n        /**\n         * Gets the unique metadata keys defined on the target object.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns An array of unique metadata keys.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.getOwnMetadataKeys(Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.getOwnMetadataKeys(Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.getOwnMetadataKeys(Example.prototype, \"method\");\n         *\n         */\n        function getOwnMetadataKeys(target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            return OrdinaryOwnMetadataKeys(target, propertyKey);\n        }\n        exporter(\"getOwnMetadataKeys\", getOwnMetadataKeys);\n        /**\n         * Deletes the metadata entry from the target object with the provided key.\n         * @param metadataKey A key used to store and retrieve metadata.\n         * @param target The target object on which the metadata is defined.\n         * @param propertyKey (Optional) The property key for the target.\n         * @returns `true` if the metadata entry was found and deleted; otherwise, false.\n         * @example\n         *\n         *     class Example {\n         *         // property declarations are not part of ES6, though they are valid in TypeScript:\n         *         // static staticProperty;\n         *         // property;\n         *\n         *         constructor(p) { }\n         *         static staticMethod(p) { }\n         *         method(p) { }\n         *     }\n         *\n         *     // constructor\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example);\n         *\n         *     // property (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticProperty\");\n         *\n         *     // property (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"property\");\n         *\n         *     // method (on constructor)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example, \"staticMethod\");\n         *\n         *     // method (on prototype)\n         *     result = Reflect.deleteMetadata(\"custom:annotation\", Example.prototype, \"method\");\n         *\n         */\n        function deleteMetadata(metadataKey, target, propertyKey) {\n            if (!IsObject(target))\n                throw new TypeError();\n            if (!IsUndefined(propertyKey))\n                propertyKey = ToPropertyKey(propertyKey);\n            var metadataMap = GetOrCreateMetadataMap(target, propertyKey, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            if (!metadataMap.delete(metadataKey))\n                return false;\n            if (metadataMap.size > 0)\n                return true;\n            var targetMetadata = Metadata.get(target);\n            targetMetadata.delete(propertyKey);\n            if (targetMetadata.size > 0)\n                return true;\n            Metadata.delete(target);\n            return true;\n        }\n        exporter(\"deleteMetadata\", deleteMetadata);\n        function DecorateConstructor(decorators, target) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsConstructor(decorated))\n                        throw new TypeError();\n                    target = decorated;\n                }\n            }\n            return target;\n        }\n        function DecorateProperty(decorators, target, propertyKey, descriptor) {\n            for (var i = decorators.length - 1; i >= 0; --i) {\n                var decorator = decorators[i];\n                var decorated = decorator(target, propertyKey, descriptor);\n                if (!IsUndefined(decorated) && !IsNull(decorated)) {\n                    if (!IsObject(decorated))\n                        throw new TypeError();\n                    descriptor = decorated;\n                }\n            }\n            return descriptor;\n        }\n        function GetOrCreateMetadataMap(O, P, Create) {\n            var targetMetadata = Metadata.get(O);\n            if (IsUndefined(targetMetadata)) {\n                if (!Create)\n                    return undefined;\n                targetMetadata = new _Map();\n                Metadata.set(O, targetMetadata);\n            }\n            var metadataMap = targetMetadata.get(P);\n            if (IsUndefined(metadataMap)) {\n                if (!Create)\n                    return undefined;\n                metadataMap = new _Map();\n                targetMetadata.set(P, metadataMap);\n            }\n            return metadataMap;\n        }\n        // 3.1.1.1 OrdinaryHasMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasmetadata\n        function OrdinaryHasMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return true;\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryHasMetadata(MetadataKey, parent, P);\n            return false;\n        }\n        // 3.1.2.1 OrdinaryHasOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryhasownmetadata\n        function OrdinaryHasOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return false;\n            return ToBoolean(metadataMap.has(MetadataKey));\n        }\n        // 3.1.3.1 OrdinaryGetMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetmetadata\n        function OrdinaryGetMetadata(MetadataKey, O, P) {\n            var hasOwn = OrdinaryHasOwnMetadata(MetadataKey, O, P);\n            if (hasOwn)\n                return OrdinaryGetOwnMetadata(MetadataKey, O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (!IsNull(parent))\n                return OrdinaryGetMetadata(MetadataKey, parent, P);\n            return undefined;\n        }\n        // 3.1.4.1 OrdinaryGetOwnMetadata(MetadataKey, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarygetownmetadata\n        function OrdinaryGetOwnMetadata(MetadataKey, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return undefined;\n            return metadataMap.get(MetadataKey);\n        }\n        // 3.1.5.1 OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarydefineownmetadata\n        function OrdinaryDefineOwnMetadata(MetadataKey, MetadataValue, O, P) {\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ true);\n            metadataMap.set(MetadataKey, MetadataValue);\n        }\n        // 3.1.6.1 OrdinaryMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinarymetadatakeys\n        function OrdinaryMetadataKeys(O, P) {\n            var ownKeys = OrdinaryOwnMetadataKeys(O, P);\n            var parent = OrdinaryGetPrototypeOf(O);\n            if (parent === null)\n                return ownKeys;\n            var parentKeys = OrdinaryMetadataKeys(parent, P);\n            if (parentKeys.length <= 0)\n                return ownKeys;\n            if (ownKeys.length <= 0)\n                return parentKeys;\n            var set = new _Set();\n            var keys = [];\n            for (var _i = 0, ownKeys_1 = ownKeys; _i < ownKeys_1.length; _i++) {\n                var key = ownKeys_1[_i];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            for (var _a = 0, parentKeys_1 = parentKeys; _a < parentKeys_1.length; _a++) {\n                var key = parentKeys_1[_a];\n                var hasKey = set.has(key);\n                if (!hasKey) {\n                    set.add(key);\n                    keys.push(key);\n                }\n            }\n            return keys;\n        }\n        // 3.1.7.1 OrdinaryOwnMetadataKeys(O, P)\n        // https://rbuckton.github.io/reflect-metadata/#ordinaryownmetadatakeys\n        function OrdinaryOwnMetadataKeys(O, P) {\n            var keys = [];\n            var metadataMap = GetOrCreateMetadataMap(O, P, /*Create*/ false);\n            if (IsUndefined(metadataMap))\n                return keys;\n            var keysObj = metadataMap.keys();\n            var iterator = GetIterator(keysObj);\n            var k = 0;\n            while (true) {\n                var next = IteratorStep(iterator);\n                if (!next) {\n                    keys.length = k;\n                    return keys;\n                }\n                var nextValue = IteratorValue(next);\n                try {\n                    keys[k] = nextValue;\n                }\n                catch (e) {\n                    try {\n                        IteratorClose(iterator);\n                    }\n                    finally {\n                        throw e;\n                    }\n                }\n                k++;\n            }\n        }\n        // 6 ECMAScript Data Typ0es and Values\n        // https://tc39.github.io/ecma262/#sec-ecmascript-data-types-and-values\n        function Type(x) {\n            if (x === null)\n                return 1 /* Null */;\n            switch (typeof x) {\n                case \"undefined\": return 0 /* Undefined */;\n                case \"boolean\": return 2 /* Boolean */;\n                case \"string\": return 3 /* String */;\n                case \"symbol\": return 4 /* Symbol */;\n                case \"number\": return 5 /* Number */;\n                case \"object\": return x === null ? 1 /* Null */ : 6 /* Object */;\n                default: return 6 /* Object */;\n            }\n        }\n        // 6.1.1 The Undefined Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-undefined-type\n        function IsUndefined(x) {\n            return x === undefined;\n        }\n        // 6.1.2 The Null Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-null-type\n        function IsNull(x) {\n            return x === null;\n        }\n        // 6.1.5 The Symbol Type\n        // https://tc39.github.io/ecma262/#sec-ecmascript-language-types-symbol-type\n        function IsSymbol(x) {\n            return typeof x === \"symbol\";\n        }\n        // 6.1.7 The Object Type\n        // https://tc39.github.io/ecma262/#sec-object-type\n        function IsObject(x) {\n            return typeof x === \"object\" ? x !== null : typeof x === \"function\";\n        }\n        // 7.1 Type Conversion\n        // https://tc39.github.io/ecma262/#sec-type-conversion\n        // 7.1.1 ToPrimitive(input [, PreferredType])\n        // https://tc39.github.io/ecma262/#sec-toprimitive\n        function ToPrimitive(input, PreferredType) {\n            switch (Type(input)) {\n                case 0 /* Undefined */: return input;\n                case 1 /* Null */: return input;\n                case 2 /* Boolean */: return input;\n                case 3 /* String */: return input;\n                case 4 /* Symbol */: return input;\n                case 5 /* Number */: return input;\n            }\n            var hint = PreferredType === 3 /* String */ ? \"string\" : PreferredType === 5 /* Number */ ? \"number\" : \"default\";\n            var exoticToPrim = GetMethod(input, toPrimitiveSymbol);\n            if (exoticToPrim !== undefined) {\n                var result = exoticToPrim.call(input, hint);\n                if (IsObject(result))\n                    throw new TypeError();\n                return result;\n            }\n            return OrdinaryToPrimitive(input, hint === \"default\" ? \"number\" : hint);\n        }\n        // 7.1.1.1 OrdinaryToPrimitive(O, hint)\n        // https://tc39.github.io/ecma262/#sec-ordinarytoprimitive\n        function OrdinaryToPrimitive(O, hint) {\n            if (hint === \"string\") {\n                var toString_1 = O.toString;\n                if (IsCallable(toString_1)) {\n                    var result = toString_1.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            else {\n                var valueOf = O.valueOf;\n                if (IsCallable(valueOf)) {\n                    var result = valueOf.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n                var toString_2 = O.toString;\n                if (IsCallable(toString_2)) {\n                    var result = toString_2.call(O);\n                    if (!IsObject(result))\n                        return result;\n                }\n            }\n            throw new TypeError();\n        }\n        // 7.1.2 ToBoolean(argument)\n        // https://tc39.github.io/ecma262/2016/#sec-toboolean\n        function ToBoolean(argument) {\n            return !!argument;\n        }\n        // 7.1.12 ToString(argument)\n        // https://tc39.github.io/ecma262/#sec-tostring\n        function ToString(argument) {\n            return \"\" + argument;\n        }\n        // 7.1.14 ToPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-topropertykey\n        function ToPropertyKey(argument) {\n            var key = ToPrimitive(argument, 3 /* String */);\n            if (IsSymbol(key))\n                return key;\n            return ToString(key);\n        }\n        // 7.2 Testing and Comparison Operations\n        // https://tc39.github.io/ecma262/#sec-testing-and-comparison-operations\n        // 7.2.2 IsArray(argument)\n        // https://tc39.github.io/ecma262/#sec-isarray\n        function IsArray(argument) {\n            return Array.isArray\n                ? Array.isArray(argument)\n                : argument instanceof Object\n                    ? argument instanceof Array\n                    : Object.prototype.toString.call(argument) === \"[object Array]\";\n        }\n        // 7.2.3 IsCallable(argument)\n        // https://tc39.github.io/ecma262/#sec-iscallable\n        function IsCallable(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Call]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.4 IsConstructor(argument)\n        // https://tc39.github.io/ecma262/#sec-isconstructor\n        function IsConstructor(argument) {\n            // NOTE: This is an approximation as we cannot check for [[Construct]] internal method.\n            return typeof argument === \"function\";\n        }\n        // 7.2.7 IsPropertyKey(argument)\n        // https://tc39.github.io/ecma262/#sec-ispropertykey\n        function IsPropertyKey(argument) {\n            switch (Type(argument)) {\n                case 3 /* String */: return true;\n                case 4 /* Symbol */: return true;\n                default: return false;\n            }\n        }\n        // 7.3 Operations on Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-objects\n        // 7.3.9 GetMethod(V, P)\n        // https://tc39.github.io/ecma262/#sec-getmethod\n        function GetMethod(V, P) {\n            var func = V[P];\n            if (func === undefined || func === null)\n                return undefined;\n            if (!IsCallable(func))\n                throw new TypeError();\n            return func;\n        }\n        // 7.4 Operations on Iterator Objects\n        // https://tc39.github.io/ecma262/#sec-operations-on-iterator-objects\n        function GetIterator(obj) {\n            var method = GetMethod(obj, iteratorSymbol);\n            if (!IsCallable(method))\n                throw new TypeError(); // from Call\n            var iterator = method.call(obj);\n            if (!IsObject(iterator))\n                throw new TypeError();\n            return iterator;\n        }\n        // 7.4.4 IteratorValue(iterResult)\n        // https://tc39.github.io/ecma262/2016/#sec-iteratorvalue\n        function IteratorValue(iterResult) {\n            return iterResult.value;\n        }\n        // 7.4.5 IteratorStep(iterator)\n        // https://tc39.github.io/ecma262/#sec-iteratorstep\n        function IteratorStep(iterator) {\n            var result = iterator.next();\n            return result.done ? false : result;\n        }\n        // 7.4.6 IteratorClose(iterator, completion)\n        // https://tc39.github.io/ecma262/#sec-iteratorclose\n        function IteratorClose(iterator) {\n            var f = iterator[\"return\"];\n            if (f)\n                f.call(iterator);\n        }\n        // 9.1 Ordinary Object Internal Methods and Internal Slots\n        // https://tc39.github.io/ecma262/#sec-ordinary-object-internal-methods-and-internal-slots\n        // 9.1.1.1 OrdinaryGetPrototypeOf(O)\n        // https://tc39.github.io/ecma262/#sec-ordinarygetprototypeof\n        function OrdinaryGetPrototypeOf(O) {\n            var proto = Object.getPrototypeOf(O);\n            if (typeof O !== \"function\" || O === functionPrototype)\n                return proto;\n            // TypeScript doesn't set __proto__ in ES5, as it's non-standard.\n            // Try to determine the superclass constructor. Compatible implementations\n            // must either set __proto__ on a subclass constructor to the superclass constructor,\n            // or ensure each class has a valid `constructor` property on its prototype that\n            // points back to the constructor.\n            // If this is not the same as Function.[[Prototype]], then this is definately inherited.\n            // This is the case when in ES6 or when using __proto__ in a compatible browser.\n            if (proto !== functionPrototype)\n                return proto;\n            // If the super prototype is Object.prototype, null, or undefined, then we cannot determine the heritage.\n            var prototype = O.prototype;\n            var prototypeProto = prototype && Object.getPrototypeOf(prototype);\n            if (prototypeProto == null || prototypeProto === Object.prototype)\n                return proto;\n            // If the constructor was not a function, then we cannot determine the heritage.\n            var constructor = prototypeProto.constructor;\n            if (typeof constructor !== \"function\")\n                return proto;\n            // If we have some kind of self-reference, then we cannot determine the heritage.\n            if (constructor === O)\n                return proto;\n            // we have a pretty good guess at the heritage.\n            return constructor;\n        }\n        // naive Map shim\n        function CreateMapPolyfill() {\n            var cacheSentinel = {};\n            var arraySentinel = [];\n            var MapIterator = /** @class */ (function () {\n                function MapIterator(keys, values, selector) {\n                    this._index = 0;\n                    this._keys = keys;\n                    this._values = values;\n                    this._selector = selector;\n                }\n                MapIterator.prototype[\"@@iterator\"] = function () { return this; };\n                MapIterator.prototype[iteratorSymbol] = function () { return this; };\n                MapIterator.prototype.next = function () {\n                    var index = this._index;\n                    if (index >= 0 && index < this._keys.length) {\n                        var result = this._selector(this._keys[index], this._values[index]);\n                        if (index + 1 >= this._keys.length) {\n                            this._index = -1;\n                            this._keys = arraySentinel;\n                            this._values = arraySentinel;\n                        }\n                        else {\n                            this._index++;\n                        }\n                        return { value: result, done: false };\n                    }\n                    return { value: undefined, done: true };\n                };\n                MapIterator.prototype.throw = function (error) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    throw error;\n                };\n                MapIterator.prototype.return = function (value) {\n                    if (this._index >= 0) {\n                        this._index = -1;\n                        this._keys = arraySentinel;\n                        this._values = arraySentinel;\n                    }\n                    return { value: value, done: true };\n                };\n                return MapIterator;\n            }());\n            return /** @class */ (function () {\n                function Map() {\n                    this._keys = [];\n                    this._values = [];\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                }\n                Object.defineProperty(Map.prototype, \"size\", {\n                    get: function () { return this._keys.length; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Map.prototype.has = function (key) { return this._find(key, /*insert*/ false) >= 0; };\n                Map.prototype.get = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    return index >= 0 ? this._values[index] : undefined;\n                };\n                Map.prototype.set = function (key, value) {\n                    var index = this._find(key, /*insert*/ true);\n                    this._values[index] = value;\n                    return this;\n                };\n                Map.prototype.delete = function (key) {\n                    var index = this._find(key, /*insert*/ false);\n                    if (index >= 0) {\n                        var size = this._keys.length;\n                        for (var i = index + 1; i < size; i++) {\n                            this._keys[i - 1] = this._keys[i];\n                            this._values[i - 1] = this._values[i];\n                        }\n                        this._keys.length--;\n                        this._values.length--;\n                        if (key === this._cacheKey) {\n                            this._cacheKey = cacheSentinel;\n                            this._cacheIndex = -2;\n                        }\n                        return true;\n                    }\n                    return false;\n                };\n                Map.prototype.clear = function () {\n                    this._keys.length = 0;\n                    this._values.length = 0;\n                    this._cacheKey = cacheSentinel;\n                    this._cacheIndex = -2;\n                };\n                Map.prototype.keys = function () { return new MapIterator(this._keys, this._values, getKey); };\n                Map.prototype.values = function () { return new MapIterator(this._keys, this._values, getValue); };\n                Map.prototype.entries = function () { return new MapIterator(this._keys, this._values, getEntry); };\n                Map.prototype[\"@@iterator\"] = function () { return this.entries(); };\n                Map.prototype[iteratorSymbol] = function () { return this.entries(); };\n                Map.prototype._find = function (key, insert) {\n                    if (this._cacheKey !== key) {\n                        this._cacheIndex = this._keys.indexOf(this._cacheKey = key);\n                    }\n                    if (this._cacheIndex < 0 && insert) {\n                        this._cacheIndex = this._keys.length;\n                        this._keys.push(key);\n                        this._values.push(undefined);\n                    }\n                    return this._cacheIndex;\n                };\n                return Map;\n            }());\n            function getKey(key, _) {\n                return key;\n            }\n            function getValue(_, value) {\n                return value;\n            }\n            function getEntry(key, value) {\n                return [key, value];\n            }\n        }\n        // naive Set shim\n        function CreateSetPolyfill() {\n            return /** @class */ (function () {\n                function Set() {\n                    this._map = new _Map();\n                }\n                Object.defineProperty(Set.prototype, \"size\", {\n                    get: function () { return this._map.size; },\n                    enumerable: true,\n                    configurable: true\n                });\n                Set.prototype.has = function (value) { return this._map.has(value); };\n                Set.prototype.add = function (value) { return this._map.set(value, value), this; };\n                Set.prototype.delete = function (value) { return this._map.delete(value); };\n                Set.prototype.clear = function () { this._map.clear(); };\n                Set.prototype.keys = function () { return this._map.keys(); };\n                Set.prototype.values = function () { return this._map.values(); };\n                Set.prototype.entries = function () { return this._map.entries(); };\n                Set.prototype[\"@@iterator\"] = function () { return this.keys(); };\n                Set.prototype[iteratorSymbol] = function () { return this.keys(); };\n                return Set;\n            }());\n        }\n        // naive WeakMap shim\n        function CreateWeakMapPolyfill() {\n            var UUID_SIZE = 16;\n            var keys = HashMap.create();\n            var rootKey = CreateUniqueKey();\n            return /** @class */ (function () {\n                function WeakMap() {\n                    this._key = CreateUniqueKey();\n                }\n                WeakMap.prototype.has = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.has(table, this._key) : false;\n                };\n                WeakMap.prototype.get = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? HashMap.get(table, this._key) : undefined;\n                };\n                WeakMap.prototype.set = function (target, value) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ true);\n                    table[this._key] = value;\n                    return this;\n                };\n                WeakMap.prototype.delete = function (target) {\n                    var table = GetOrCreateWeakMapTable(target, /*create*/ false);\n                    return table !== undefined ? delete table[this._key] : false;\n                };\n                WeakMap.prototype.clear = function () {\n                    // NOTE: not a real clear, just makes the previous data unreachable\n                    this._key = CreateUniqueKey();\n                };\n                return WeakMap;\n            }());\n            function CreateUniqueKey() {\n                var key;\n                do\n                    key = \"@@WeakMap@@\" + CreateUUID();\n                while (HashMap.has(keys, key));\n                keys[key] = true;\n                return key;\n            }\n            function GetOrCreateWeakMapTable(target, create) {\n                if (!hasOwn.call(target, rootKey)) {\n                    if (!create)\n                        return undefined;\n                    Object.defineProperty(target, rootKey, { value: HashMap.create() });\n                }\n                return target[rootKey];\n            }\n            function FillRandomBytes(buffer, size) {\n                for (var i = 0; i < size; ++i)\n                    buffer[i] = Math.random() * 0xff | 0;\n                return buffer;\n            }\n            function GenRandomBytes(size) {\n                if (typeof Uint8Array === \"function\") {\n                    if (typeof crypto !== \"undefined\")\n                        return crypto.getRandomValues(new Uint8Array(size));\n                    if (typeof msCrypto !== \"undefined\")\n                        return msCrypto.getRandomValues(new Uint8Array(size));\n                    return FillRandomBytes(new Uint8Array(size), size);\n                }\n                return FillRandomBytes(new Array(size), size);\n            }\n            function CreateUUID() {\n                var data = GenRandomBytes(UUID_SIZE);\n                // mark as random - RFC 4122  4.4\n                data[6] = data[6] & 0x4f | 0x40;\n                data[8] = data[8] & 0xbf | 0x80;\n                var result = \"\";\n                for (var offset = 0; offset < UUID_SIZE; ++offset) {\n                    var byte = data[offset];\n                    if (offset === 4 || offset === 6 || offset === 8)\n                        result += \"-\";\n                    if (byte < 16)\n                        result += \"0\";\n                    result += byte.toString(16).toLowerCase();\n                }\n                return result;\n            }\n        }\n        // uses a heuristic used by v8 and chakra to force an object into dictionary mode.\n        function MakeDictionary(obj) {\n            obj.__ = undefined;\n            delete obj.__;\n            return obj;\n        }\n    });\n})(Reflect || (Reflect = {}));\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst global_1 = require(\"./global\");\r\nconst texture_format_1 = require(\"./texture-format\");\r\nconst util_1 = require(\"../utils/util\");\r\nvar FilterMode;\r\n(function (FilterMode) {\r\n    FilterMode[FilterMode[\"Linear\"] = WebGL2RenderingContext.LINEAR] = \"Linear\";\r\n    FilterMode[FilterMode[\"Nearest\"] = WebGL2RenderingContext.NEAREST] = \"Nearest\";\r\n})(FilterMode = exports.FilterMode || (exports.FilterMode = {}));\r\nvar WrapMode;\r\n(function (WrapMode) {\r\n    WrapMode[WrapMode[\"Repeat\"] = WebGL2RenderingContext.REPEAT] = \"Repeat\";\r\n    WrapMode[WrapMode[\"Clamp\"] = WebGL2RenderingContext.CLAMP_TO_EDGE] = \"Clamp\";\r\n    WrapMode[WrapMode[\"Mirror\"] = WebGL2RenderingContext.MIRRORED_REPEAT] = \"Mirror\";\r\n})(WrapMode = exports.WrapMode || (exports.WrapMode = {}));\r\nclass TextureBase {\r\n    constructor(width, height, format = texture_format_1.TextureFormat.RGBA, filterMode = FilterMode.Linear, ctx = global_1.GlobalContext()) {\r\n        var _a;\r\n        this.mipmapLevel = 0;\r\n        this.wrapMode = WrapMode.Repeat;\r\n        const gl = ctx.gl;\r\n        this.ctx = ctx;\r\n        this.format = format;\r\n        this.width = width;\r\n        this.height = height;\r\n        this.filterMode = filterMode;\r\n        this.glTex = (_a = gl.createTexture(), (_a !== null && _a !== void 0 ? _a : util_1.panic(\"Failed to create texture.\")));\r\n    }\r\n    setup() {\r\n        const gl = this.ctx.gl;\r\n        gl.bindTexture(gl.TEXTURE_2D, this.glTex);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, this.filterMode);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, this.filterMode);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, this.wrapMode);\r\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, this.wrapMode);\r\n    }\r\n    bind(location, data) {\r\n        const gl = data.gl;\r\n        gl.activeTexture(gl.TEXTURE0 + data.nextTextureUnit);\r\n        gl.bindTexture(gl.TEXTURE_2D, this.glTex);\r\n        gl.uniform1i(location, data.nextTextureUnit);\r\n        data.nextTextureUnit++;\r\n    }\r\n}\r\nclass Texture2D extends TextureBase {\r\n    constructor(width = 0, height = 0, format = texture_format_1.TextureFormat.RGBA, filterMode = FilterMode.Linear, ctx = global_1.GlobalContext()) {\r\n        super(width, height, format, filterMode, ctx);\r\n    }\r\n    setData(pixels) {\r\n        super.setup();\r\n        const gl = this.ctx.gl;\r\n        const [internalFormat, format, type] = texture_format_1.mapGLFormat(gl, this.format);\r\n        if (pixels.width !== undefined && pixels.height !== undefined) {\r\n            pixels = pixels;\r\n            this.width = pixels.width;\r\n            this.height = pixels.height;\r\n            gl.texImage2D(gl.TEXTURE_2D, this.mipmapLevel, internalFormat, this.width, this.height, 0, format, type, null);\r\n        }\r\n        else\r\n            gl.texImage2D(gl.TEXTURE_2D, this.mipmapLevel, internalFormat, this.width, this.height, 0, format, type, null);\r\n        flipTexture(this.ctx, this.glTex, pixels, this.width, this.height, this.format, this.filterMode, this.wrapMode, this.mipmapLevel);\r\n    }\r\n}\r\nexports.Texture2D = Texture2D;\r\nclass DepthTexture extends TextureBase {\r\n    constructor(width, height, ctx = global_1.GlobalContext()) {\r\n        super(width, height, texture_format_1.TextureFormat.DEPTH_COMPONENT, FilterMode.Nearest, ctx);\r\n    }\r\n    create() {\r\n        super.setup();\r\n        const gl = this.ctx.gl;\r\n        gl.bindTexture(gl.TEXTURE_2D, this.glTex);\r\n        const [internalFormat, format, type] = texture_format_1.mapGLFormat(gl, texture_format_1.TextureFormat.DEPTH_COMPONENT);\r\n        gl.texImage2D(gl.TEXTURE_2D, this.mipmapLevel, internalFormat, this.width, this.height, 0, format, type, null);\r\n    }\r\n}\r\nexports.DepthTexture = DepthTexture;\r\nclass RenderTexture extends TextureBase {\r\n    constructor(width, height, depth, format = texture_format_1.TextureFormat.RGBA, filterMode = FilterMode.Linear, ctx = global_1.GlobalContext()) {\r\n        super(width, height, format, filterMode, ctx);\r\n        this.depthTexture = null;\r\n        if (depth) {\r\n            this.depthTexture = new DepthTexture(width, height, ctx);\r\n        }\r\n        this.update();\r\n    }\r\n    update() {\r\n        super.setup();\r\n        const gl = this.ctx.gl;\r\n        const [internalFormat, format, type] = texture_format_1.mapGLFormat(gl, this.format);\r\n        gl.texImage2D(gl.TEXTURE_2D, this.mipmapLevel, internalFormat, this.width, this.height, 0, format, type, null);\r\n    }\r\n    setData(pixels) {\r\n        const gl = this.ctx.gl;\r\n        gl.bindTexture(gl.TEXTURE_2D, this.glTex);\r\n        const [internalFormat, format, type] = texture_format_1.mapGLFormat(gl, this.format);\r\n        gl.texImage2D(gl.TEXTURE_2D, this.mipmapLevel, internalFormat, this.width, this.height, 0, format, type, null);\r\n        flipTexture(this.ctx, this.glTex, pixels, this.width, this.height, this.format, this.filterMode, this.wrapMode, this.mipmapLevel);\r\n    }\r\n}\r\nexports.RenderTexture = RenderTexture;\r\nfunction flipTexture(ctx, dst, src, width, height, texFormat, filterMode, wrapMode, mipmapLevel) {\r\n    var _a, _b;\r\n    const gl = ctx.gl;\r\n    const srcTex = (_a = gl.createTexture(), (_a !== null && _a !== void 0 ? _a : util_1.panic(\"Failed to create texture.\")));\r\n    const [internalFormat, format, type] = texture_format_1.mapGLFormat(gl, texFormat);\r\n    gl.bindTexture(gl.TEXTURE_2D, srcTex);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapMode);\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapMode);\r\n    if (src.width !== undefined && src.height !== undefined) {\r\n        src = src;\r\n        gl.texImage2D(gl.TEXTURE_2D, mipmapLevel, internalFormat, format, type, src);\r\n    }\r\n    else {\r\n        src = src;\r\n        gl.texImage2D(gl.TEXTURE_2D, mipmapLevel, internalFormat, width, height, 0, format, type, src);\r\n    }\r\n    const fbo = (_b = gl.createFramebuffer(), (_b !== null && _b !== void 0 ? _b : util_1.panic(\"Failed to create frame buffer\")));\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);\r\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, dst, 0);\r\n    gl.viewport(0, 0, width, height);\r\n    gl.drawBuffers([gl.COLOR_ATTACHMENT0]);\r\n    const shader = ctx.assets.shaders.FlipTexture;\r\n    gl.useProgram(shader.program);\r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, srcTex);\r\n    gl.uniform1i(shader.builtinUniformLocations.mainTex, 0);\r\n    const mesh = ctx.assets.meshes.screenQuad;\r\n    mesh.bind(shader, gl);\r\n    gl.drawElements(gl.TRIANGLE_STRIP, mesh.triangles.length, gl.UNSIGNED_INT, 0);\r\n    gl.deleteFramebuffer(fbo);\r\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n    gl.deleteTexture(srcTex);\r\n}\r\n//# sourceMappingURL=texture.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst util_1 = require(\"../utils/util\");\r\nconst global_1 = require(\"./global\");\r\nconst shaders_1 = require(\"../builtin-assets/shaders\");\r\nconst util_2 = require(\"../utils/util\");\r\nclass Shader {\r\n    constructor(vertexShader, fragmentShader, attributes = shaders_1.BuiltinShaderSources.DefaultShaderAttributes, gl = global_1.GL()) {\r\n        this._compiled = false;\r\n        this.gl = gl;\r\n        this.program = util_1.panicNull(gl.createProgram(), \"Failed to create shader program\");\r\n        this.vertexShaderSource = vertexShader;\r\n        this.fragmentShaderSouce = fragmentShader;\r\n        this.vertexShader = util_1.panicNull(gl.createShader(gl.VERTEX_SHADER), \"Failed to create vertex shader\");\r\n        this.fragmentShader = util_1.panicNull(gl.createShader(gl.FRAGMENT_SHADER), \"Failed to create fragment shader\");\r\n        this.compile();\r\n        this.attributes = {\r\n            vert: this.gl.getAttribLocation(this.program, attributes.vert),\r\n            color: this.gl.getAttribLocation(this.program, attributes.color),\r\n            uv: this.gl.getAttribLocation(this.program, attributes.uv),\r\n            normal: this.gl.getAttribLocation(this.program, attributes.normal)\r\n        };\r\n        this.builtinUniformLocations = util_2.getUniformsLocation(gl, this.program, shaders_1.BuiltinUniforms);\r\n    }\r\n    get compiled() { return this._compiled; }\r\n    compile() {\r\n        this.gl.shaderSource(this.vertexShader, this.vertexShaderSource);\r\n        this.gl.compileShader(this.vertexShader);\r\n        if (!this.gl.getShaderParameter(this.vertexShader, this.gl.COMPILE_STATUS)) {\r\n            //this.gl.deleteShader(this.vertexShader);\r\n            throw new Error(\"Failed to compile vertex shader:\\r\\n\" + this.gl.getShaderInfoLog(this.vertexShader));\r\n        }\r\n        this.gl.shaderSource(this.fragmentShader, this.fragmentShaderSouce);\r\n        this.gl.compileShader(this.fragmentShader);\r\n        if (!this.gl.getShaderParameter(this.fragmentShader, this.gl.COMPILE_STATUS)) {\r\n            //this.gl.deleteShader(this.fragmentShader);\r\n            throw new Error(\"Failed to compile fragment shader:\\r\\n\" + this.gl.getShaderInfoLog(this.fragmentShader));\r\n        }\r\n        this.gl.attachShader(this.program, this.vertexShader);\r\n        this.gl.attachShader(this.program, this.fragmentShader);\r\n        this.gl.linkProgram(this.program);\r\n        if (!this.gl.getProgramParameter(this.program, this.gl.LINK_STATUS)) {\r\n            throw new Error(\"Failed to link shader program:\\r\\n\" + this.gl.getProgramInfoLog(this.program));\r\n        }\r\n    }\r\n}\r\nexports.Shader = Shader;\r\n//# sourceMappingURL=shader.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shader_1 = require(\"../core/shader\");\r\nconst defaultVert = `#version 300 es\r\nprecision mediump float;\r\n\r\nin vec3 aPos;\r\nin vec4 aColor;\r\nin vec2 aUV;\r\nin vec3 aNormal;\r\n\r\nuniform mat4 uTransformM;\r\nuniform mat4 uTransformVP;\r\nuniform mat4 uTransformMVP;\r\n\r\nuniform vec4 uColor;\r\n\r\nout vec4 vColor;\r\nout vec4 vPos;\r\nout vec2 vUV;\r\nout vec3 vNormal;\r\n\r\nvoid main()\r\n{\r\n    gl_Position = uTransformMVP * vec4(aPos, 1);\r\n    vColor = aColor * uColor;\r\n    vUV = aUV;\r\n    vNormal = aNormal;\r\n}\r\n`;\r\nconst defaultFrag = `#version 300 es\r\nprecision mediump float;\r\n\r\nin vec4 vColor;\r\nin vec4 vPos;\r\nin vec2 vUV;\r\n\r\nuniform sampler2D uMainTex;\r\nuniform vec4 uColor;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main()\r\n{\r\n    vec4 color = texture(uMainTex, vUV.xy).rgba;\r\n    color = color * uColor;\r\n    fragColor = color;\r\n}\r\n`;\r\nconst blitCopy = `#version 300 es\r\nprecision mediump float;\r\n\r\nin vec4 vColor;\r\nin vec4 vPos;\r\nin vec2 vUV;\r\nin vec3 vNormal;\r\n\r\nuniform sampler2D uMainTex;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main()\r\n{\r\n    fragColor = texture(uMainTex, vUV).rgba;\r\n}\r\n`;\r\nconst flipVert = `#version 300 es\r\nprecision mediump float;\r\n\r\nin vec3 aPos;\r\nin vec2 aUV;\r\n\r\nout vec2 vUV;\r\n\r\nvoid main()\r\n{\r\n    gl_Position = vec4(aPos, 1);\r\n    vUV = vec2(aUV.x, vec2(1) - aUV.y);\r\n}`;\r\nconst DefaultShaderAttributes = {\r\n    vert: \"aPos\",\r\n    color: \"aColor\",\r\n    uv: \"aUV\",\r\n    normal: \"aNormal\",\r\n};\r\nexports.BuiltinShaderSources = {\r\n    DefaultVert: defaultVert,\r\n    DefaultFrag: defaultFrag,\r\n    BlitCopyFrag: blitCopy,\r\n    FlipTexVert: flipVert,\r\n    DefaultShaderAttributes: DefaultShaderAttributes,\r\n};\r\nexports.BuiltinUniforms = {\r\n    matM: \"uTransformM\",\r\n    matVP: \"uTransformVP\",\r\n    matMVP: \"uTransformMVP\",\r\n    flipUV: \"uFlipUV\",\r\n    mainTex: \"uMainTex\",\r\n};\r\nfunction compileBuiltinShaders(gl) {\r\n    return {\r\n        DefaultShader: new shader_1.Shader(exports.BuiltinShaderSources.DefaultVert, exports.BuiltinShaderSources.DefaultFrag, exports.BuiltinShaderSources.DefaultShaderAttributes, gl),\r\n        BlitCopy: new shader_1.Shader(exports.BuiltinShaderSources.DefaultVert, exports.BuiltinShaderSources.BlitCopyFrag, exports.BuiltinShaderSources.DefaultShaderAttributes, gl),\r\n        FlipTexture: new shader_1.Shader(exports.BuiltinShaderSources.FlipTexVert, exports.BuiltinShaderSources.BlitCopyFrag, exports.BuiltinShaderSources.DefaultShaderAttributes, gl),\r\n    };\r\n}\r\nexports.compileBuiltinShaders = compileBuiltinShaders;\r\n//# sourceMappingURL=shaders.js.map","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Type} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x2 Matrix\r\n * @module mat2\r\n */\n\n/**\r\n * Creates a new identity mat2\r\n *\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2 initialized with values from an existing matrix\r\n *\r\n * @param {mat2} a matrix to clone\r\n * @returns {mat2} a new 2x2 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Copy the values from one mat2 to another\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set a mat2 to the identity matrix\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @returns {mat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Create a new mat2 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out A new 2x2 matrix\r\n */\n\nexport function fromValues(m00, m01, m10, m11) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Set the components of a mat2 to the given values\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 2)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 3)\r\n * @returns {mat2} out\r\n */\n\nexport function set(out, m00, m01, m10, m11) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m10;\n  out[3] = m11;\n  return out;\n}\n/**\r\n * Transpose the values of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache\n  // some values\n  if (out === a) {\n    var a1 = a[1];\n    out[1] = a[2];\n    out[2] = a1;\n  } else {\n    out[0] = a[0];\n    out[1] = a[2];\n    out[2] = a[1];\n    out[3] = a[3];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3]; // Calculate the determinant\n\n  var det = a0 * a3 - a2 * a1;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = a3 * det;\n  out[1] = -a1 * det;\n  out[2] = -a2 * det;\n  out[3] = a0 * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the source matrix\r\n * @returns {mat2} out\r\n */\n\nexport function adjoint(out, a) {\n  // Caching this value is nessecary if out == a\n  var a0 = a[0];\n  out[0] = a[3];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a0;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2\r\n *\r\n * @param {mat2} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[2] * a[1];\n}\n/**\r\n * Multiplies two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  return out;\n}\n/**\r\n * Rotates a mat2 by the given angle\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  return out;\n}\n/**\r\n * Scales the mat2 by the dimensions in the given vec2\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2.identity(dest);\r\n *     mat2.scale(dest, dest, vec);\r\n *\r\n * @param {mat2} out mat2 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2\r\n *\r\n * @param {mat2} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2\r\n *\r\n * @param {mat2} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3]);\n}\n/**\r\n * Returns L, D and U matrices (Lower triangular, Diagonal and Upper triangular) by factorizing the input matrix\r\n * @param {mat2} L the lower triangular matrix\r\n * @param {mat2} D the diagonal matrix\r\n * @param {mat2} U the upper triangular matrix\r\n * @param {mat2} a the input matrix to factorize\r\n */\n\nexport function LDU(L, D, U, a) {\n  L[2] = a[2] / a[0];\n  U[0] = a[0];\n  U[1] = a[1];\n  U[3] = a[3] - L[2] * U[1];\n  return [L, D, U];\n}\n/**\r\n * Adds two mat2's\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @returns {mat2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2} a The first matrix.\r\n * @param {mat2} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2} out the receiving matrix\r\n * @param {mat2} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two mat2's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2} out the receiving vector\r\n * @param {mat2} a the first operand\r\n * @param {mat2} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Alias for {@link mat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2x3 Matrix\r\n * @module mat2d\r\n *\r\n * @description\r\n * A mat2d contains six elements defined as:\r\n * <pre>\r\n * [a, b, c,\r\n *  d, tx, ty]\r\n * </pre>\r\n * This is a short form for the 3x3 matrix:\r\n * <pre>\r\n * [a, b, 0,\r\n *  c, d, 0,\r\n *  tx, ty, 1]\r\n * </pre>\r\n * The last column is ignored so the array is shorter and operations are faster.\r\n */\n\n/**\r\n * Creates a new identity mat2d\r\n *\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(6);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[4] = 0;\n    out[5] = 0;\n  }\n\n  out[0] = 1;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat2d initialized with values from an existing matrix\r\n *\r\n * @param {mat2d} a matrix to clone\r\n * @returns {mat2d} a new 2x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Copy the values from one mat2d to another\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  return out;\n}\n/**\r\n * Set a mat2d to the identity matrix\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Create a new mat2d with the given values\r\n *\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} A new mat2d\r\n */\n\nexport function fromValues(a, b, c, d, tx, ty) {\n  var out = new glMatrix.ARRAY_TYPE(6);\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Set the components of a mat2d to the given values\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {Number} a Component A (index 0)\r\n * @param {Number} b Component B (index 1)\r\n * @param {Number} c Component C (index 2)\r\n * @param {Number} d Component D (index 3)\r\n * @param {Number} tx Component TX (index 4)\r\n * @param {Number} ty Component TY (index 5)\r\n * @returns {mat2d} out\r\n */\n\nexport function set(out, a, b, c, d, tx, ty) {\n  out[0] = a;\n  out[1] = b;\n  out[2] = c;\n  out[3] = d;\n  out[4] = tx;\n  out[5] = ty;\n  return out;\n}\n/**\r\n * Inverts a mat2d\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the source matrix\r\n * @returns {mat2d} out\r\n */\n\nexport function invert(out, a) {\n  var aa = a[0],\n      ab = a[1],\n      ac = a[2],\n      ad = a[3];\n  var atx = a[4],\n      aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat2d\r\n *\r\n * @param {mat2d} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  return a[0] * a[3] - a[1] * a[2];\n}\n/**\r\n * Multiplies two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  out[0] = a0 * b0 + a2 * b1;\n  out[1] = a1 * b0 + a3 * b1;\n  out[2] = a0 * b2 + a2 * b3;\n  out[3] = a1 * b2 + a3 * b3;\n  out[4] = a0 * b4 + a2 * b5 + a4;\n  out[5] = a1 * b4 + a3 * b5 + a5;\n  return out;\n}\n/**\r\n * Rotates a mat2d by the given angle\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  out[0] = a0 * c + a2 * s;\n  out[1] = a1 * c + a3 * s;\n  out[2] = a0 * -s + a2 * c;\n  out[3] = a1 * -s + a3 * c;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Scales the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function scale(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0 * v0;\n  out[1] = a1 * v0;\n  out[2] = a2 * v1;\n  out[3] = a3 * v1;\n  out[4] = a4;\n  out[5] = a5;\n  return out;\n}\n/**\r\n * Translates the mat2d by the dimensions in the given vec2\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to translate\r\n * @param {vec2} v the vec2 to translate the matrix by\r\n * @returns {mat2d} out\r\n **/\n\nexport function translate(out, a, v) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var v0 = v[0],\n      v1 = v[1];\n  out[0] = a0;\n  out[1] = a1;\n  out[2] = a2;\n  out[3] = a3;\n  out[4] = a0 * v0 + a2 * v1 + a4;\n  out[5] = a1 * v0 + a3 * v1 + a5;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.rotate(dest, dest, rad);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat2d} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = -s;\n  out[3] = c;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.scale(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = v[1];\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat2d.identity(dest);\r\n *     mat2d.translate(dest, dest, vec);\r\n *\r\n * @param {mat2d} out mat2d receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat2d} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = v[0];\n  out[5] = v[1];\n  return out;\n}\n/**\r\n * Returns a string representation of a mat2d\r\n *\r\n * @param {mat2d} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat2d(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat2d\r\n *\r\n * @param {mat2d} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], 1);\n}\n/**\r\n * Adds two mat2d's\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @returns {mat2d} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat2d} out the receiving matrix\r\n * @param {mat2d} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  return out;\n}\n/**\r\n * Adds two mat2d's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat2d} out the receiving vector\r\n * @param {mat2d} a the first operand\r\n * @param {mat2d} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat2d} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat2d} a The first matrix.\r\n * @param {mat2d} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5));\n}\n/**\r\n * Alias for {@link mat2d.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat2d.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3x3 Matrix\r\n * @module mat3\r\n */\n\n/**\r\n * Creates a new identity mat3\r\n *\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the upper-left 3x3 values into the given mat3.\r\n *\r\n * @param {mat3} out the receiving 3x3 matrix\r\n * @param {mat4} a   the source 4x4 matrix\r\n * @returns {mat3} out\r\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\r\n * Creates a new mat3 initialized with values from an existing matrix\r\n *\r\n * @param {mat3} a matrix to clone\r\n * @returns {mat3} a new 3x3 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Copy the values from one mat3 to another\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Create a new mat3 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} A new mat3\r\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set the components of a mat3 to the given values\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\r\n * @returns {mat3} out\r\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\r\n * Set a mat3 to the identity matrix\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @returns {mat3} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the source matrix\r\n * @returns {mat3} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat3\r\n *\r\n * @param {mat3} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\r\n * Multiplies two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\r\n * Translate a mat3 by the given vector\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to translate\r\n * @param {vec2} v vector to translate by\r\n * @returns {mat3} out\r\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\r\n * Rotates a mat3 by the given angle\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n;\n/**\r\n * Scales the mat3 by the dimensions in the given vec2\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to rotate\r\n * @param {vec2} v the vec2 to scale the matrix by\r\n * @returns {mat3} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.translate(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Translation vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.rotate(dest, dest, rad);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat3} out\r\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat3.identity(dest);\r\n *     mat3.scale(dest, dest, vec);\r\n *\r\n * @param {mat3} out mat3 receiving operation result\r\n * @param {vec2} v Scaling vector\r\n * @returns {mat3} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Copies the values from a mat2d into a mat3\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat2d} a the matrix to copy\r\n * @returns {mat3} out\r\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\r\n* Calculates a 3x3 matrix from the given quaternion\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {quat} q Quaternion to create matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\r\n* Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\r\n*\r\n* @param {mat3} out mat3 receiving operation result\r\n* @param {mat4} a Mat4 to derive the normal matrix from\r\n*\r\n* @returns {mat3} out\r\n*/\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\r\n * Generates a 2D projection matrix with the given bounds\r\n *\r\n * @param {mat3} out mat3 frustum matrix will be written into\r\n * @param {number} width Width of your gl context\r\n * @param {number} height Height of gl context\r\n * @returns {mat3} out\r\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat3\r\n *\r\n * @param {mat3} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat3\r\n *\r\n * @param {mat3} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\r\n * Adds two mat3's\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @returns {mat3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat3} out the receiving matrix\r\n * @param {mat3} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\r\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat3} out the receiving vector\r\n * @param {mat3} a the first operand\r\n * @param {mat3} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat3} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat3} a The first matrix.\r\n * @param {mat3} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\r\n * Alias for {@link mat3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {mat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {mat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {vec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {vec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {vec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {quat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {mat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {mat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {vec3} v Translation vector\r\n * @param {vec3} s Scaling vector\r\n * @param {vec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {vec3} eye Position of the viewer\r\n * @param {vec3} center Point the viewer is looking at\r\n * @param {vec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n;\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {mat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return 'mat4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ', ' + a[8] + ', ' + a[9] + ', ' + a[10] + ', ' + a[11] + ', ' + a[12] + ', ' + a[13] + ', ' + a[14] + ', ' + a[15] + ')';\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {mat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {mat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {mat4} a the first operand\r\n * @param {mat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {mat4} a The first matrix.\r\n * @param {mat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {vec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {vec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the first operand\r\n * @param {vec3} b the second operand\r\n * @param {vec3} c the third operand\r\n * @param {vec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {mat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec3} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(c) - p[2] * Math.sin(c);\n  r[2] = p[1] * Math.sin(c) + p[2] * Math.cos(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(c) + p[0] * Math.cos(c);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(c) - p[0] * Math.sin(c); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {vec3} a The vec3 point to rotate\r\n * @param {vec3} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, c) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(c) - p[1] * Math.sin(c);\n  r[1] = p[0] * Math.sin(c) + p[1] * Math.cos(c);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {vec3} a The first operand\r\n * @param {vec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var tempA = fromValues(a[0], a[1], a[2]);\n  var tempB = fromValues(b[0], b[1], b[2]);\n  normalize(tempA, tempA);\n  normalize(tempB, tempB);\n  var cosine = dot(tempA, tempB);\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec3(' + a[0] + ', ' + a[1] + ', ' + a[2] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec3} a The first vector.\r\n * @param {vec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {vec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {vec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {vec4} result the receiving vector\r\n * @param {vec4} U the first vector\r\n * @param {vec4} V the second vector\r\n * @param {vec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n;\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the first operand\r\n * @param {vec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {vec4} a the vector to transform\r\n * @param {quat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec4(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec4} a The first vector.\r\n * @param {vec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\r\n * Quaternion\r\n * @module quat\r\n */\n\n/**\r\n * Creates a new identity quat\r\n *\r\n * @returns {quat} a new quaternion\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Set a quat to the identity quaternion\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\r\n * Sets a quat from the given angle and rotation axis,\r\n * then returns it.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {vec3} axis the axis around which to rotate\r\n * @param {Number} rad the angle in radians\r\n * @returns {quat} out\r\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\r\n * Gets the rotation axis and angle for a given\r\n *  quaternion. If a quaternion is created with\r\n *  setAxisAngle, this method will return the same\r\n *  values as providied in the original parameter list\r\n *  OR functionally equivalent values.\r\n * Example: The quaternion formed by axis [0, 0, 1] and\r\n *  angle -90 is the same as the quaternion formed by\r\n *  [0, 0, 1] and 270. This method favors the latter.\r\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\r\n * @param  {quat} q     Quaternion to be decomposed\r\n * @return {Number}     Angle, in radians, of the rotation\r\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\r\n * Gets the angular distance between two unit quaternions\r\n *\r\n * @param  {quat} a     Origin unit quaternion \r\n * @param  {quat} b     Destination unit quaternion\r\n * @return {Number}     Angle, in radians, between the two quaternions\r\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\r\n * Multiplies two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the X axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Y axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\r\n * Rotates a quaternion by the given angle about the Z axis\r\n *\r\n * @param {quat} out quat receiving operation result\r\n * @param {quat} a quat to rotate\r\n * @param {number} rad angle (in radians) to rotate\r\n * @returns {quat} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\r\n * Calculates the W component of a quat from the X, Y, and Z components.\r\n * Assumes that quaternion is 1 unit in length.\r\n * Any existing W component will be ignored.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate W component of\r\n * @returns {quat} out\r\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\r\n * Calculate the exponential of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\r\n * Calculate the natural logarithm of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @returns {quat} out\r\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\r\n * Calculate the scalar power of a unit quaternion.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate the exponential of\r\n * @param {Number} b amount to scale the quaternion by\r\n * @returns {quat} out\r\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\r\n * Performs a spherical linear interpolation between two quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\r\n * Generates a random unit quaternion\r\n * \r\n * @param {quat} out the receiving quaternion\r\n * @returns {quat} out\r\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\r\n * Calculates the inverse of a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate inverse of\r\n * @returns {quat} out\r\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a quat\r\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quat to calculate conjugate of\r\n * @returns {quat} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a quaternion from the given 3x3 rotation matrix.\r\n *\r\n * NOTE: The resultant quaternion is not normalized, so you should be sure\r\n * to renormalize the quaternion yourself where necessary.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {mat3} m rotation matrix\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\r\n * Creates a quaternion from the given euler angle x, y, z.\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {x} Angle to rotate around X axis in degrees.\r\n * @param {y} Angle to rotate around Y axis in degrees.\r\n * @param {z} Angle to rotate around Z axis in degrees.\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\r\n * Returns a string representation of a quatenion\r\n *\r\n * @param {quat} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'quat(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ')';\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat} a quaternion to clone\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var clone = vec4.clone;\n/**\r\n * Creates a new quat initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} a new quaternion\r\n * @function\r\n */\n\nexport var fromValues = vec4.fromValues;\n/**\r\n * Copy the values from one quat to another\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the source quaternion\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var copy = vec4.copy;\n/**\r\n * Set the components of a quat to the given values\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var set = vec4.set;\n/**\r\n * Adds two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var add = vec4.add;\n/**\r\n * Alias for {@link quat.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a quat by a scalar number\r\n *\r\n * @param {quat} out the receiving vector\r\n * @param {quat} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var scale = vec4.scale;\n/**\r\n * Calculates the dot product of two quat's\r\n *\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = vec4.dot;\n/**\r\n * Performs a linear interpolation between two quat's\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var lerp = vec4.lerp;\n/**\r\n * Calculates the length of a quat\r\n *\r\n * @param {quat} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport var length = vec4.length;\n/**\r\n * Alias for {@link quat.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a quat\r\n *\r\n * @param {quat} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\r\n * Alias for {@link quat.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a quat\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a quaternion to normalize\r\n * @returns {quat} out\r\n * @function\r\n */\n\nexport var normalize = vec4.normalize;\n/**\r\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat} a The first quaternion.\r\n * @param {quat} b The second quaternion.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\r\n * Returns whether or not the quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat} a The first vector.\r\n * @param {quat} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport var equals = vec4.equals;\n/**\r\n * Sets a quaternion to represent the shortest rotation from one\r\n * vector to another.\r\n *\r\n * Both vectors are assumed to be unit length.\r\n *\r\n * @param {quat} out the receiving quaternion.\r\n * @param {vec3} a the initial vector\r\n * @param {vec3} b the destination vector\r\n * @returns {quat} out\r\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\r\n * Performs a spherical linear interpolation with two control points\r\n *\r\n * @param {quat} out the receiving quaternion\r\n * @param {quat} a the first operand\r\n * @param {quat} b the second operand\r\n * @param {quat} c the third operand\r\n * @param {quat} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat} out\r\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\r\n * Sets the specified quaternion with values corresponding to the given\r\n * axes. Each axis is a vec3 and is expected to be unit length and\r\n * perpendicular to all other specified axes.\r\n *\r\n * @param {vec3} view  the vector representing the viewing direction\r\n * @param {vec3} right the vector representing the local \"right\" direction\r\n * @param {vec3} up    the vector representing the local \"up\" direction\r\n * @returns {quat} out\r\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as quat from \"./quat.js\";\nimport * as mat4 from \"./mat4.js\";\n/**\r\n * Dual Quaternion<br>\r\n * Format: [real, dual]<br>\r\n * Quaternion format: XYZW<br>\r\n * Make sure to have normalized dual quaternions, otherwise the functions may not work as intended.<br>\r\n * @module quat2\r\n */\n\n/**\r\n * Creates a new identity dual quat\r\n *\r\n * @returns {quat2} a new dual quaternion [real -> rotation, dual -> translation]\r\n */\n\nexport function create() {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    dq[0] = 0;\n    dq[1] = 0;\n    dq[2] = 0;\n    dq[4] = 0;\n    dq[5] = 0;\n    dq[6] = 0;\n    dq[7] = 0;\n  }\n\n  dq[3] = 1;\n  return dq;\n}\n/**\r\n * Creates a new quat initialized with values from an existing quaternion\r\n *\r\n * @param {quat2} a dual quaternion to clone\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function clone(a) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = a[0];\n  dq[1] = a[1];\n  dq[2] = a[2];\n  dq[3] = a[3];\n  dq[4] = a[4];\n  dq[5] = a[5];\n  dq[6] = a[6];\n  dq[7] = a[7];\n  return dq;\n}\n/**\r\n * Creates a new dual quat initialized with the given values\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromValues(x1, y1, z1, w1, x2, y2, z2, w2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  dq[4] = x2;\n  dq[5] = y2;\n  dq[6] = z2;\n  dq[7] = w2;\n  return dq;\n}\n/**\r\n * Creates a new dual quat from the given values (quat and translation)\r\n *\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component (translation)\r\n * @param {Number} y2 Y component (translation)\r\n * @param {Number} z2 Z component (translation)\r\n * @returns {quat2} new dual quaternion\r\n * @function\r\n */\n\nexport function fromRotationTranslationValues(x1, y1, z1, w1, x2, y2, z2) {\n  var dq = new glMatrix.ARRAY_TYPE(8);\n  dq[0] = x1;\n  dq[1] = y1;\n  dq[2] = z1;\n  dq[3] = w1;\n  var ax = x2 * 0.5,\n      ay = y2 * 0.5,\n      az = z2 * 0.5;\n  dq[4] = ax * w1 + ay * z1 - az * y1;\n  dq[5] = ay * w1 + az * x1 - ax * z1;\n  dq[6] = az * w1 + ax * y1 - ay * x1;\n  dq[7] = -ax * x1 - ay * y1 - az * z1;\n  return dq;\n}\n/**\r\n * Creates a dual quat from a quaternion and a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q a normalized quaternion\r\n * @param {vec3} t tranlation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotationTranslation(out, q, t) {\n  var ax = t[0] * 0.5,\n      ay = t[1] * 0.5,\n      az = t[2] * 0.5,\n      bx = q[0],\n      by = q[1],\n      bz = q[2],\n      bw = q[3];\n  out[0] = bx;\n  out[1] = by;\n  out[2] = bz;\n  out[3] = bw;\n  out[4] = ax * bw + ay * bz - az * by;\n  out[5] = ay * bw + az * bx - ax * bz;\n  out[6] = az * bw + ax * by - ay * bx;\n  out[7] = -ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Creates a dual quat from a translation\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {vec3} t translation vector\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromTranslation(out, t) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = t[0] * 0.5;\n  out[5] = t[1] * 0.5;\n  out[6] = t[2] * 0.5;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a dual quat from a quaternion\r\n *\r\n * @param {quat2} dual quaternion receiving operation result\r\n * @param {quat} q the quaternion\r\n * @returns {quat2} dual quaternion receiving operation result\r\n * @function\r\n */\n\nexport function fromRotation(out, q) {\n  out[0] = q[0];\n  out[1] = q[1];\n  out[2] = q[2];\n  out[3] = q[3];\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Creates a new dual quat from a matrix (4x4)\r\n *\r\n * @param {quat2} out the dual quaternion\r\n * @param {mat4} a the matrix\r\n * @returns {quat2} dual quat receiving operation result\r\n * @function\r\n */\n\nexport function fromMat4(out, a) {\n  //TODO Optimize this\n  var outer = quat.create();\n  mat4.getRotation(outer, a);\n  var t = new glMatrix.ARRAY_TYPE(3);\n  mat4.getTranslation(t, a);\n  fromRotationTranslation(out, outer, t);\n  return out;\n}\n/**\r\n * Copy the values from one dual quat to another\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the source dual quaternion\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Set a dual quat to the identity dual quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @returns {quat2} out\r\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  return out;\n}\n/**\r\n * Set the components of a dual quat to the given values\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {Number} x1 X component\r\n * @param {Number} y1 Y component\r\n * @param {Number} z1 Z component\r\n * @param {Number} w1 W component\r\n * @param {Number} x2 X component\r\n * @param {Number} y2 Y component\r\n * @param {Number} z2 Z component\r\n * @param {Number} w2 W component\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function set(out, x1, y1, z1, w1, x2, y2, z2, w2) {\n  out[0] = x1;\n  out[1] = y1;\n  out[2] = z1;\n  out[3] = w1;\n  out[4] = x2;\n  out[5] = y2;\n  out[6] = z2;\n  out[7] = w2;\n  return out;\n}\n/**\r\n * Gets the real part of a dual quat\r\n * @param  {quat} out real part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} real part\r\n */\n\nexport var getReal = quat.copy;\n/**\r\n * Gets the dual part of a dual quat\r\n * @param  {quat} out dual part\r\n * @param  {quat2} a Dual Quaternion\r\n * @return {quat} dual part\r\n */\n\nexport function getDual(out, a) {\n  out[0] = a[4];\n  out[1] = a[5];\n  out[2] = a[6];\n  out[3] = a[7];\n  return out;\n}\n/**\r\n * Set the real component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the real part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport var setReal = quat.copy;\n/**\r\n * Set the dual component of a dual quat to the given quaternion\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat} q a quaternion representing the dual part\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function setDual(out, q) {\n  out[4] = q[0];\n  out[5] = q[1];\n  out[6] = q[2];\n  out[7] = q[3];\n  return out;\n}\n/**\r\n * Gets the translation of a normalized dual quat\r\n * @param  {vec3} out translation\r\n * @param  {quat2} a Dual Quaternion to be decomposed\r\n * @return {vec3} translation\r\n */\n\nexport function getTranslation(out, a) {\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3];\n  out[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n  out[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n  out[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  return out;\n}\n/**\r\n * Translates a dual quat by the given vector\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to translate\r\n * @param {vec3} v vector to translate by\r\n * @returns {quat2} out\r\n */\n\nexport function translate(out, a, v) {\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3],\n      bx1 = v[0] * 0.5,\n      by1 = v[1] * 0.5,\n      bz1 = v[2] * 0.5,\n      ax2 = a[4],\n      ay2 = a[5],\n      az2 = a[6],\n      aw2 = a[7];\n  out[0] = ax1;\n  out[1] = ay1;\n  out[2] = az1;\n  out[3] = aw1;\n  out[4] = aw1 * bx1 + ay1 * bz1 - az1 * by1 + ax2;\n  out[5] = aw1 * by1 + az1 * bx1 - ax1 * bz1 + ay2;\n  out[6] = aw1 * bz1 + ax1 * by1 - ay1 * bx1 + az2;\n  out[7] = -ax1 * bx1 - ay1 * by1 - az1 * bz1 + aw2;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the X axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateX(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Y axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateY(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around the Z axis\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {number} rad how far should the rotation be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7],\n      ax1 = ax * bw + aw * bx + ay * bz - az * by,\n      ay1 = ay * bw + aw * by + az * bx - ax * bz,\n      az1 = az * bw + aw * bz + ax * by - ay * bx,\n      aw1 = aw * bw - ax * bx - ay * by - az * bz;\n  quat.rotateZ(out, a, rad);\n  bx = out[0];\n  by = out[1];\n  bz = out[2];\n  bw = out[3];\n  out[4] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[5] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[6] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[7] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (a * q)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {quat} q quaternion to rotate by\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatAppend(out, a, q) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  out[0] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[1] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[2] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[3] = aw * qw - ax * qx - ay * qy - az * qz;\n  ax = a[4];\n  ay = a[5];\n  az = a[6];\n  aw = a[7];\n  out[4] = ax * qw + aw * qx + ay * qz - az * qy;\n  out[5] = ay * qw + aw * qy + az * qx - ax * qz;\n  out[6] = az * qw + aw * qz + ax * qy - ay * qx;\n  out[7] = aw * qw - ax * qx - ay * qy - az * qz;\n  return out;\n}\n/**\r\n * Rotates a dual quat by a given quaternion (q * a)\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat} q quaternion to rotate by\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @returns {quat2} out\r\n */\n\nexport function rotateByQuatPrepend(out, q, a) {\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3],\n      bx = a[0],\n      by = a[1],\n      bz = a[2],\n      bw = a[3];\n  out[0] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[1] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[2] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[3] = qw * bw - qx * bx - qy * by - qz * bz;\n  bx = a[4];\n  by = a[5];\n  bz = a[6];\n  bw = a[7];\n  out[4] = qx * bw + qw * bx + qy * bz - qz * by;\n  out[5] = qy * bw + qw * by + qz * bx - qx * bz;\n  out[6] = qz * bw + qw * bz + qx * by - qy * bx;\n  out[7] = qw * bw - qx * bx - qy * by - qz * bz;\n  return out;\n}\n/**\r\n * Rotates a dual quat around a given axis. Does the normalisation automatically\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the dual quaternion to rotate\r\n * @param {vec3} axis the axis to rotate around\r\n * @param {Number} rad how far the rotation should be\r\n * @returns {quat2} out\r\n */\n\nexport function rotateAroundAxis(out, a, axis, rad) {\n  //Special case for rad = 0\n  if (Math.abs(rad) < glMatrix.EPSILON) {\n    return copy(out, a);\n  }\n\n  var axisLength = Math.hypot(axis[0], axis[1], axis[2]);\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  var bx = s * axis[0] / axisLength;\n  var by = s * axis[1] / axisLength;\n  var bz = s * axis[2] / axisLength;\n  var bw = Math.cos(rad);\n  var ax1 = a[0],\n      ay1 = a[1],\n      az1 = a[2],\n      aw1 = a[3];\n  out[0] = ax1 * bw + aw1 * bx + ay1 * bz - az1 * by;\n  out[1] = ay1 * bw + aw1 * by + az1 * bx - ax1 * bz;\n  out[2] = az1 * bw + aw1 * bz + ax1 * by - ay1 * bx;\n  out[3] = aw1 * bw - ax1 * bx - ay1 * by - az1 * bz;\n  var ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  out[4] = ax * bw + aw * bx + ay * bz - az * by;\n  out[5] = ay * bw + aw * by + az * bx - ax * bz;\n  out[6] = az * bw + aw * bz + ax * by - ay * bx;\n  out[7] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\r\n * Adds two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  return out;\n}\n/**\r\n * Multiplies two dual quat's\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {quat2} out\r\n */\n\nexport function multiply(out, a, b) {\n  var ax0 = a[0],\n      ay0 = a[1],\n      az0 = a[2],\n      aw0 = a[3],\n      bx1 = b[4],\n      by1 = b[5],\n      bz1 = b[6],\n      bw1 = b[7],\n      ax1 = a[4],\n      ay1 = a[5],\n      az1 = a[6],\n      aw1 = a[7],\n      bx0 = b[0],\n      by0 = b[1],\n      bz0 = b[2],\n      bw0 = b[3];\n  out[0] = ax0 * bw0 + aw0 * bx0 + ay0 * bz0 - az0 * by0;\n  out[1] = ay0 * bw0 + aw0 * by0 + az0 * bx0 - ax0 * bz0;\n  out[2] = az0 * bw0 + aw0 * bz0 + ax0 * by0 - ay0 * bx0;\n  out[3] = aw0 * bw0 - ax0 * bx0 - ay0 * by0 - az0 * bz0;\n  out[4] = ax0 * bw1 + aw0 * bx1 + ay0 * bz1 - az0 * by1 + ax1 * bw0 + aw1 * bx0 + ay1 * bz0 - az1 * by0;\n  out[5] = ay0 * bw1 + aw0 * by1 + az0 * bx1 - ax0 * bz1 + ay1 * bw0 + aw1 * by0 + az1 * bx0 - ax1 * bz0;\n  out[6] = az0 * bw1 + aw0 * bz1 + ax0 * by1 - ay0 * bx1 + az1 * bw0 + aw1 * bz0 + ax1 * by0 - ay1 * bx0;\n  out[7] = aw0 * bw1 - ax0 * bx1 - ay0 * by1 - az0 * bz1 + aw1 * bw0 - ax1 * bx0 - ay1 * by0 - az1 * bz0;\n  return out;\n}\n/**\r\n * Alias for {@link quat2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Scales a dual quat by a scalar number\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the dual quat to scale\r\n * @param {Number} b amount to scale the dual quat by\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  return out;\n}\n/**\r\n * Calculates the dot product of two dual quat's (The dot product of the real parts)\r\n *\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n * @function\r\n */\n\nexport var dot = quat.dot;\n/**\r\n * Performs a linear interpolation between two dual quats's\r\n * NOTE: The resulting dual quaternions won't always be normalized (The error is most noticeable when t = 0.5)\r\n *\r\n * @param {quat2} out the receiving dual quat\r\n * @param {quat2} a the first operand\r\n * @param {quat2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {quat2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var mt = 1 - t;\n  if (dot(a, b) < 0) t = -t;\n  out[0] = a[0] * mt + b[0] * t;\n  out[1] = a[1] * mt + b[1] * t;\n  out[2] = a[2] * mt + b[2] * t;\n  out[3] = a[3] * mt + b[3] * t;\n  out[4] = a[4] * mt + b[4] * t;\n  out[5] = a[5] * mt + b[5] * t;\n  out[6] = a[6] * mt + b[6] * t;\n  out[7] = a[7] * mt + b[7] * t;\n  return out;\n}\n/**\r\n * Calculates the inverse of a dual quat. If they are normalized, conjugate is cheaper\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quat to calculate inverse of\r\n * @returns {quat2} out\r\n */\n\nexport function invert(out, a) {\n  var sqlen = squaredLength(a);\n  out[0] = -a[0] / sqlen;\n  out[1] = -a[1] / sqlen;\n  out[2] = -a[2] / sqlen;\n  out[3] = a[3] / sqlen;\n  out[4] = -a[4] / sqlen;\n  out[5] = -a[5] / sqlen;\n  out[6] = -a[6] / sqlen;\n  out[7] = a[7] / sqlen;\n  return out;\n}\n/**\r\n * Calculates the conjugate of a dual quat\r\n * If the dual quaternion is normalized, this function is faster than quat2.inverse and produces the same result.\r\n *\r\n * @param {quat2} out the receiving quaternion\r\n * @param {quat2} a quat to calculate conjugate of\r\n * @returns {quat2} out\r\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  out[4] = -a[4];\n  out[5] = -a[5];\n  out[6] = -a[6];\n  out[7] = a[7];\n  return out;\n}\n/**\r\n * Calculates the length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate length of\r\n * @returns {Number} length of a\r\n * @function\r\n */\n\nexport var length = quat.length;\n/**\r\n * Alias for {@link quat2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Calculates the squared length of a dual quat\r\n *\r\n * @param {quat2} a dual quat to calculate squared length of\r\n * @returns {Number} squared length of a\r\n * @function\r\n */\n\nexport var squaredLength = quat.squaredLength;\n/**\r\n * Alias for {@link quat2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Normalize a dual quat\r\n *\r\n * @param {quat2} out the receiving dual quaternion\r\n * @param {quat2} a dual quaternion to normalize\r\n * @returns {quat2} out\r\n * @function\r\n */\n\nexport function normalize(out, a) {\n  var magnitude = squaredLength(a);\n\n  if (magnitude > 0) {\n    magnitude = Math.sqrt(magnitude);\n    var a0 = a[0] / magnitude;\n    var a1 = a[1] / magnitude;\n    var a2 = a[2] / magnitude;\n    var a3 = a[3] / magnitude;\n    var b0 = a[4];\n    var b1 = a[5];\n    var b2 = a[6];\n    var b3 = a[7];\n    var a_dot_b = a0 * b0 + a1 * b1 + a2 * b2 + a3 * b3;\n    out[0] = a0;\n    out[1] = a1;\n    out[2] = a2;\n    out[3] = a3;\n    out[4] = (b0 - a0 * a_dot_b) / magnitude;\n    out[5] = (b1 - a1 * a_dot_b) / magnitude;\n    out[6] = (b2 - a2 * a_dot_b) / magnitude;\n    out[7] = (b3 - a3 * a_dot_b) / magnitude;\n  }\n\n  return out;\n}\n/**\r\n * Returns a string representation of a dual quatenion\r\n *\r\n * @param {quat2} a dual quaternion to represent as a string\r\n * @returns {String} string representation of the dual quat\r\n */\n\nexport function str(a) {\n  return 'quat2(' + a[0] + ', ' + a[1] + ', ' + a[2] + ', ' + a[3] + ', ' + a[4] + ', ' + a[5] + ', ' + a[6] + ', ' + a[7] + ')';\n}\n/**\r\n * Returns whether or not the dual quaternions have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {quat2} a the first dual quaternion.\r\n * @param {quat2} b the second dual quaternion.\r\n * @returns {Boolean} true if the dual quaternions are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7];\n}\n/**\r\n * Returns whether or not the dual quaternions have approximately the same elements in the same position.\r\n *\r\n * @param {quat2} a the first dual quat.\r\n * @param {quat2} b the second dual quat.\r\n * @returns {Boolean} true if the dual quats are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7));\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {vec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {vec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the first operand\r\n * @param {vec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {vec2} a the vector to transform\r\n * @param {mat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {vec2} a The vec2 point to rotate\r\n * @param {vec2} b The origin of the rotation\r\n * @param {Number} c The angle of rotation\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, c) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(c),\n      cosC = Math.cos(c); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {vec2} a The first operand\r\n * @param {vec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1];\n  var len1 = x1 * x1 + y1 * y1;\n\n  if (len1 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len1 = 1 / Math.sqrt(len1);\n  }\n\n  var len2 = x2 * x2 + y2 * y2;\n\n  if (len2 > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len2 = 1 / Math.sqrt(len2);\n  }\n\n  var cosine = (x1 * x2 + y1 * y2) * len1 * len2;\n\n  if (cosine > 1.0) {\n    return 0;\n  } else if (cosine < -1.0) {\n    return Math.PI;\n  } else {\n    return Math.acos(cosine);\n  }\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {vec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return 'vec2(' + a[0] + ', ' + a[1] + ')';\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {vec2} a The first vector.\r\n * @param {vec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\nimport * as mat2 from \"./mat2.js\";\nimport * as mat2d from \"./mat2d.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as mat4 from \"./mat4.js\";\nimport * as quat from \"./quat.js\";\nimport * as quat2 from \"./quat2.js\";\nimport * as vec2 from \"./vec2.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\nexport { glMatrix, mat2, mat2d, mat3, mat4, quat, quat2, vec2, vec3, vec4 };","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar TextureFormat;\r\n(function (TextureFormat) {\r\n    TextureFormat[TextureFormat[\"RGB\"] = 1] = \"RGB\";\r\n    TextureFormat[TextureFormat[\"RGBA\"] = 2] = \"RGBA\";\r\n    TextureFormat[TextureFormat[\"LUMINANCE_ALPHA\"] = 3] = \"LUMINANCE_ALPHA\";\r\n    TextureFormat[TextureFormat[\"LUMINANCE\"] = 4] = \"LUMINANCE\";\r\n    TextureFormat[TextureFormat[\"ALPHA\"] = 5] = \"ALPHA\";\r\n    TextureFormat[TextureFormat[\"R8\"] = 6] = \"R8\";\r\n    TextureFormat[TextureFormat[\"R16F\"] = 7] = \"R16F\";\r\n    TextureFormat[TextureFormat[\"R32F\"] = 8] = \"R32F\";\r\n    TextureFormat[TextureFormat[\"R8UI\"] = 9] = \"R8UI\";\r\n    TextureFormat[TextureFormat[\"RG8\"] = 10] = \"RG8\";\r\n    TextureFormat[TextureFormat[\"RG16F\"] = 11] = \"RG16F\";\r\n    TextureFormat[TextureFormat[\"RG32F\"] = 12] = \"RG32F\";\r\n    TextureFormat[TextureFormat[\"RG8UI\"] = 13] = \"RG8UI\";\r\n    TextureFormat[TextureFormat[\"RGB8\"] = 14] = \"RGB8\";\r\n    TextureFormat[TextureFormat[\"SRGB8\"] = 15] = \"SRGB8\";\r\n    TextureFormat[TextureFormat[\"RGB565\"] = 16] = \"RGB565\";\r\n    TextureFormat[TextureFormat[\"R11F_G11F_B10F\"] = 17] = \"R11F_G11F_B10F\";\r\n    TextureFormat[TextureFormat[\"RGB9_E5\"] = 18] = \"RGB9_E5\";\r\n    TextureFormat[TextureFormat[\"RGB16F\"] = 19] = \"RGB16F\";\r\n    TextureFormat[TextureFormat[\"RGB32F\"] = 20] = \"RGB32F\";\r\n    TextureFormat[TextureFormat[\"RGB8UI\"] = 21] = \"RGB8UI\";\r\n    TextureFormat[TextureFormat[\"RGBA8\"] = 22] = \"RGBA8\";\r\n    TextureFormat[TextureFormat[\"SRGB8_ALPHA8\"] = 23] = \"SRGB8_ALPHA8\";\r\n    TextureFormat[TextureFormat[\"RGB5_A1\"] = 24] = \"RGB5_A1\";\r\n    TextureFormat[TextureFormat[\"RGB10_A2\"] = 25] = \"RGB10_A2\";\r\n    TextureFormat[TextureFormat[\"RGBA4\"] = 26] = \"RGBA4\";\r\n    TextureFormat[TextureFormat[\"RGBA16F\"] = 27] = \"RGBA16F\";\r\n    TextureFormat[TextureFormat[\"RGBA32F\"] = 28] = \"RGBA32F\";\r\n    TextureFormat[TextureFormat[\"RGBA8UI\"] = 29] = \"RGBA8UI\";\r\n    TextureFormat[TextureFormat[\"DEPTH_COMPONENT\"] = 30] = \"DEPTH_COMPONENT\";\r\n    TextureFormat[TextureFormat[\"DEPTH_STENCIL\"] = 31] = \"DEPTH_STENCIL\";\r\n})(TextureFormat = exports.TextureFormat || (exports.TextureFormat = {}));\r\n;\r\nfunction mapGLFormat(gl, format) {\r\n    const map = {\r\n        [TextureFormat.RGB]: [gl.RGB, gl.RGB, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RGBA]: [gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.LUMINANCE_ALPHA]: [gl.LUMINANCE_ALPHA, gl.LUMINANCE_ALPHA, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.LUMINANCE]: [gl.LUMINANCE, gl.LUMINANCE, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.ALPHA]: [gl.ALPHA, gl.ALPHA, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.R8]: [gl.R8, gl.RED, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.R16F]: [gl.R16F, gl.RED, gl.HALF_FLOAT],\r\n        [TextureFormat.R32F]: [gl.R32F, gl.RED, gl.FLOAT],\r\n        [TextureFormat.R8UI]: [gl.R8UI, gl.RED_INTEGER, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RG8]: [gl.RG8, gl.RG, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RG16F]: [gl.RG16F, gl.RG, gl.HALF_FLOAT],\r\n        [TextureFormat.RG32F]: [gl.RG32F, gl.RG, gl.FLOAT],\r\n        [TextureFormat.RG8UI]: [gl.RG8UI, gl.RG_INTEGER, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RGB8]: [gl.RGB8, gl.RGB, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.SRGB8]: [gl.SRGB8, gl.RGB, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RGB565]: [gl.RGB565, gl.RGB, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.R11F_G11F_B10F]: [gl.R11F_G11F_B10F, gl.RGB, gl.UNSIGNED_INT_10F_11F_11F_REV],\r\n        [TextureFormat.RGB9_E5]: [gl.RGB9_E5, gl.RGB, gl.HALF_FLOAT],\r\n        [TextureFormat.RGB16F]: [gl.RGB16F, gl.RGB, gl.HALF_FLOAT],\r\n        [TextureFormat.RGB32F]: [gl.RGB32F, gl.RGB, gl.FLOAT],\r\n        [TextureFormat.RGB8UI]: [gl.RGB8UI, gl.RGB_INTEGER, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RGBA8]: [gl.RGBA8, gl.RGBA, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.SRGB8_ALPHA8]: [gl.SRGB8_ALPHA8, gl.RGBA, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RGB5_A1]: [gl.RGB5_A1, gl.RGBA, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RGB10_A2]: [gl.RGB10_A2, gl.RGBA, gl.UNSIGNED_INT_2_10_10_10_REV],\r\n        [TextureFormat.RGBA4]: [gl.RGBA4, gl.RGBA, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.RGBA16F]: [gl.RGBA16F, gl.RGBA, gl.HALF_FLOAT],\r\n        [TextureFormat.RGBA32F]: [gl.RGBA32F, gl.RGBA, gl.FLOAT],\r\n        [TextureFormat.RGBA8UI]: [gl.RGBA8UI, gl.RGBA_INTEGER, gl.UNSIGNED_BYTE],\r\n        [TextureFormat.DEPTH_COMPONENT]: [gl.DEPTH_COMPONENT, gl.DEPTH_COMPONENT, gl.UNSIGNED_INT],\r\n        [TextureFormat.DEPTH_STENCIL]: [gl.DEPTH_STENCIL, gl.DEPTH_COMPONENT, gl.UNSIGNED_INT],\r\n    };\r\n    return map[format];\r\n}\r\nexports.mapGLFormat = mapGLFormat;\r\n//# sourceMappingURL=texture-format.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec3_1 = require(\"./vec3\");\r\nconst vec4_1 = require(\"./vec4\");\r\nconst gl_matrix_1 = require(\"gl-matrix\");\r\nconst vec2_1 = require(\"./vec2\");\r\nfunction arithOrder(a, b) {\r\n    return (b.length > a.length ? [b, a] : [a, b]);\r\n}\r\nfunction plus(a, b) {\r\n    const [lhs, rhs] = arithOrder(a, b);\r\n    return rhs.to(lhs.constructor).plus(lhs);\r\n}\r\nexports.plus = plus;\r\nfunction minus(a, b) {\r\n    const [lhs, rhs] = arithOrder(a, b);\r\n    return rhs.to(lhs.constructor).minus(lhs);\r\n}\r\nexports.minus = minus;\r\nfunction mul(a, b) {\r\n    if (a instanceof vec3_1.Vector3 || a instanceof vec4_1.Vector4 || a instanceof vec2_1.Vector2) {\r\n        const [lhs, rhs] = arithOrder(a, b);\r\n        return rhs.to(lhs.constructor).mul(lhs);\r\n    }\r\n    else {\r\n        const out = b.clone();\r\n        switch (b.constructor) {\r\n            case vec2_1.Vector2:\r\n                gl_matrix_1.vec2.transformMat4(out, b, a);\r\n                break;\r\n            case vec3_1.Vector3:\r\n                gl_matrix_1.vec3.transformMat4(out, b, a);\r\n                break;\r\n            default:\r\n                gl_matrix_1.vec4.transformMat4(out, b, a);\r\n                break;\r\n        }\r\n        return out;\r\n    }\r\n}\r\nexports.mul = mul;\r\nfunction div(a, b) {\r\n    const [lhs, rhs] = arithOrder(a, b);\r\n    return rhs.to(lhs.constructor).div(lhs);\r\n}\r\nexports.div = div;\r\nfunction dot(a, b) {\r\n    return a.dot(b);\r\n}\r\nexports.dot = dot;\r\nfunction cross(a, b) {\r\n    return a.cross(b);\r\n}\r\nexports.cross = cross;\r\n//# sourceMappingURL=math.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst gl_matrix_1 = require(\"gl-matrix\");\r\nfunction Matrix4x4(values) {\r\n    const mat = gl_matrix_1.mat4.clone(values);\r\n    return mat;\r\n}\r\nexports.Matrix4x4 = Matrix4x4;\r\nMatrix4x4.identity = () => {\r\n    const mat = gl_matrix_1.mat4.create();\r\n    return gl_matrix_1.mat4.identity(mat);\r\n};\r\nMatrix4x4.rts = (rotation, translation, scale) => {\r\n    const m = exports.mat4.identity();\r\n    gl_matrix_1.mat4.fromRotationTranslationScale(m, rotation, translation, scale);\r\n    return m;\r\n};\r\nMatrix4x4.mul = ((out, a, b) => {\r\n    if (!b) {\r\n        b = a;\r\n        a = out;\r\n        out = gl_matrix_1.mat4.create();\r\n    }\r\n    return gl_matrix_1.mat4.mul(out, a, b);\r\n});\r\nexports.mat4 = Matrix4x4;\r\n//# sourceMappingURL=mat4.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst gl_matrix_1 = require(\"gl-matrix\");\r\nfunction Quaternion() {\r\n    const quat = gl_matrix_1.quat.create();\r\n    return quat;\r\n}\r\nexports.Quaternion = Quaternion;\r\nQuaternion.identity = () => {\r\n    const quat = gl_matrix_1.quat.create();\r\n    gl_matrix_1.quat.identity(quat);\r\n    return quat;\r\n};\r\n/**\r\n * @param axis - Axis to rotate around.\r\n * @param rad - Rotation angle in radians\r\n */\r\nQuaternion.axis = (axis, rad) => {\r\n    const quat = gl_matrix_1.quat.create();\r\n    gl_matrix_1.quat.setAxisAngle(quat, axis, rad);\r\n};\r\nexports.quat = Quaternion;\r\n//# sourceMappingURL=quat.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst material_1 = require(\"./material\");\r\n//# sourceMappingURL=material-type.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst vec3_1 = require(\"../types/vec3\");\r\nconst vec2_1 = require(\"../types/vec2\");\r\nconst color_1 = require(\"../types/color\");\r\nconst global_1 = require(\"./global\");\r\nconst util_1 = require(\"../utils/util\");\r\nconst math_1 = require(\"../types/math\");\r\nclass Mesh {\r\n    constructor(gl = global_1.GL()) {\r\n        var _a, _b;\r\n        this._verts = [];\r\n        this._triangles = [];\r\n        this._uvs = [];\r\n        this._colors = [];\r\n        this._normals = [];\r\n        this.dirty = true;\r\n        this.uploaded = false;\r\n        this.vertices = new Float32Array(0);\r\n        this.indices = new Uint32Array(0);\r\n        this.gl = gl;\r\n        this.VBO = (_a = gl.createBuffer(), (_a !== null && _a !== void 0 ? _a : util_1.panic(\"Failed to create vertex buffer.\")));\r\n        this.EBO = (_b = gl.createBuffer(), (_b !== null && _b !== void 0 ? _b : util_1.panic(\"Failed to create element buffer.\")));\r\n    }\r\n    get verts() { return this._verts; }\r\n    set verts(verts) {\r\n        this._verts = verts;\r\n        this.dirty = true;\r\n    }\r\n    get triangles() { return this._triangles; }\r\n    set triangles(triangles) {\r\n        this._triangles = triangles;\r\n        this.dirty = true;\r\n    }\r\n    get uvs() { return this._uvs; }\r\n    set uvs(uvs) {\r\n        this._uvs = uvs;\r\n        this.dirty = true;\r\n    }\r\n    get colors() { return this._colors; }\r\n    set colors(colors) {\r\n        this._colors = colors;\r\n        this.dirty = true;\r\n    }\r\n    get normals() { return this._normals; }\r\n    set normals(normals) {\r\n        this._normals = normals;\r\n        this.dirty = true;\r\n    }\r\n    clear() {\r\n        this.verts = [];\r\n        this.uvs = [];\r\n        this.triangles = [];\r\n        this.colors = [];\r\n        this.normals = [];\r\n    }\r\n    // https://schemingdeveloper.com/2014/10/17/better-method-recalculate-normals-unity/\r\n    calculateNormals(angleThreshold = 0) {\r\n        if (this.triangles.length % 3 !== 0)\r\n            throw new Error(\"Invalid triangles.\");\r\n        this.normals = util_1.fillArray(() => vec3_1.vec3(0, 0, 0), this.verts.length);\r\n        for (let i = 0; i < this.triangles.length; i += 3) {\r\n            const a = this.verts[this.triangles[i]];\r\n            const b = this.verts[this.triangles[i + 1]];\r\n            const c = this.verts[this.triangles[i + 2]];\r\n            const u = math_1.minus(b, a);\r\n            const v = math_1.minus(c, a);\r\n            const normal = math_1.cross(u, v).normalise();\r\n            this.normals[this.triangles[i]].plus(normal);\r\n        }\r\n        for (let i = 0; i < this.normals.length; i++)\r\n            this.normals[i] = this.normals[i].normalise();\r\n    }\r\n    update() {\r\n        if (this.dirty) {\r\n            if (this.triangles.length % 3 !== 0)\r\n                throw new Error(\"Invalid triangles.\");\r\n            if (this.colors.length !== this.verts.length)\r\n                this.colors = [...this.colors, ...util_1.fillArray(color_1.Color.white, this.verts.length - this.colors.length)];\r\n            if (this.uvs.length !== this.verts.length)\r\n                this.uvs = [...this.uvs, ...util_1.fillArray(vec2_1.vec2(0, 0), this.verts.length - this.uvs.length)];\r\n            if (this.normals.length !== this.verts.length)\r\n                this.normals = [...this.normals, ...util_1.fillArray(vec3_1.vec3(0, 0, 0), this.verts.length - this.normals.length)];\r\n            this.vertices = new Float32Array(this.verts.flatMap((vert, idx) => [\r\n                ...vert,\r\n                ...this.colors[idx],\r\n                ...this.uvs[idx],\r\n                ...this.normals[idx]\r\n            ]));\r\n            if (this.vertices.length != this.verts.length * 12)\r\n                throw new Error(\"Buffer with invalid length.\");\r\n            this.indices = new Uint32Array(this.triangles.flat());\r\n            this.dirty = false;\r\n            this.uploaded = false;\r\n        }\r\n    }\r\n    setup(gl) {\r\n        this.update();\r\n        if (!this.uploaded) {\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, this.VBO);\r\n            gl.bufferData(gl.ARRAY_BUFFER, this.vertices, gl.STATIC_DRAW);\r\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.EBO);\r\n            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, this.indices, gl.STATIC_DRAW);\r\n            this.uploaded = true;\r\n        }\r\n        return [this.VBO, this.EBO];\r\n    }\r\n    bind(shader, gl) {\r\n        this.setup(gl);\r\n        const attributes = shader.attributes;\r\n        // Setup VAO\r\n        const stride = 12 * 4;\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.VBO);\r\n        // vert: vec3\r\n        if (attributes.vert >= 0) {\r\n            gl.vertexAttribPointer(attributes.vert, 3, gl.FLOAT, false, stride, 0);\r\n            gl.enableVertexAttribArray(attributes.vert);\r\n        }\r\n        // color: vec4\r\n        if (attributes.color >= 0) {\r\n            gl.vertexAttribPointer(attributes.color, 4, gl.FLOAT, false, stride, 3 * 4);\r\n            gl.enableVertexAttribArray(attributes.color);\r\n        }\r\n        // uv: vec2\r\n        if (attributes.uv >= 0) {\r\n            gl.vertexAttribPointer(attributes.uv, 2, gl.FLOAT, false, stride, 7 * 4);\r\n            gl.enableVertexAttribArray(attributes.uv);\r\n        }\r\n        // normal: vec3\r\n        if (attributes.normal >= 0) {\r\n            gl.vertexAttribPointer(attributes.normal, 3, gl.FLOAT, true, stride, 9 * 4);\r\n            gl.enableVertexAttribArray(attributes.uv);\r\n        }\r\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, this.EBO);\r\n    }\r\n}\r\nexports.Mesh = Mesh;\r\n//# sourceMappingURL=mesh.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst global_1 = require(\"./global\");\r\nconst util_1 = require(\"../utils/util\");\r\nconst FrameBufferAttachment = {\r\n    canvasOutput: { tex: null, attachPoint: WebGL2RenderingContext.BACK },\r\n    fromRenderTexture: (rt) => ({ tex: rt.glTex })\r\n};\r\nclass RenderTarget {\r\n    constructor(width = 0, height = 0, ctx = global_1.GlobalContext()) {\r\n        var _a;\r\n        this.colorAttachments = [];\r\n        this.depthAttachment = FrameBufferAttachment.canvasOutput;\r\n        this.isCanvasTarget = true;\r\n        this.width = width;\r\n        this.height = height;\r\n        if (!ctx)\r\n            this.frameBuffer = null;\r\n        else\r\n            this.frameBuffer = (_a = ctx.gl.createFramebuffer(), (_a !== null && _a !== void 0 ? _a : util_1.panic(\"Failed to create frame buffer\")));\r\n    }\r\n    addColorAttachment(rt) {\r\n        if (rt === null) {\r\n            return;\r\n        }\r\n        this.isCanvasTarget = false;\r\n        if (this.width == 0 && this.height == 0) {\r\n            this.width = rt.width;\r\n            this.height = rt.height;\r\n        }\r\n        if (this.width != rt.width || this.height != rt.height)\r\n            throw new Error(\"Framebuffer attachments must in same resolution.\");\r\n        this.colorAttachments.push(FrameBufferAttachment.fromRenderTexture(rt));\r\n    }\r\n    setDepthAttachment(rt) {\r\n        var _a, _b;\r\n        if (this.width == 0 && this.height == 0) {\r\n            this.width = rt.width;\r\n            this.height = rt.height;\r\n        }\r\n        if (this.width != rt.width || this.height != rt.height)\r\n            throw new Error(\"Framebuffer attachments must in same resolution.\");\r\n        this.depthAttachment = { tex: (_b = (_a = rt) === null || _a === void 0 ? void 0 : _a.glTex, (_b !== null && _b !== void 0 ? _b : null)), attachPoint: WebGL2RenderingContext.DEPTH_ATTACHMENT };\r\n    }\r\n    bind(ctx = global_1.GlobalContext()) {\r\n        const gl = ctx.gl;\r\n        if (this.isCanvasTarget) {\r\n            gl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n            gl.viewport(0, 0, ctx.width, ctx.height);\r\n        }\r\n        else {\r\n            gl.bindFramebuffer(gl.FRAMEBUFFER, this.frameBuffer);\r\n            let attachIdx = 0;\r\n            for (let i = 0; i < this.colorAttachments.length; i++) {\r\n                if (this.colorAttachments[i].tex) {\r\n                    this.colorAttachments[i].attachPoint = gl.COLOR_ATTACHMENT0 + attachIdx++;\r\n                    gl.framebufferTexture2D(gl.FRAMEBUFFER, this.colorAttachments[i].attachPoint, gl.TEXTURE_2D, this.colorAttachments[i].tex, 0);\r\n                }\r\n            }\r\n            gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.TEXTURE_2D, this.depthAttachment.tex, 0);\r\n            gl.viewport(0, 0, this.width, this.height);\r\n            const buffers = this.colorAttachments.map(t => t.attachPoint);\r\n            gl.drawBuffers(buffers);\r\n        }\r\n    }\r\n    release(ctx = global_1.GlobalContext()) {\r\n        if (this.isCanvasTarget)\r\n            return;\r\n        const gl = ctx.gl;\r\n        gl.deleteFramebuffer(this.frameBuffer);\r\n    }\r\n}\r\nexports.RenderTarget = RenderTarget;\r\nRenderTarget.CanvasTarget = Object.freeze(new RenderTarget());\r\n//# sourceMappingURL=render-target.js.map","export default \"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\nin vec3 aPos;\\r\\nin vec4 aColor;\\r\\nin vec2 aUV;\\r\\nin vec3 aNormal;\\r\\n\\r\\nuniform mat4 uTransformM;\\r\\nuniform mat4 uTransformVP;\\r\\nuniform mat4 uTransformMVP;\\r\\n\\r\\nuniform vec4 uColor;\\r\\nuniform vec2 uFlipUV;\\r\\n\\r\\nout vec4 vColor;\\r\\nout vec4 vPos;\\r\\nout vec2 vUV;\\r\\nout vec3 vNormal;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    gl_Position = uTransformMVP * vec4(aPos, 1);\\r\\n    vColor = aColor * uColor;\\r\\n    vUV = (uFlipUV * (vec2(1) - aUV)) + ((vec2(1) - uFlipUV) * aUV);\\r\\n    vNormal = aNormal;\\r\\n}\";","\"use strict\";\r\n// export * from \"./core/mesh\";\r\n// export * from \"./core/material\";\r\n// export * from \"./core/builtin-asset\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// export * from \"./types/vec2\";\r\n// export * from \"./types/vec3\";\r\n// export * from \"./types/vec4\";\r\n// export * from \"./types/color\";\r\n// export * from \"./types/math\";\r\n// export * from \"./types/mat4\";\r\n// export * from \"./core/shader\";\r\n__export(require(\"./types/types\"));\r\n__export(require(\"./core/core\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./vec2\"));\r\n__export(require(\"./vec3\"));\r\n__export(require(\"./vec4\"));\r\n__export(require(\"./color\"));\r\n__export(require(\"./math\"));\r\n__export(require(\"./mat4\"));\r\n__export(require(\"./quat\"));\r\n//# sourceMappingURL=types.js.map","\"use strict\";\r\nfunction __export(m) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n__export(require(\"./material\"));\r\n__export(require(\"./material-type\"));\r\n__export(require(\"./mesh\"));\r\n__export(require(\"./renderer\"));\r\n__export(require(\"./shader\"));\r\n//# sourceMappingURL=core.js.map","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst util_1 = require(\"../utils/util\");\r\nconst global_1 = require(\"./global\");\r\nconst vec3_1 = require(\"../types/vec3\");\r\nconst color_1 = require(\"../types/color\");\r\nconst mat4_1 = require(\"../types/mat4\");\r\nconst render_target_1 = require(\"./render-target\");\r\nconst texture_1 = require(\"./texture\");\r\nconst vec2_1 = require(\"../types/vec2\");\r\nconst assets_1 = require(\"../builtin-assets/assets\");\r\nconst quat_1 = require(\"../types/quat\");\r\nclass ZograRenderer {\r\n    constructor(canvasElement, width, height) {\r\n        this.viewProjectionMatrix = mat4_1.mat4.identity();\r\n        this.target = render_target_1.RenderTarget.CanvasTarget;\r\n        this.globalUniforms = new Map();\r\n        this.globalTextures = new Map();\r\n        this.canvas = canvasElement;\r\n        this.width = width === undefined ? canvasElement.width : width;\r\n        this.height = height === undefined ? canvasElement.height : height;\r\n        this.canvas.width = this.width;\r\n        this.canvas.height = this.height;\r\n        this.gl = util_1.panicNull(this.canvas.getContext(\"webgl2\"), \"WebGL2 is not support on current device.\");\r\n        this.assets = new assets_1.BuiltinAssets(this.gl);\r\n        this.ctx = {\r\n            gl: this.gl,\r\n            width: this.width,\r\n            height: this.height,\r\n            assets: this.assets,\r\n        };\r\n        if (!global_1.GlobalContext())\r\n            this.use();\r\n    }\r\n    use() {\r\n        global_1.setGlobalContext(this.ctx);\r\n    }\r\n    setViewProjection(mat) {\r\n        this.viewProjectionMatrix = mat;\r\n    }\r\n    setRenderTarget(colorAttachments, depthAttachment) {\r\n        if (colorAttachments instanceof render_target_1.RenderTarget) {\r\n            if (this.target !== colorAttachments)\r\n                this.target.release();\r\n            this.target = colorAttachments;\r\n        }\r\n        else if (colorAttachments instanceof Array) {\r\n            this.target.release();\r\n            this.target = new render_target_1.RenderTarget(colorAttachments[0].width, colorAttachments[0].height, this.ctx);\r\n            for (let i = 0; i < colorAttachments.length; i++)\r\n                this.target.addColorAttachment(colorAttachments[i]);\r\n        }\r\n        else if (colorAttachments instanceof texture_1.RenderTexture) {\r\n            this.target.release();\r\n            this.target = new render_target_1.RenderTarget(colorAttachments.width, colorAttachments.height, this.ctx);\r\n            this.target.addColorAttachment(colorAttachments);\r\n        }\r\n        if (depthAttachment)\r\n            this.target.setDepthAttachment(depthAttachment);\r\n        this.target.bind(this.ctx);\r\n    }\r\n    clear(color = color_1.Color.black, clearDepth = true) {\r\n        this.gl.clearColor(color.r, color.g, color.b, color.a);\r\n        this.gl.clear(this.gl.COLOR_BUFFER_BIT | (clearDepth ? this.gl.DEPTH_BUFFER_BIT : 0));\r\n    }\r\n    blit(src, dst, material = this.assets.materials.blitCopy) {\r\n        if (dst instanceof texture_1.RenderTexture) {\r\n            const target = new render_target_1.RenderTarget(dst.width, dst.height, this.ctx);\r\n            target.addColorAttachment(dst);\r\n            dst = target;\r\n        }\r\n        else if (dst instanceof Array) {\r\n            const target = new render_target_1.RenderTarget(0, 0, this.ctx);\r\n            for (let i = 0; i < dst.length; i++) {\r\n                target.addColorAttachment(dst[i]);\r\n            }\r\n            dst = target;\r\n        }\r\n        const prevVP = this.viewProjectionMatrix;\r\n        const prevTarget = this.target;\r\n        this.target = dst;\r\n        this.viewProjectionMatrix = mat4_1.mat4.identity();\r\n        this.setGlobalTexture(\"uMainTex\", src);\r\n        this.drawMesh(this.assets.meshes.quad, mat4_1.mat4.rts(quat_1.quat.identity(), vec3_1.vec3(0, 0, 0), vec3_1.vec3(2, 2, 1)), material);\r\n        this.unsetGlobalTexture(\"uMainTex\");\r\n        this.target = prevTarget;\r\n        this.viewProjectionMatrix = prevVP;\r\n    }\r\n    drawMesh(mesh, transform, mateiral) {\r\n        const gl = this.gl;\r\n        const data = {\r\n            assets: this.assets,\r\n            gl: gl,\r\n            nextTextureUnit: 0,\r\n            size: vec2_1.vec2(this.width, this.height),\r\n        };\r\n        this.target.bind(this.ctx);\r\n        mateiral.setup(data);\r\n        const program = mateiral.shader.program;\r\n        // Setup transforms\r\n        const mvp = mat4_1.mat4.mul(transform, this.viewProjectionMatrix);\r\n        mateiral.shader.builtinUniformLocations.matM && gl.uniformMatrix4fv(mateiral.shader.builtinUniformLocations.matM, false, transform);\r\n        mateiral.shader.builtinUniformLocations.matVP && gl.uniformMatrix4fv(mateiral.shader.builtinUniformLocations.matVP, false, this.viewProjectionMatrix);\r\n        mateiral.shader.builtinUniformLocations.matMVP && gl.uniformMatrix4fv(mateiral.shader.builtinUniformLocations.matMVP, false, mvp);\r\n        // Setup global uniforms\r\n        {\r\n            for (const val of this.globalUniforms.values()) {\r\n                const location = gl.getUniformLocation(program, val.name);\r\n                if (!location)\r\n                    continue;\r\n                switch (val.type) {\r\n                    case \"int\":\r\n                        gl.uniform1i(location, val.value);\r\n                        break;\r\n                    case \"float\":\r\n                        gl.uniform1f(location, val.value);\r\n                        break;\r\n                    case \"vec2\":\r\n                        gl.uniform2fv(location, val.value, 0, 2);\r\n                        break;\r\n                    case \"vec3\":\r\n                        gl.uniform3fv(location, val.value, 0, 3);\r\n                        break;\r\n                    case \"vec4\":\r\n                        gl.uniform4fv(location, val.value, 0, 4);\r\n                        break;\r\n                    case \"color\":\r\n                        gl.uniform4fv(location, val.value, 0, 4);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n        // Setup global textures\r\n        {\r\n            for (const tex of this.globalTextures.values()) {\r\n                const location = gl.getUniformLocation(program, tex.name);\r\n                if (!location)\r\n                    continue;\r\n                tex.texture.bind(location, data);\r\n            }\r\n        }\r\n        mesh.setup(gl);\r\n        mesh.bind(mateiral.shader, gl);\r\n        gl.drawElements(gl.TRIANGLE_STRIP, mesh.triangles.length, gl.UNSIGNED_INT, 0);\r\n    }\r\n    setGlobalUniform(name, type, value) {\r\n        this.globalUniforms.set(name, {\r\n            name: name,\r\n            type: type,\r\n            value: value,\r\n        });\r\n    }\r\n    unsetGlobalUniform(name) {\r\n        this.globalUniforms.delete(name);\r\n    }\r\n    setGlobalTexture(name, texture) {\r\n        this.globalTextures.set(name, {\r\n            name: name,\r\n            texture: texture,\r\n        });\r\n    }\r\n    unsetGlobalTexture(name) {\r\n        this.globalTextures.delete(name);\r\n    }\r\n}\r\nexports.ZograRenderer = ZograRenderer;\r\n//# sourceMappingURL=renderer.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst materials_1 = require(\"./materials\");\r\nconst shaders_1 = require(\"./shaders\");\r\nconst textures_1 = require(\"./textures\");\r\nconst mesh_1 = require(\"./mesh\");\r\nclass BuiltinAssets {\r\n    constructor(gl) {\r\n        let ctx = {\r\n            assets: this,\r\n            gl: gl,\r\n            width: 0,\r\n            height: 0,\r\n        };\r\n        this.gl = gl;\r\n        this.BuiltinUniforms = shaders_1.BuiltinUniforms;\r\n        this.shaderSources = shaders_1.BuiltinShaderSources;\r\n        this.shaders = shaders_1.compileBuiltinShaders(gl);\r\n        this.meshes = mesh_1.createBuiltinMesh(gl);\r\n        this.DefaultTexture = textures_1.createDefaultTexture(ctx);\r\n        this.types = materials_1.createBuiltinMaterialTypes(gl, this.DefaultTexture);\r\n        this.materials = materials_1.createBuiltinMaterial(gl, this.types);\r\n    }\r\n}\r\nexports.BuiltinAssets = BuiltinAssets;\r\n//# sourceMappingURL=assets.js.map","\"use strict\";\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shader_1 = require(\"../core/shader\");\r\nconst shaders_1 = require(\"./shaders\");\r\nconst material_1 = require(\"../core/material\");\r\nconst color_1 = require(\"../types/color\");\r\nconst material_type_1 = require(\"../core/material-type\");\r\nconst vec2_1 = require(\"../types/vec2\");\r\nfunction createDefaultMaterialType(gl, defaultTex) {\r\n    const shader = new shader_1.Shader(shaders_1.BuiltinShaderSources.DefaultVert, shaders_1.BuiltinShaderSources.DefaultFrag, shaders_1.BuiltinShaderSources.DefaultShaderAttributes, gl);\r\n    let DefaultMaterial = class DefaultMaterial extends material_1.MaterialFromShader(shader) {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.color = color_1.Color.white;\r\n            this.mainTexture = defaultTex;\r\n        }\r\n    };\r\n    __decorate([\r\n        material_1.shaderProp(\"uColor\", \"color\")\r\n    ], DefaultMaterial.prototype, \"color\", void 0);\r\n    __decorate([\r\n        material_1.shaderProp(\"uMainTex,\", \"tex2d\")\r\n    ], DefaultMaterial.prototype, \"mainTexture\", void 0);\r\n    DefaultMaterial = __decorate([\r\n        material_1.materialDefine\r\n    ], DefaultMaterial);\r\n    ;\r\n    return DefaultMaterial;\r\n}\r\nexports.createDefaultMaterialType = createDefaultMaterialType;\r\nfunction createBuiltinMaterial(gl, types) {\r\n    return {\r\n        default: new types.DefaultMaterial(gl),\r\n        blitCopy: new types.BlitCopy(gl),\r\n    };\r\n}\r\nexports.createBuiltinMaterial = createBuiltinMaterial;\r\nfunction createBuiltinMaterialTypes(gl, defaultTex) {\r\n    let DefaultMaterial = class DefaultMaterial extends material_1.MaterialFromShader(new shader_1.Shader(shaders_1.BuiltinShaderSources.DefaultVert, shaders_1.BuiltinShaderSources.DefaultFrag, shaders_1.BuiltinShaderSources.DefaultShaderAttributes, gl)) {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.color = color_1.Color.white;\r\n            this.mainTexture = defaultTex;\r\n        }\r\n    };\r\n    __decorate([\r\n        material_1.shaderProp(\"uColor\", \"color\")\r\n    ], DefaultMaterial.prototype, \"color\", void 0);\r\n    __decorate([\r\n        material_1.shaderProp(\"uMainTex,\", \"tex2d\")\r\n    ], DefaultMaterial.prototype, \"mainTexture\", void 0);\r\n    DefaultMaterial = __decorate([\r\n        material_1.materialDefine\r\n    ], DefaultMaterial);\r\n    let BlitCopy = class BlitCopy extends material_1.MaterialFromShader(new shader_1.Shader(shaders_1.BuiltinShaderSources.DefaultVert, shaders_1.BuiltinShaderSources.BlitCopyFrag, shaders_1.BuiltinShaderSources.DefaultShaderAttributes, gl)) {\r\n        constructor() {\r\n            super(...arguments);\r\n            this.flip = vec2_1.vec2(0, 0);\r\n        }\r\n    };\r\n    __decorate([\r\n        material_1.shaderProp(\"uFlip\", \"vec2\")\r\n    ], BlitCopy.prototype, \"flip\", void 0);\r\n    BlitCopy = __decorate([\r\n        material_1.materialDefine\r\n    ], BlitCopy);\r\n    return {\r\n        DefaultMaterial: DefaultMaterial,\r\n        BlitCopy: BlitCopy,\r\n    };\r\n}\r\nexports.createBuiltinMaterialTypes = createBuiltinMaterialTypes;\r\n//# sourceMappingURL=materials.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst util_1 = require(\"../utils/util\");\r\nconst texture_1 = require(\"../core/texture\");\r\nconst texture_format_1 = require(\"../core/texture-format\");\r\nfunction createDefaultTexture(context) {\r\n    var _a;\r\n    const size = 64;\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = canvas.height = size;\r\n    const ctx = (_a = canvas.getContext(\"2d\"), (_a !== null && _a !== void 0 ? _a : util_1.panic(\"Failed to create default texture.\")));\r\n    ctx.fillStyle = \"black\";\r\n    ctx.fillRect(0, 0, size, size);\r\n    ctx.fillStyle = \"cyan\";\r\n    ctx.fillRect(0, 0, size / 2, size / 2);\r\n    ctx.fillRect(size / 2, size / 2, size / 2, size / 2);\r\n    const texture = new texture_1.Texture2D(size, size, texture_format_1.TextureFormat.RGBA, texture_1.FilterMode.Linear, context);\r\n    texture.setData(canvas);\r\n    return texture;\r\n}\r\nexports.createDefaultTexture = createDefaultTexture;\r\n//# sourceMappingURL=textures.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst mesh_1 = require(\"../core/mesh\");\r\nconst vec3_1 = require(\"../types/vec3\");\r\nconst vec2_1 = require(\"../types/vec2\");\r\nfunction createBuiltinMesh(gl) {\r\n    const quad = new mesh_1.Mesh(gl);\r\n    quad.verts = [\r\n        vec3_1.vec3(-.5, -.5, 0),\r\n        vec3_1.vec3(.5, -.5, 0),\r\n        vec3_1.vec3(.5, .5, 0),\r\n        vec3_1.vec3(-.5, .5, 0),\r\n    ];\r\n    quad.triangles = [\r\n        0, 1, 3,\r\n        1, 2, 3,\r\n    ];\r\n    quad.uvs = [\r\n        vec2_1.vec2(0, 0),\r\n        vec2_1.vec2(1, 0),\r\n        vec2_1.vec2(1, 1),\r\n        vec2_1.vec2(0, 1)\r\n    ];\r\n    quad.calculateNormals();\r\n    const screenQuad = new mesh_1.Mesh(gl);\r\n    screenQuad.verts = [\r\n        vec3_1.vec3(-1, -1, 0),\r\n        vec3_1.vec3(1, -1, 0),\r\n        vec3_1.vec3(1, 1, 0),\r\n        vec3_1.vec3(-1, 1, 0),\r\n    ];\r\n    screenQuad.triangles = [\r\n        0, 1, 3,\r\n        1, 2, 3,\r\n    ];\r\n    screenQuad.uvs = [\r\n        vec2_1.vec2(0, 0),\r\n        vec2_1.vec2(1, 0),\r\n        vec2_1.vec2(1, 1),\r\n        vec2_1.vec2(0, 1)\r\n    ];\r\n    screenQuad.calculateNormals();\r\n    return {\r\n        quad: quad,\r\n        screenQuad: screenQuad\r\n    };\r\n}\r\nexports.createBuiltinMesh = createBuiltinMesh;\r\n//# sourceMappingURL=mesh.js.map","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./base.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(module.id, content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = {};\n\nfunction modulesToDom(moduleId, list, options) {\n  for (var i = 0; i < list.length; i++) {\n    var part = {\n      css: list[i][1],\n      media: list[i][2],\n      sourceMap: list[i][3]\n    };\n\n    if (stylesInDom[moduleId][i]) {\n      stylesInDom[moduleId][i](part);\n    } else {\n      stylesInDom[moduleId].push(addStyle(part, options));\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (moduleId, list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  moduleId = options.base ? moduleId + options.base : moduleId;\n  list = list || [];\n\n  if (!stylesInDom[moduleId]) {\n    stylesInDom[moduleId] = [];\n  }\n\n  modulesToDom(moduleId, list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    if (!stylesInDom[moduleId]) {\n      stylesInDom[moduleId] = [];\n    }\n\n    modulesToDom(moduleId, newList, options);\n\n    for (var j = newList.length; j < stylesInDom[moduleId].length; j++) {\n      stylesInDom[moduleId][j]();\n    }\n\n    stylesInDom[moduleId].length = newList.length;\n\n    if (stylesInDom[moduleId].length === 0) {\n      delete stylesInDom[moduleId];\n    }\n  };\n};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"\\r\\nbody {\\r\\n    margin: 0;\\r\\n    padding: 0;\\r\\n    width: 100vw;\\r\\n    height: 100vh;\\r\\n    display: flex;\\r\\n    flex-flow: column nowrap;\\r\\n    align-items: center;\\r\\n    justify-content: center;\\r\\n    background-color: #EEE;\\r\\n    font-family: 'Open Sans', Roboto, Segoe UI, Microsoft Yahei UI, Tahoma, Geneva, Verdana, sans-serif;\\r\\n\\r\\n    background-position: 0px 0px,\\r\\n    16px 16px;\\r\\n    background-size: 32px 32px;\\r\\n    background-image: linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%, #eee 100%),\\r\\n    linear-gradient(45deg, #eee 25%, white 25%, white 75%, #eee 75%, #eee 100%);\\r\\n\\r\\n}\\r\\n\\r\\n#root {\\r\\n    max-width: 100%;\\r\\n    max-height: 100%;\\r\\n}\\r\\n\\r\\n#canvas {\\r\\n    max-width: 100%;\\r\\n    max-height: 100%;\\r\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    for (var i = 0; i < modules.length; i++) {\n      var item = [].concat(modules[i]);\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","import { ZograRenderer, Mesh, vec3, vec2, vec4, mat4, minus, plus, MaterialFromShader, Shader, Material, Color, rgba } from \"zogra-renderer\";\r\nimport vert from \"!!raw-loader!./shader/default-vert.glsl\";\r\nimport frag from \"!!raw-loader!./shader/life-game.glsl\";\r\nimport blitFrag from \"!!raw-loader!./shader/life-game-render.glsl\";\r\nimport \"./css/base.css\";\r\nimport seedTest from \"./asset/img/dual-gun.png\";\r\nimport { RenderTexture, FilterMode, WrapMode, Texture2D } from \"../../dist/core/texture\";\r\nimport { TextureFormat } from \"../../dist/core/texture-format\";\r\nimport { RenderTarget } from \"../../dist/core/render-target\";\r\nimport { loadImage } from \"./misc/util\";\r\n\r\nconst Width = 2446;\r\nconst Height = 1840;\r\nconst BlockSize = 2;\r\nconst FPS = parseInt((/fps=(\\d+)/.exec(window.location.search) ?? [\"\", \"60\"])[1]);\r\nconst Offset = vec2(650, 850);\r\n\r\nconst canvas = document.querySelector(\"#canvas\") as HTMLCanvasElement;\r\nconst renderer = new ZograRenderer(canvas, window.innerWidth, window.innerHeight);\r\n\r\nclass LifeGameMaterial extends MaterialFromShader(new Shader(vert, frag))\r\n{\r\n}\r\nconst material = new LifeGameMaterial();\r\nconst blitMat = new Material(new Shader(vert, blitFrag));\r\nblitMat.setProp(\"uBlockSize\", \"float\", BlockSize);\r\nblitMat.setProp(\"uTexelSize\", \"vec4\", vec4(Width, Height, 1 / Width, 1 / Height));\r\nblitMat.setProp(\"uOffset\", \"vec2\", Offset);\r\nblitMat.setProp(\"uSize\", \"vec3\", vec3(window.innerWidth, window.innerHeight, window.innerWidth / window.innerHeight));\r\nblitMat.setProp(\"uBG\", \"color\", Color.white);\r\nblitMat.setProp(\"uFG\", \"color\", rgba(0, 0, 0, 0.5));\r\n\r\nrenderer.clear();\r\n\r\nconst rts = [\r\n    new RenderTexture(Width, Height, false, TextureFormat.RGBA, FilterMode.Nearest),\r\n    new RenderTexture(Width, Height, false, TextureFormat.RGBA, FilterMode.Nearest),\r\n] as [RenderTexture, RenderTexture];\r\nrts[0].wrapMode = WrapMode.Clamp;\r\nrts[1].wrapMode = WrapMode.Clamp;\r\nrts[0].update();\r\nrts[1].update();\r\nconst backBuffer = new RenderTexture(Width, Height, false);\r\nconst mesh = new Mesh();\r\nmesh.verts = [\r\n    vec3(-1, -1, 0),\r\n    vec3(1, -1, 0),\r\n    vec3(1, 1, 0),\r\n    vec3(-1, 1, 0),\r\n];\r\nmesh.triangles = [\r\n    0, 1, 3,\r\n    1, 2, 3,\r\n];\r\nmesh.uvs = [\r\n    vec2(0, 0),\r\n    vec2(1, 0),\r\n    vec2(1, 1),\r\n    vec2(0, 1)\r\n];\r\nmesh.calculateNormals();\r\n\r\n\r\n(async () =>\r\n{\r\n    let previousTime = 0;\r\n    let startDelay = 0;\r\n\r\n    const update = await lifeGame();\r\n\r\n    const updateFrame = (delay: number) =>\r\n    {\r\n        if (previousTime === 0)\r\n        {\r\n            previousTime = delay;\r\n            startDelay = delay;\r\n        }\r\n        \r\n        const dt = (delay - previousTime) / 1000;\r\n        previousTime = delay;\r\n\r\n        update(dt, (delay - startDelay) / 1000);\r\n\r\n        requestAnimationFrame(updateFrame);\r\n    };\r\n    requestAnimationFrame(updateFrame);\r\n})();\r\n\r\nasync function lifeGame()\r\n{\r\n    let nextUpdate = 1 / FPS;\r\n    let frameIdx = 0;\r\n\r\n    const initial = new ImageData(Width, Height);\r\n    const M = Width * Height;\r\n    const N = 0.8 * M;\r\n    for (let i = 0; i < N; i++)\r\n    {\r\n        const idx = Math.floor(Math.random() * M) * 4;\r\n        initial.data[idx] = 255;\r\n    }\r\n\r\n    const seed = await loadImage(seedTest);\r\n    rts[0].setData(seed);\r\n    \r\n    setInterval(() =>\r\n    {\r\n        const src = rts[frameIdx % 2];\r\n        const dst = rts[(frameIdx + 1) % 2];\r\n        frameIdx++;\r\n\r\n        renderer.setGlobalTexture(\"uLastFrame\", src);\r\n        renderer.setGlobalUniform(\"uSize\", \"vec4\", vec4(Width, Height, 1 / Width, 1 / Height));\r\n\r\n        renderer.setRenderTarget(dst);\r\n        renderer.drawMesh(mesh, mat4.identity(), material);\r\n    }, 1000 / FPS);\r\n\r\n    return (dt: number, time: number) =>\r\n    {\r\n\r\n        renderer.blit(rts[frameIdx % 2], RenderTarget.CanvasTarget, blitMat);\r\n    };\r\n}\r\nwindow.addEventListener(\"mousemove\", (e) =>\r\n{\r\n    const pos = vec2(e.clientX, e.clientY);\r\n    const center = vec2(window.innerWidth / 2, window.innerHeight / 2);\r\n    const d = minus(pos, center);\r\n    d.mul(vec2(-.2, .2));\r\n    blitMat.setProp(\"uOffset\", \"vec2\", plus(Offset, d));\r\n});","export default \"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\nin vec4 vColor;\\r\\nin vec4 vPos;\\r\\nin vec2 vUV;\\r\\n\\r\\nuniform vec4 uSize;\\r\\nuniform sampler2D uLastFrame;\\r\\n\\r\\nlayout (location = 0) out vec4 nextFrame;\\r\\n//layout (location = 1) out vec4 fragColor;\\r\\n\\r\\nfloat clampTex(vec2 pos)\\r\\n{\\r\\n    float col = texture(uLastFrame, pos).r;\\r\\n    vec2 clmp = step(vec2(0), pos) * (vec2(1) - step(vec2(1), pos));\\r\\n    return clmp.x * clmp.y * col;\\r\\n}\\r\\n\\r\\nint neighbors(vec2 pos)\\r\\n{\\r\\n    int n = 0;\\r\\n    vec3 delta = vec3(-1, 0, 1);\\r\\n    n += int(step(.5, clampTex(pos + uSize.zw * delta.xx)));\\r\\n    n += int(step(.5, clampTex(pos + uSize.zw * delta.xy)));\\r\\n    n += int(step(.5, clampTex(pos + uSize.zw * delta.xz)));\\r\\n    n += int(step(.5, clampTex(pos + uSize.zw * delta.yx)));\\r\\n    n += int(step(.5, clampTex(pos + uSize.zw * delta.yz)));\\r\\n    n += int(step(.5, clampTex(pos + uSize.zw * delta.zx)));\\r\\n    n += int(step(.5, clampTex(pos + uSize.zw * delta.zy)));\\r\\n    n += int(step(.5, clampTex(pos + uSize.zw * delta.zz)));\\r\\n    return n;\\r\\n}\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    float current = step(.5, texture(uLastFrame, vUV).r);\\r\\n    int n = neighbors(vUV);\\r\\n    if(current == 1.0)\\r\\n    {\\r\\n        if(n < 2)\\r\\n            nextFrame = vec4(0);\\r\\n        else if (n > 3)\\r\\n            nextFrame = vec4(0);\\r\\n        else\\r\\n            nextFrame = vec4(current);\\r\\n    }\\r\\n    else\\r\\n    {\\r\\n        if(n == 3)\\r\\n            nextFrame = vec4(1);\\r\\n    }\\r\\n    //nextFrame = vec4(1.0 - current);\\r\\n    // vec2 pos = vUV;\\r\\n    // vec3 color = vec3(texture(uLastFrame, vUV).rrr);\\r\\n    // color = vec3(vUV, 0);\\r\\n    // fragColor = vec4(current, current, current, 1);\\r\\n}\";","export default \"#version 300 es\\r\\nprecision mediump float;\\r\\n\\r\\nin vec4 vColor;\\r\\nin vec4 vPos;\\r\\nin vec2 vUV;\\r\\nin vec3 vNormal;\\r\\n\\r\\nuniform sampler2D uMainTex;\\r\\nuniform vec4 uTexelSize;\\r\\nuniform float uBlockSize;\\r\\nuniform vec2 uOffset;\\r\\nuniform vec3 uSize;\\r\\nuniform vec4 uBG;\\r\\nuniform vec4 uFG;\\r\\n\\r\\nout vec4 fragColor;\\r\\n\\r\\nvoid main()\\r\\n{\\r\\n    vec2 uv = uOffset * uTexelSize.zw + vUV * uSize.xy / uBlockSize * uTexelSize.zw;\\r\\n    float alpha = texture(uMainTex, uv).r;\\r\\n    alpha *= uFG.a;\\r\\n\\r\\n    fragColor = vec4(uBG.rgb * vec3(1.0 - alpha) + uFG.rgb * vec3(alpha), uBG.a);\\r\\n}\";","export default __webpack_public_path__ + \"static/img/dual-gun.png\";","export async function loadImage(src: string)\r\n{\r\n    return new Promise<HTMLImageElement>((resolve, reject) =>\r\n    {\r\n        const img = new Image();\r\n        img.src = src;\r\n        if (img.complete)\r\n        {\r\n            resolve(img);\r\n        }\r\n        img.onload = () =>\r\n        {\r\n            resolve(img);\r\n        };\r\n        img.onerror = (event: Event | string, source?: string, lineno?: number, colno?: number, error?: Error) =>\r\n        {\r\n            reject(error);\r\n        };\r\n    });\r\n}"],"sourceRoot":""}